const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Dashboard-tIixPs7t.js","assets/geminiService-D8wDBU1b.js","assets/dollar-sign-B3iZyaPH.js","assets/trending-up-8AGp-h6J.js","assets/index-D9bIymTu.js","assets/POS-gbPPqNhN.js","assets/image-cwSoMCrk.js","assets/user-HDnhbkUj.js","assets/trash-2-CWghbrM1.js","assets/lock-Lk8TiKnC.js","assets/calendar-B99waHzC.js","assets/printer-ZvsUKVEs.js","assets/Inventory-CImh07qF.js","assets/csvService-CI8HPWGn.js","assets/plus-CScST_jR.js","assets/upload-DzICZbz7.js","assets/Login-DfxDZiJD.js","assets/Finance-CvPIZ0B3.js","assets/CRM-Gb6Z0Kq1.js","assets/Settings-Dp3bhZdN.js","assets/Reports-inYW9xvj.js"])))=>i.map(i=>d[i]);
var e=Object.defineProperty,t=Object.defineProperties,n=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,i=Object.getPrototypeOf,a=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,o=Reflect.get,l=(t,n,r)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r,u=(e,t)=>{for(var n in t||(t={}))a.call(t,n)&&l(e,n,t[n]);if(r)for(var n of r(t))s.call(t,n)&&l(e,n,t[n]);return e},c=(e,r)=>t(e,n(r)),d=(e,t)=>{var n={};for(var i in e)a.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&r)for(var i of r(e))t.indexOf(i)<0&&s.call(e,i)&&(n[i]=e[i]);return n},h=(e,t,n)=>o(i(e),n,t),f=(e,t,n)=>new Promise((r,i)=>{var a=e=>{try{o(n.next(e))}catch(t){i(t)}},s=e=>{try{o(n.throw(e))}catch(t){i(t)}},o=e=>e.done?r(e.value):Promise.resolve(e.value).then(a,s);o((n=n.apply(e,t)).next())});function p(e,t){for(var n=0;n<t.length;n++){const r=t[n];if("string"!=typeof r&&!Array.isArray(r))for(const t in r)if("default"!==t&&!(t in e)){const n=Object.getOwnPropertyDescriptor(r,t);n&&Object.defineProperty(e,t,n.get?n:{enumerable:!0,get:()=>r[t]})}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}function m(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var g,y,v={exports:{}},b={};var w,k,_=(y||(y=1,v.exports=function(){if(g)return b;g=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(t,n,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==n.key&&(i=""+n.key),"key"in n)for(var a in r={},n)"key"!==a&&(r[a]=n[a]);else r=n;return n=r.ref,{$$typeof:e,type:t,key:i,ref:void 0!==n?n:null,props:r}}return b.Fragment=t,b.jsx=n,b.jsxs=n,b}()),v.exports),S={exports:{}},E={};function x(){if(w)return E;w=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),c=Symbol.for("react.lazy"),d=Symbol.for("react.activity"),h=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||f}function y(){}function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||f}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var b=v.prototype=new y;b.constructor=v,p(b,g.prototype),b.isPureReactComponent=!0;var k=Array.isArray;function _(){}var S={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function T(t,n,r){var i=r.ref;return{$$typeof:e,type:t,key:n,ref:void 0!==i?i:null,props:r}}function C(t){return"object"==typeof t&&null!==t&&t.$$typeof===e}var O=/\/+/g;function N(e,t){return"object"==typeof e&&null!==e&&null!=e.key?(n=""+e.key,r={"=":"=0",":":"=2"},"$"+n.replace(/[=:]/g,function(e){return r[e]})):t.toString(36);var n,r}function R(n,r,i,a,s){var o=typeof n;"undefined"!==o&&"boolean"!==o||(n=null);var l,u,d=!1;if(null===n)d=!0;else switch(o){case"bigint":case"string":case"number":d=!0;break;case"object":switch(n.$$typeof){case e:case t:d=!0;break;case c:return R((d=n._init)(n._payload),r,i,a,s)}}if(d)return s=s(n),d=""===a?"."+N(n,0):a,k(s)?(i="",null!=d&&(i=d.replace(O,"$&/")+"/"),R(s,r,i,"",function(e){return e})):null!=s&&(C(s)&&(l=s,u=i+(null==s.key||n&&n.key===s.key?"":(""+s.key).replace(O,"$&/")+"/")+d,s=T(l.type,u,l.props)),r.push(s)),1;d=0;var f,p=""===a?".":a+":";if(k(n))for(var m=0;m<n.length;m++)d+=R(a=n[m],r,i,o=p+N(a,m),s);else if("function"==typeof(m=null===(f=n)||"object"!=typeof f?null:"function"==typeof(f=h&&f[h]||f["@@iterator"])?f:null))for(n=m.call(n),m=0;!(a=n.next()).done;)d+=R(a=a.value,r,i,o=p+N(a,m++),s);else if("object"===o){if("function"==typeof n.then)return R(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"==typeof e.status?e.then(_,_):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(n),r,i,a,s);throw r=String(n),Error("Objects are not valid as a React child (found: "+("[object Object]"===r?"object with keys {"+Object.keys(n).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.")}return d}function P(e,t,n){if(null==e)return e;var r=[],i=0;return R(e,r,"","",function(e){return t.call(n,e,i++)}),r}function j(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},I={map:P,forEach:function(e,t,n){P(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return P(e,function(){t++}),t},toArray:function(e){return P(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};return E.Activity=d,E.Children=I,E.Component=g,E.Fragment=n,E.Profiler=i,E.PureComponent=v,E.StrictMode=r,E.Suspense=l,E.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,E.__COMPILER_RUNTIME={__proto__:null,c:function(e){return S.H.useMemoCache(e)}},E.cache=function(e){return function(){return e.apply(null,arguments)}},E.cacheSignal=function(){return null},E.cloneElement=function(e,t,n){if(null==e)throw Error("The argument must be a React element, but you passed "+e+".");var r=p({},e.props),i=e.key;if(null!=t)for(a in void 0!==t.key&&(i=""+t.key),t)!x.call(t,a)||"key"===a||"__self"===a||"__source"===a||"ref"===a&&void 0===t.ref||(r[a]=t[a]);var a=arguments.length-2;if(1===a)r.children=n;else if(1<a){for(var s=Array(a),o=0;o<a;o++)s[o]=arguments[o+2];r.children=s}return T(e.type,i,r)},E.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:a,_context:e},e},E.createElement=function(e,t,n){var r,i={},a=null;if(null!=t)for(r in void 0!==t.key&&(a=""+t.key),t)x.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var o=Array(s),l=0;l<s;l++)o[l]=arguments[l+2];i.children=o}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return T(e,a,i)},E.createRef=function(){return{current:null}},E.forwardRef=function(e){return{$$typeof:o,render:e}},E.isValidElement=C,E.lazy=function(e){return{$$typeof:c,_payload:{_status:-1,_result:e},_init:j}},E.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},E.startTransition=function(e){var t=S.T,n={};S.T=n;try{var r=e(),i=S.S;null!==i&&i(n,r),"object"==typeof r&&null!==r&&"function"==typeof r.then&&r.then(_,A)}catch(a){A(a)}finally{null!==t&&null!==n.types&&(t.types=n.types),S.T=t}},E.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},E.use=function(e){return S.H.use(e)},E.useActionState=function(e,t,n){return S.H.useActionState(e,t,n)},E.useCallback=function(e,t){return S.H.useCallback(e,t)},E.useContext=function(e){return S.H.useContext(e)},E.useDebugValue=function(){},E.useDeferredValue=function(e,t){return S.H.useDeferredValue(e,t)},E.useEffect=function(e,t){return S.H.useEffect(e,t)},E.useEffectEvent=function(e){return S.H.useEffectEvent(e)},E.useId=function(){return S.H.useId()},E.useImperativeHandle=function(e,t,n){return S.H.useImperativeHandle(e,t,n)},E.useInsertionEffect=function(e,t){return S.H.useInsertionEffect(e,t)},E.useLayoutEffect=function(e,t){return S.H.useLayoutEffect(e,t)},E.useMemo=function(e,t){return S.H.useMemo(e,t)},E.useOptimistic=function(e,t){return S.H.useOptimistic(e,t)},E.useReducer=function(e,t,n){return S.H.useReducer(e,t,n)},E.useRef=function(e){return S.H.useRef(e)},E.useState=function(e){return S.H.useState(e)},E.useSyncExternalStore=function(e,t,n){return S.H.useSyncExternalStore(e,t,n)},E.useTransition=function(){return S.H.useTransition()},E.version="19.2.0",E}function T(){return k||(k=1,S.exports=x()),S.exports}var C=T();const O=m(C),N=p({__proto__:null,default:O},[C]);var R,P,j={exports:{}},A={},I={exports:{}},$={};function L(){return P||(P=1,I.exports=(R||(R=1,function(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<i(a,t)))break e;e[r]=t,e[n]=a,n=r}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,s=a>>>1;r<s;){var o=2*(r+1)-1,l=e[o],u=o+1,c=e[u];if(0>i(l,n))u<a&&0>i(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[o]=n,r=o);else{if(!(u<a&&0>i(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(e.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],u=[],c=1,d=null,h=3,f=!1,p=!1,m=!1,g=!1,y="function"==typeof setTimeout?setTimeout:null,v="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function w(e){for(var i=n(u);null!==i;){if(null===i.callback)r(u);else{if(!(i.startTime<=e))break;r(u),i.sortIndex=i.expirationTime,t(l,i)}i=n(u)}}function k(e){if(m=!1,w(e),!p)if(null!==n(l))p=!0,S||(S=!0,_());else{var t=n(u);null!==t&&P(k,t.startTime-e)}}var _,S=!1,E=-1,x=5,T=-1;function C(){return!(!g&&e.unstable_now()-T<x)}function O(){if(g=!1,S){var t=e.unstable_now();T=t;var i=!0;try{e:{p=!1,m&&(m=!1,v(E),E=-1),f=!0;var a=h;try{t:{for(w(t),d=n(l);null!==d&&!(d.expirationTime>t&&C());){var s=d.callback;if("function"==typeof s){d.callback=null,h=d.priorityLevel;var o=s(d.expirationTime<=t);if(t=e.unstable_now(),"function"==typeof o){d.callback=o,w(t),i=!0;break t}d===n(l)&&r(l),w(t)}else r(l);d=n(l)}if(null!==d)i=!0;else{var c=n(u);null!==c&&P(k,c.startTime-t),i=!1}}break e}finally{d=null,h=a,f=!1}i=void 0}}finally{i?_():S=!1}}}if("function"==typeof b)_=function(){b(O)};else if("undefined"!=typeof MessageChannel){var N=new MessageChannel,R=N.port2;N.port1.onmessage=O,_=function(){R.postMessage(null)}}else _=function(){y(O,0)};function P(t,n){E=y(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},e.unstable_requestPaint=function(){g=!0},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},e.unstable_scheduleCallback=function(r,i,a){var s=e.unstable_now();switch(a="object"==typeof a&&null!==a&&"number"==typeof(a=a.delay)&&0<a?s+a:s,r){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return r={id:c++,callback:i,priorityLevel:r,startTime:a,expirationTime:o=a+o,sortIndex:-1},a>s?(r.sortIndex=a,t(u,r),null===n(l)&&r===n(u)&&(m?(v(E),E=-1):m=!0,P(k,a-s))):(r.sortIndex=o,t(l,r),p||f||(p=!0,S||(S=!0,_()))),r},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}}($)),$)),I.exports}var D,z,U,M,F={exports:{}},B={};function q(){if(D)return B;D=1;var e=T();function t(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");var a=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function s(e,t){return"font"===e?"":"string"==typeof t?"use-credentials"===t?t:"":void 0}return B.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,B.createPortal=function(e,n){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!n||1!==n.nodeType&&9!==n.nodeType&&11!==n.nodeType)throw Error(t(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:i,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,n,null,r)},B.flushSync=function(e){var t=a.T,n=r.p;try{if(a.T=null,r.p=2,e)return e()}finally{a.T=t,r.p=n,r.d.f()}},B.preconnect=function(e,t){"string"==typeof e&&(t?t="string"==typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,r.d.C(e,t))},B.prefetchDNS=function(e){"string"==typeof e&&r.d.D(e)},B.preinit=function(e,t){if("string"==typeof e&&t&&"string"==typeof t.as){var n=t.as,i=s(n,t.crossOrigin),a="string"==typeof t.integrity?t.integrity:void 0,o="string"==typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?r.d.S(e,"string"==typeof t.precedence?t.precedence:void 0,{crossOrigin:i,integrity:a,fetchPriority:o}):"script"===n&&r.d.X(e,{crossOrigin:i,integrity:a,fetchPriority:o,nonce:"string"==typeof t.nonce?t.nonce:void 0})}},B.preinitModule=function(e,t){if("string"==typeof e)if("object"==typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=s(t.as,t.crossOrigin);r.d.M(e,{crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0})}}else null==t&&r.d.M(e)},B.preload=function(e,t){if("string"==typeof e&&"object"==typeof t&&null!==t&&"string"==typeof t.as){var n=t.as,i=s(n,t.crossOrigin);r.d.L(e,n,{crossOrigin:i,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0,type:"string"==typeof t.type?t.type:void 0,fetchPriority:"string"==typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"==typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"==typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"==typeof t.imageSizes?t.imageSizes:void 0,media:"string"==typeof t.media?t.media:void 0})}},B.preloadModule=function(e,t){if("string"==typeof e)if(t){var n=s(t.as,t.crossOrigin);r.d.m(e,{as:"string"==typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0})}else r.d.m(e)},B.requestFormReset=function(e){r.d.r(e)},B.unstable_batchedUpdates=function(e,t){return e(t)},B.useFormState=function(e,t,n){return a.H.useFormState(e,t,n)},B.useFormStatus=function(){return a.H.useHostTransitionStatus()},B.version="19.2.0",B}function W(){if(z)return F.exports;return z=1,function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),F.exports=q(),F.exports}
/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function H(){if(U)return A;U=1;var e=L(),t=T(),n=W();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function a(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function s(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function o(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function l(e){if(a(e)!==e)throw Error(r(188))}function u(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=u(e)))return t;e=e.sibling}return null}var c=Object.assign,d=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),y=Symbol.for("react.consumer"),v=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),C=Symbol.iterator;function O(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=C&&e[C]||e["@@iterator"])?e:null}var N=Symbol.for("react.client.reference");function R(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===N?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case p:return"Fragment";case g:return"Profiler";case m:return"StrictMode";case w:return"Suspense";case k:return"SuspenseList";case E:return"Activity"}if("object"==typeof e)switch(e.$$typeof){case f:return"Portal";case v:return e.displayName||"Context";case y:return(e._context.displayName||"Context")+".Consumer";case b:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case _:return null!==(t=e.displayName||null)?t:R(e.type)||"Memo";case S:t=e._payload,e=e._init;try{return R(e(t))}catch(n){}}return null}var P=Array.isArray,j=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},D=[],z=-1;function M(e){return{current:e}}function F(e){0>z||(e.current=D[z],D[z]=null,z--)}function B(e,t){z++,D[z]=e.current,e.current=t}var q,H,V=M(null),K=M(null),G=M(null),J=M(null);function Q(e,t){switch(B(G,t),B(K,e),B(V,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?bd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=wd(t=bd(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}F(V),B(V,e)}function Y(){F(V),F(K),F(G)}function X(e){null!==e.memoizedState&&B(J,e);var t=V.current,n=wd(t,e.type);t!==n&&(B(K,e),B(V,n))}function Z(e){K.current===e&&(F(V),F(K)),J.current===e&&(F(J),hh._currentValue=$)}function ee(e){if(void 0===q)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);q=t&&t[1]||"",H=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+q+e+H}var te=!1;function ne(e,t){if(!e||te)return"";te=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(i){var r=i}Reflect.construct(e,[],n)}else{try{n.call()}catch(a){r=a}e.call(n.prototype)}}else{try{throw Error()}catch(s){r=s}(n=e())&&"function"==typeof n.catch&&n.catch(function(){})}}catch(o){if(o&&r&&"string"==typeof o.stack)return[o.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),s=a[0],o=a[1];if(s&&o){var l=s.split("\n"),u=o.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===u.length)for(r=l.length-1,i=u.length-1;1<=r&&0<=i&&l[r]!==u[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==u[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==u[i]){var c="\n"+l[r].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=r&&0<=i);break}}}finally{te=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ee(n):""}function re(e,t){switch(e.tag){case 26:case 27:case 5:return ee(e.type);case 16:return ee("Lazy");case 13:return e.child!==t&&null!==t?ee("Suspense Fallback"):ee("Suspense");case 19:return ee("SuspenseList");case 0:case 15:return ne(e.type,!1);case 11:return ne(e.type.render,!1);case 1:return ne(e.type,!0);case 31:return ee("Activity");default:return""}}function ie(e){try{var t="",n=null;do{t+=re(e,n),n=e,e=e.return}while(e);return t}catch(r){return"\nError generating stack: "+r.message+"\n"+r.stack}}var ae=Object.prototype.hasOwnProperty,se=e.unstable_scheduleCallback,oe=e.unstable_cancelCallback,le=e.unstable_shouldYield,ue=e.unstable_requestPaint,ce=e.unstable_now,de=e.unstable_getCurrentPriorityLevel,he=e.unstable_ImmediatePriority,fe=e.unstable_UserBlockingPriority,pe=e.unstable_NormalPriority,me=e.unstable_LowPriority,ge=e.unstable_IdlePriority,ye=e.log,ve=e.unstable_setDisableYieldValue,be=null,we=null;function ke(e){if("function"==typeof ye&&ve(e),we&&"function"==typeof we.setStrictMode)try{we.setStrictMode(be,e)}catch(t){}}var _e=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(Se(e)/Ee|0)|0},Se=Math.log,Ee=Math.LN2;var xe=256,Te=262144,Ce=4194304;function Oe(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ne(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,a=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var o=134217727&r;return 0!==o?0!==(r=o&~a)?i=Oe(r):0!==(s&=o)?i=Oe(s):n||0!==(n=o&~e)&&(i=Oe(n)):0!==(o=r&~a)?i=Oe(o):0!==s?i=Oe(s):n||0!==(n=r&~e)&&(i=Oe(n)),0===i?0:0!==t&&t!==i&&0===(t&a)&&((a=i&-i)>=(n=t&-t)||32===a&&4194048&n)?t:i}function Re(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Pe(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function je(){var e=Ce;return!(62914560&(Ce<<=1))&&(Ce=4194304),e}function Ae(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ie(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function $e(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-_e(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|261930&n}function Le(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-_e(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function De(e,t){var n=t&-t;return 0!==((n=42&n?1:ze(n))&(e.suspendedLanes|t))?0:n}function ze(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ue(e){return 2<(e&=-e)?8<e?134217727&e?32:268435456:8:2}function Me(){var e=I.p;return 0!==e?e:void 0===(e=window.event)?32:Oh(e.type)}function Fe(e,t){var n=I.p;try{return I.p=e,t()}finally{I.p=n}}var Be=Math.random().toString(36).slice(2),qe="__reactFiber$"+Be,We="__reactProps$"+Be,He="__reactContainer$"+Be,Ve="__reactEvents$"+Be,Ke="__reactListeners$"+Be,Ge="__reactHandles$"+Be,Je="__reactResources$"+Be,Qe="__reactMarker$"+Be;function Ye(e){delete e[qe],delete e[We],delete e[Ve],delete e[Ke],delete e[Ge]}function Xe(e){var t=e[qe];if(t)return t;for(var n=e.parentNode;n;){if(t=n[He]||n[qe]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=zd(e);null!==e;){if(n=e[qe])return n;e=zd(e)}return t}n=(e=n).parentNode}return null}function Ze(e){if(e=e[qe]||e[He]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function et(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(r(33))}function tt(e){var t=e[Je];return t||(t=e[Je]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function nt(e){e[Qe]=!0}var rt=new Set,it={};function at(e,t){st(e,t),st(e+"Capture",t)}function st(e,t){for(it[e]=t,e=0;e<t.length;e++)rt.add(t[e])}var ot=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lt={},ut={};function ct(e,t,n){if(i=t,ae.call(ut,i)||!ae.call(lt,i)&&(ot.test(i)?ut[i]=!0:(lt[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function dt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function ht(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function ft(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function pt(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function mt(e){if(!e._valueTracker){var t=pt(e)?"checked":"value";e._valueTracker=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&void 0!==r&&"function"==typeof r.get&&"function"==typeof r.set){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function gt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=pt(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function yt(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var vt=/[\n"\\]/g;function bt(e){return e.replace(vt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function wt(e,t,n,r,i,a,s,o){e.name="",null!=s&&"function"!=typeof s&&"symbol"!=typeof s&&"boolean"!=typeof s?e.type=s:e.removeAttribute("type"),null!=t?"number"===s?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ft(t)):e.value!==""+ft(t)&&(e.value=""+ft(t)):"submit"!==s&&"reset"!==s||e.removeAttribute("value"),null!=t?_t(e,s,ft(t)):null!=n?_t(e,s,ft(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=a&&(e.defaultChecked=!!a),null!=i&&(e.checked=i&&"function"!=typeof i&&"symbol"!=typeof i),null!=o&&"function"!=typeof o&&"symbol"!=typeof o&&"boolean"!=typeof o?e.name=""+ft(o):e.removeAttribute("name")}function kt(e,t,n,r,i,a,s,o){if(null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&"boolean"!=typeof a&&(e.type=a),null!=t||null!=n){if(("submit"===a||"reset"===a)&&null==t)return void mt(e);n=null!=n?""+ft(n):"",t=null!=t?""+ft(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}r="function"!=typeof(r=null!=r?r:i)&&"symbol"!=typeof r&&!!r,e.checked=o?e.checked:!!r,e.defaultChecked=!!r,null!=s&&"function"!=typeof s&&"symbol"!=typeof s&&"boolean"!=typeof s&&(e.name=s),mt(e)}function _t(e,t,n){"number"===t&&yt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function St(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ft(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Et(e,t,n){null==t||((t=""+ft(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ft(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function xt(e,t,n,i){if(null==t){if(null!=i){if(null!=n)throw Error(r(92));if(P(i)){if(1<i.length)throw Error(r(93));i=i[0]}n=i}null==n&&(n=""),t=n}n=ft(t),e.defaultValue=n,(i=e.textContent)===n&&""!==i&&null!==i&&(e.value=i),mt(e)}function Tt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Ct=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ot(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"==typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!=typeof n||0===n||Ct.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Nt(e,t,n){if(null!=t&&"object"!=typeof t)throw Error(r(62));if(e=e.style,null!=n){for(var i in n)!n.hasOwnProperty(i)||null!=t&&t.hasOwnProperty(i)||(0===i.indexOf("--")?e.setProperty(i,""):"float"===i?e.cssFloat="":e[i]="");for(var a in t)i=t[a],t.hasOwnProperty(a)&&n[a]!==i&&Ot(e,a,i)}else for(var s in t)t.hasOwnProperty(s)&&Ot(e,s,t[s])}function Rt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function At(e){return jt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function It(){}var $t=null;function Lt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Dt=null,zt=null;function Ut(e){var t=Ze(e);if(t&&(e=t.stateNode)){var n=e[We]||null;e:switch(e=t.stateNode,t.type){case"input":if(wt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+bt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var a=i[We]||null;if(!a)throw Error(r(90));wt(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)(i=n[t]).form===e.form&&gt(i)}break e;case"textarea":Et(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&St(e,!!n.multiple,t,!1)}}}var Mt=!1;function Ft(e,t,n){if(Mt)return e(t,n);Mt=!0;try{return e(t)}finally{if(Mt=!1,(null!==Dt||null!==zt)&&(tc(),Dt&&(t=Dt,e=zt,zt=Dt=null,Ut(t),e)))for(t=0;t<e.length;t++)Ut(e[t])}}function Bt(e,t){var n=e.stateNode;if(null===n)return null;var i=n[We]||null;if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(r(231,t,typeof n));return n}var qt=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),Wt=!1;if(qt)try{var Ht={};Object.defineProperty(Ht,"passive",{get:function(){Wt=!0}}),window.addEventListener("test",Ht,Ht),window.removeEventListener("test",Ht,Ht)}catch(Zh){Wt=!1}var Vt=null,Kt=null,Gt=null;function Jt(){if(Gt)return Gt;var e,t,n=Kt,r=n.length,i="value"in Vt?Vt.value:Vt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[a-t];t++);return Gt=i.slice(e,1<t?1-t:void 0)}function Qt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Yt(){return!0}function Xt(){return!1}function Zt(e){function t(t,n,r,i,a){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Yt:Xt,this.isPropagationStopped=Xt,this}return c(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Yt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Yt)},persist:function(){},isPersistent:Yt}),t}var en,tn,nn,rn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},an=Zt(rn),sn=c({},rn,{view:0,detail:0}),on=Zt(sn),ln=c({},sn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==nn&&(nn&&"mousemove"===e.type?(en=e.screenX-nn.screenX,tn=e.screenY-nn.screenY):tn=en=0,nn=e),en)},movementY:function(e){return"movementY"in e?e.movementY:tn}}),un=Zt(ln),cn=Zt(c({},ln,{dataTransfer:0})),dn=Zt(c({},sn,{relatedTarget:0})),hn=Zt(c({},rn,{animationName:0,elapsedTime:0,pseudoElement:0})),fn=Zt(c({},rn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),pn=Zt(c({},rn,{data:0})),mn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=yn[e])&&!!t[e]}function bn(){return vn}var wn=Zt(c({},sn,{key:function(e){if(e.key){var t=mn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Qt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?gn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bn,charCode:function(e){return"keypress"===e.type?Qt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Qt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),kn=Zt(c({},ln,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),_n=Zt(c({},sn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bn})),Sn=Zt(c({},rn,{propertyName:0,elapsedTime:0,pseudoElement:0})),En=Zt(c({},ln,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),xn=Zt(c({},rn,{newState:0,oldState:0})),Tn=[9,13,27,32],Cn=qt&&"CompositionEvent"in window,On=null;qt&&"documentMode"in document&&(On=document.documentMode);var Nn=qt&&"TextEvent"in window&&!On,Rn=qt&&(!Cn||On&&8<On&&11>=On),Pn=String.fromCharCode(32),jn=!1;function An(e,t){switch(e){case"keyup":return-1!==Tn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function In(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var $n=!1;var Ln={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Ln[e.type]:"textarea"===t}function zn(e,t,n,r){Dt?zt?zt.push(r):zt=[r]:Dt=r,0<(t=ad(t,"onChange")).length&&(n=new an("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Un=null,Mn=null;function Fn(e){Yc(e,0)}function Bn(e){if(gt(et(e)))return e}function qn(e,t){if("change"===e)return t}var Wn=!1;if(qt){var Hn;if(qt){var Vn="oninput"in document;if(!Vn){var Kn=document.createElement("div");Kn.setAttribute("oninput","return;"),Vn="function"==typeof Kn.oninput}Hn=Vn}else Hn=!1;Wn=Hn&&(!document.documentMode||9<document.documentMode)}function Gn(){Un&&(Un.detachEvent("onpropertychange",Jn),Mn=Un=null)}function Jn(e){if("value"===e.propertyName&&Bn(Mn)){var t=[];zn(t,Mn,e,Lt(e)),Ft(Fn,t)}}function Qn(e,t,n){"focusin"===e?(Gn(),Mn=n,(Un=t).attachEvent("onpropertychange",Jn)):"focusout"===e&&Gn()}function Yn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Bn(Mn)}function Xn(e,t){if("click"===e)return Bn(t)}function Zn(e,t){if("input"===e||"change"===e)return Bn(t)}var er="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function tr(e,t){if(er(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ae.call(t,i)||!er(e[i],t[i]))return!1}return!0}function nr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function rr(e,t){var n,r=nr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=nr(r)}}function ir(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ir(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ar(e){for(var t=yt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=yt((e=t.contentWindow).document)}return t}function sr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var or=qt&&"documentMode"in document&&11>=document.documentMode,lr=null,ur=null,cr=null,dr=!1;function hr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;dr||null==lr||lr!==yt(r)||("selectionStart"in(r=lr)&&sr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},cr&&tr(cr,r)||(cr=r,0<(r=ad(ur,"onSelect")).length&&(t=new an("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=lr)))}function fr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var pr={animationend:fr("Animation","AnimationEnd"),animationiteration:fr("Animation","AnimationIteration"),animationstart:fr("Animation","AnimationStart"),transitionrun:fr("Transition","TransitionRun"),transitionstart:fr("Transition","TransitionStart"),transitioncancel:fr("Transition","TransitionCancel"),transitionend:fr("Transition","TransitionEnd")},mr={},gr={};function yr(e){if(mr[e])return mr[e];if(!pr[e])return e;var t,n=pr[e];for(t in n)if(n.hasOwnProperty(t)&&t in gr)return mr[e]=n[t];return e}qt&&(gr=document.createElement("div").style,"AnimationEvent"in window||(delete pr.animationend.animation,delete pr.animationiteration.animation,delete pr.animationstart.animation),"TransitionEvent"in window||delete pr.transitionend.transition);var vr=yr("animationend"),br=yr("animationiteration"),wr=yr("animationstart"),kr=yr("transitionrun"),_r=yr("transitionstart"),Sr=yr("transitioncancel"),Er=yr("transitionend"),xr=new Map,Tr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cr(e,t){xr.set(e,t),at(t,[e])}Tr.push("scrollEnd");var Or="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},Nr=[],Rr=0,Pr=0;function jr(){for(var e=Rr,t=Pr=Rr=0;t<e;){var n=Nr[t];Nr[t++]=null;var r=Nr[t];Nr[t++]=null;var i=Nr[t];Nr[t++]=null;var a=Nr[t];if(Nr[t++]=null,null!==r&&null!==i){var s=r.pending;null===s?i.next=i:(i.next=s.next,s.next=i),r.pending=i}0!==a&&Lr(n,i,a)}}function Ar(e,t,n,r){Nr[Rr++]=e,Nr[Rr++]=t,Nr[Rr++]=n,Nr[Rr++]=r,Pr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Ir(e,t,n,r){return Ar(e,t,n,r),Dr(e)}function $r(e,t){return Ar(e,null,null,t),Dr(e)}function Lr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,a=e.return;null!==a;)a.childLanes|=n,null!==(r=a.alternate)&&(r.childLanes|=n),22===a.tag&&(null===(e=a.stateNode)||1&e._visibility||(i=!0)),e=a,a=a.return;return 3===e.tag?(a=e.stateNode,i&&null!==t&&(i=31-_e(n),null===(r=(e=a.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),a):null}function Dr(e){if(50<Vu)throw Vu=0,Ku=null,Error(r(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var zr={};function Ur(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mr(e,t,n,r){return new Ur(e,t,n,r)}function Fr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Br(e,t){var n=e.alternate;return null===n?((n=Mr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function qr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Wr(e,t,n,i,a,s){var o=0;if(i=e,"function"==typeof e)Fr(e)&&(o=1);else if("string"==typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!=typeof t.precedence||"string"!=typeof t.href||""===t.href)break;return!0;case"link":if("string"!=typeof t.rel||"string"!=typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"==typeof t.precedence&&null==e);case"script":if(t.async&&"function"!=typeof t.async&&"symbol"!=typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"==typeof t.src)return!0}return!1}(e,n,V.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case E:return(e=Mr(31,n,t,a)).elementType=E,e.lanes=s,e;case p:return Hr(n.children,a,s,t);case m:o=8,a|=24;break;case g:return(e=Mr(12,n,t,2|a)).elementType=g,e.lanes=s,e;case w:return(e=Mr(13,n,t,a)).elementType=w,e.lanes=s,e;case k:return(e=Mr(19,n,t,a)).elementType=k,e.lanes=s,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case v:o=10;break e;case y:o=9;break e;case b:o=11;break e;case _:o=14;break e;case S:o=16,i=null;break e}o=29,n=Error(r(130,null===e?"null":typeof e,"")),i=null}return(t=Mr(o,n,t,a)).elementType=e,t.type=i,t.lanes=s,t}function Hr(e,t,n,r){return(e=Mr(7,e,r,t)).lanes=n,e}function Vr(e,t,n){return(e=Mr(6,e,null,t)).lanes=n,e}function Kr(e){var t=Mr(18,null,null,0);return t.stateNode=e,t}function Gr(e,t,n){return(t=Mr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Jr=new WeakMap;function Qr(e,t){if("object"==typeof e&&null!==e){var n=Jr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ie(t)},Jr.set(e,t),t)}return{value:e,source:t,stack:ie(t)}}var Yr=[],Xr=0,Zr=null,ei=0,ti=[],ni=0,ri=null,ii=1,ai="";function si(e,t){Yr[Xr++]=ei,Yr[Xr++]=Zr,Zr=e,ei=t}function oi(e,t,n){ti[ni++]=ii,ti[ni++]=ai,ti[ni++]=ri,ri=e;var r=ii;e=ai;var i=32-_e(r)-1;r&=~(1<<i),n+=1;var a=32-_e(t)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,ii=1<<32-_e(t)+i|n<<i|r,ai=a+e}else ii=1<<a|n<<i|r,ai=e}function li(e){null!==e.return&&(si(e,1),oi(e,1,0))}function ui(e){for(;e===Zr;)Zr=Yr[--Xr],Yr[Xr]=null,ei=Yr[--Xr],Yr[Xr]=null;for(;e===ri;)ri=ti[--ni],ti[ni]=null,ai=ti[--ni],ti[ni]=null,ii=ti[--ni],ti[ni]=null}function ci(e,t){ti[ni++]=ii,ti[ni++]=ai,ti[ni++]=ri,ii=t.id,ai=t.overflow,ri=e}var di=null,hi=null,fi=!1,pi=null,mi=!1,gi=Error(r(519));function yi(e){throw Si(Qr(Error(r(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),gi}function vi(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[qe]=e,t[We]=r,n){case"dialog":Xc("cancel",t),Xc("close",t);break;case"iframe":case"object":case"embed":Xc("load",t);break;case"video":case"audio":for(n=0;n<Jc.length;n++)Xc(Jc[n],t);break;case"source":Xc("error",t);break;case"img":case"image":case"link":Xc("error",t),Xc("load",t);break;case"details":Xc("toggle",t);break;case"input":Xc("invalid",t),kt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Xc("invalid",t);break;case"textarea":Xc("invalid",t),xt(t,r.value,r.defaultValue,r.children)}"string"!=typeof(n=r.children)&&"number"!=typeof n&&"bigint"!=typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||dd(t.textContent,n)?(null!=r.popover&&(Xc("beforetoggle",t),Xc("toggle",t)),null!=r.onScroll&&Xc("scroll",t),null!=r.onScrollEnd&&Xc("scrollend",t),null!=r.onClick&&(t.onclick=It),t=!0):t=!1,t||yi(e,!0)}function bi(e){for(di=e.return;di;)switch(di.tag){case 5:case 31:case 13:return void(mi=!1);case 27:case 3:return void(mi=!0);default:di=di.return}}function wi(e){if(e!==di)return!1;if(!fi)return bi(e),fi=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||kd(e.type,e.memoizedProps)),t=!t),t&&hi&&yi(e),bi(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));hi=Dd(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));hi=Dd(e)}else 27===n?(n=hi,Od(e.type)?(e=Ld,Ld=null,hi=e):hi=n):hi=di?$d(e.stateNode.nextSibling):null;return!0}function ki(){hi=di=null,fi=!1}function _i(){var e=pi;return null!==e&&(null===ju?ju=e:ju.push.apply(ju,e),pi=null),e}function Si(e){null===pi?pi=[e]:pi.push(e)}var Ei=M(null),xi=null,Ti=null;function Ci(e,t,n){B(Ei,t._currentValue),t._currentValue=n}function Oi(e){e._currentValue=Ei.current,F(Ei)}function Ni(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ri(e,t,n,i){var a=e.child;for(null!==a&&(a.return=e);null!==a;){var s=a.dependencies;if(null!==s){var o=a.child;s=s.firstContext;e:for(;null!==s;){var l=s;s=a;for(var u=0;u<t.length;u++)if(l.context===t[u]){s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Ni(s.return,n,e),i||(o=null);break e}s=l.next}}else if(18===a.tag){if(null===(o=a.return))throw Error(r(341));o.lanes|=n,null!==(s=o.alternate)&&(s.lanes|=n),Ni(o,n,e),o=null}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===e){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}}function Pi(e,t,n,i){e=null;for(var a=t,s=!1;null!==a;){if(!s)if(524288&a.flags)s=!0;else if(262144&a.flags)break;if(10===a.tag){var o=a.alternate;if(null===o)throw Error(r(387));if(null!==(o=o.memoizedProps)){var l=a.type;er(a.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(a===J.current){if(null===(o=a.alternate))throw Error(r(387));o.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(null!==e?e.push(hh):e=[hh])}a=a.return}null!==e&&Ri(t,e,n,i),t.flags|=262144}function ji(e){for(e=e.firstContext;null!==e;){if(!er(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ai(e){xi=e,Ti=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ii(e){return Li(xi,e)}function $i(e,t){return null===xi&&Ai(e),Li(e,t)}function Li(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===Ti){if(null===e)throw Error(r(308));Ti=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ti=Ti.next=t;return n}var Di="undefined"!=typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},zi=e.unstable_scheduleCallback,Ui=e.unstable_NormalPriority,Mi={$$typeof:v,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fi(){return{controller:new Di,data:new Map,refCount:0}}function Bi(e){e.refCount--,0===e.refCount&&zi(Ui,function(){e.controller.abort()})}var qi=null,Wi=0,Hi=0,Vi=null;function Ki(){if(0===--Wi&&null!==qi){null!==Vi&&(Vi.status="fulfilled");var e=qi;qi=null,Hi=0,Vi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Gi=j.S;j.S=function(e,t){$u=ce(),"object"==typeof t&&null!==t&&"function"==typeof t.then&&function(e,t){if(null===qi){var n=qi=[];Wi=0,Hi=Wc(),Vi={status:"pending",value:void 0,then:function(e){n.push(e)}}}Wi++,t.then(Ki,Ki)}(0,t),null!==Gi&&Gi(e,t)};var Ji=M(null);function Qi(){var e=Ji.current;return null!==e?e:gu.pooledCache}function Yi(e,t){B(Ji,null===t?Ji.current:t.pool)}function Xi(){var e=Qi();return null===e?null:{parent:Mi._currentValue,pool:e}}var Zi=Error(r(460)),ea=Error(r(474)),ta=Error(r(542)),na={then:function(){}};function ra(e){return"fulfilled"===(e=e.status)||"rejected"===e}function ia(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(It,It),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw la(e=t.reason),e;default:if("string"==typeof t.status)t.then(It,It);else{if(null!==(e=gu)&&100<e.shellSuspendCounter)throw Error(r(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw la(e=t.reason),e}throw sa=t,Zi}}function aa(e){try{return(0,e._init)(e._payload)}catch(t){if(null!==t&&"object"==typeof t&&"function"==typeof t.then)throw sa=t,Zi;throw t}}var sa=null;function oa(){if(null===sa)throw Error(r(459));var e=sa;return sa=null,e}function la(e){if(e===Zi||e===ta)throw Error(r(483))}var ua=null,ca=0;function da(e){var t=ca;return ca+=1,null===ua&&(ua=[]),ia(ua,e,t)}function ha(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function fa(e,t){if(t.$$typeof===d)throw Error(r(525));throw e=Object.prototype.toString.call(t),Error(r(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function pa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function i(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function a(e,t){return(e=Br(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Vr(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function u(e,t,n,r){var i=n.type;return i===p?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"==typeof i&&null!==i&&i.$$typeof===S&&aa(i)===t.type)?(ha(t=a(t,n.props),n),t.return=e,t):(ha(t=Wr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Gr(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Hr(n,e.mode,r,i)).return=e,t):((t=a(t,n)).return=e,t)}function m(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return(t=Vr(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case h:return ha(n=Wr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case f:return(t=Gr(t,e.mode,n)).return=e,t;case S:return m(e,t=aa(t),n)}if(P(t)||O(t))return(t=Hr(t,e.mode,n,null)).return=e,t;if("function"==typeof t.then)return m(e,da(t),n);if(t.$$typeof===v)return m(e,$i(e,t),n);fa(e,t)}return null}function g(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case h:return n.key===i?u(e,t,n,r):null;case f:return n.key===i?c(e,t,n,r):null;case S:return g(e,t,n=aa(n),r)}if(P(n)||O(n))return null!==i?null:d(e,t,n,r,null);if("function"==typeof n.then)return g(e,t,da(n),r);if(n.$$typeof===v)return g(e,t,$i(e,n),r);fa(e,n)}return null}function y(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r||"bigint"==typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case h:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case f:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return y(e,t,n,r=aa(r),i)}if(P(r)||O(r))return d(t,e=e.get(n)||null,r,i,null);if("function"==typeof r.then)return y(e,t,n,da(r),i);if(r.$$typeof===v)return y(e,t,n,$i(t,r),i);fa(t,r)}return null}function b(l,u,c,d){if("object"==typeof c&&null!==c&&c.type===p&&null===c.key&&(c=c.props.children),"object"==typeof c&&null!==c){switch(c.$$typeof){case h:e:{for(var w=c.key;null!==u;){if(u.key===w){if((w=c.type)===p){if(7===u.tag){n(l,u.sibling),(d=a(u,c.props.children)).return=l,l=d;break e}}else if(u.elementType===w||"object"==typeof w&&null!==w&&w.$$typeof===S&&aa(w)===u.type){n(l,u.sibling),ha(d=a(u,c.props),c),d.return=l,l=d;break e}n(l,u);break}t(l,u),u=u.sibling}c.type===p?((d=Hr(c.props.children,l.mode,d,c.key)).return=l,l=d):(ha(d=Wr(c.type,c.key,c.props,null,l.mode,d),c),d.return=l,l=d)}return o(l);case f:e:{for(w=c.key;null!==u;){if(u.key===w){if(4===u.tag&&u.stateNode.containerInfo===c.containerInfo&&u.stateNode.implementation===c.implementation){n(l,u.sibling),(d=a(u,c.children||[])).return=l,l=d;break e}n(l,u);break}t(l,u),u=u.sibling}(d=Gr(c,l.mode,d)).return=l,l=d}return o(l);case S:return b(l,u,c=aa(c),d)}if(P(c))return function(r,a,o,l){for(var u=null,c=null,d=a,h=a=0,f=null;null!==d&&h<o.length;h++){d.index>h?(f=d,d=null):f=d.sibling;var p=g(r,d,o[h],l);if(null===p){null===d&&(d=f);break}e&&d&&null===p.alternate&&t(r,d),a=s(p,a,h),null===c?u=p:c.sibling=p,c=p,d=f}if(h===o.length)return n(r,d),fi&&si(r,h),u;if(null===d){for(;h<o.length;h++)null!==(d=m(r,o[h],l))&&(a=s(d,a,h),null===c?u=d:c.sibling=d,c=d);return fi&&si(r,h),u}for(d=i(d);h<o.length;h++)null!==(f=y(d,r,h,o[h],l))&&(e&&null!==f.alternate&&d.delete(null===f.key?h:f.key),a=s(f,a,h),null===c?u=f:c.sibling=f,c=f);return e&&d.forEach(function(e){return t(r,e)}),fi&&si(r,h),u}(l,u,c,d);if(O(c)){if("function"!=typeof(w=O(c)))throw Error(r(150));return function(a,o,l,u){if(null==l)throw Error(r(151));for(var c=null,d=null,h=o,f=o=0,p=null,v=l.next();null!==h&&!v.done;f++,v=l.next()){h.index>f?(p=h,h=null):p=h.sibling;var b=g(a,h,v.value,u);if(null===b){null===h&&(h=p);break}e&&h&&null===b.alternate&&t(a,h),o=s(b,o,f),null===d?c=b:d.sibling=b,d=b,h=p}if(v.done)return n(a,h),fi&&si(a,f),c;if(null===h){for(;!v.done;f++,v=l.next())null!==(v=m(a,v.value,u))&&(o=s(v,o,f),null===d?c=v:d.sibling=v,d=v);return fi&&si(a,f),c}for(h=i(h);!v.done;f++,v=l.next())null!==(v=y(h,a,f,v.value,u))&&(e&&null!==v.alternate&&h.delete(null===v.key?f:v.key),o=s(v,o,f),null===d?c=v:d.sibling=v,d=v);return e&&h.forEach(function(e){return t(a,e)}),fi&&si(a,f),c}(l,u,c=w.call(c),d)}if("function"==typeof c.then)return b(l,u,da(c),d);if(c.$$typeof===v)return b(l,u,$i(l,c),d);fa(l,c)}return"string"==typeof c&&""!==c||"number"==typeof c||"bigint"==typeof c?(c=""+c,null!==u&&6===u.tag?(n(l,u.sibling),(d=a(u,c)).return=l,l=d):(n(l,u),(d=Vr(c,l.mode,d)).return=l,l=d),o(l)):n(l,u)}return function(e,t,n,r){try{ca=0;var i=b(e,t,n,r);return ua=null,i}catch(s){if(s===Zi||s===ta)throw s;var a=Mr(29,s,null,e.mode);return a.lanes=r,a.return=e,a}}}var ma=pa(!0),ga=pa(!1),ya=!1;function va(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ba(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function wa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ka(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&mu){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Dr(e),Lr(e,null,n),t}return Ar(e,r,t,n),Dr(e)}function _a(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Le(e,n)}}function Sa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===a?i=a=s:a=a.next=s,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Ea=!1;function xa(){if(Ea){if(null!==Vi)throw Vi}}function Ta(e,t,n,r){Ea=!1;var i=e.updateQueue;ya=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,u=l.next;l.next=null,null===s?a=u:s.next=u,s=l;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==s&&(null===o?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=l))}if(null!==a){var h=i.baseState;for(s=0,d=u=l=null,o=a;;){var f=-536870913&o.lane,p=f!==o.lane;if(p?(vu&f)===f:(r&f)===f){0!==f&&f===Hi&&(Ea=!0),null!==d&&(d=d.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var m=e,g=o;f=t;var y=n;switch(g.tag){case 1:if("function"==typeof(m=g.payload)){h=m.call(y,h,f);break e}h=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null==(f="function"==typeof(m=g.payload)?m.call(y,h,f):m))break e;h=c({},h,f);break e;case 2:ya=!0}}null!==(f=o.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=i.callbacks)?i.callbacks=[f]:p.push(f))}else p={lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(u=d=p,l=h):d=d.next=p,s|=f;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(p=o).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}null===d&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,null===a&&(i.shared.lanes=0),Tu|=s,e.lanes=s,e.memoizedState=h}}function Ca(e,t){if("function"!=typeof e)throw Error(r(191,e));e.call(t)}function Oa(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Ca(n[e],t)}var Na=M(null),Ra=M(0);function Pa(e,t){B(Ra,e=Eu),B(Na,t),Eu=e|t.baseLanes}function ja(){B(Ra,Eu),B(Na,Na.current)}function Aa(){Eu=Ra.current,F(Na),F(Ra)}var Ia=M(null),$a=null;function La(e){var t=e.alternate;B(Fa,1&Fa.current),B(Ia,e),null===$a&&(null===t||null!==Na.current||null!==t.memoizedState)&&($a=e)}function Da(e){B(Fa,Fa.current),B(Ia,e),null===$a&&($a=e)}function za(e){22===e.tag?(B(Fa,Fa.current),B(Ia,e),null===$a&&($a=e)):Ua()}function Ua(){B(Fa,Fa.current),B(Ia,Ia.current)}function Ma(e){F(Ia),$a===e&&($a=null),F(Fa)}var Fa=M(0);function Ba(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Ad(n)||Id(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(128&t.flags)return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var qa=0,Wa=null,Ha=null,Va=null,Ka=!1,Ga=!1,Ja=!1,Qa=0,Ya=0,Xa=null,Za=0;function es(){throw Error(r(321))}function ts(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!er(e[n],t[n]))return!1;return!0}function ns(e,t,n,r,i,a){return qa=a,Wa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,j.H=null===e||null===e.memoizedState?vo:bo,Ja=!1,a=n(r,i),Ja=!1,Ga&&(a=is(t,n,r,i)),rs(e),a}function rs(e){j.H=yo;var t=null!==Ha&&null!==Ha.next;if(qa=0,Va=Ha=Wa=null,Ka=!1,Ya=0,Xa=null,t)throw Error(r(300));null===e||$o||null!==(e=e.dependencies)&&ji(e)&&($o=!0)}function is(e,t,n,i){Wa=e;var a=0;do{if(Ga&&(Xa=null),Ya=0,Ga=!1,25<=a)throw Error(r(301));if(a+=1,Va=Ha=null,null!=e.updateQueue){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,null!=s.memoCache&&(s.memoCache.index=0)}j.H=wo,s=t(n,i)}while(Ga);return s}function as(){var e=j.H,t=e.useState()[0];return t="function"==typeof t.then?ds(t):t,e=e.useState()[0],(null!==Ha?Ha.memoizedState:null)!==e&&(Wa.flags|=1024),t}function ss(){var e=0!==Qa;return Qa=0,e}function os(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function ls(e){if(Ka){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Ka=!1}qa=0,Va=Ha=Wa=null,Ga=!1,Ya=Qa=0,Xa=null}function us(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Va?Wa.memoizedState=Va=e:Va=Va.next=e,Va}function cs(){if(null===Ha){var e=Wa.alternate;e=null!==e?e.memoizedState:null}else e=Ha.next;var t=null===Va?Wa.memoizedState:Va.next;if(null!==t)Va=t,Ha=e;else{if(null===e){if(null===Wa.alternate)throw Error(r(467));throw Error(r(310))}e={memoizedState:(Ha=e).memoizedState,baseState:Ha.baseState,baseQueue:Ha.baseQueue,queue:Ha.queue,next:null},null===Va?Wa.memoizedState=Va=e:Va=Va.next=e}return Va}function ds(e){var t=Ya;return Ya+=1,null===Xa&&(Xa=[]),e=ia(Xa,e,t),t=Wa,null===(null===Va?t.memoizedState:Va.next)&&(t=t.alternate,j.H=null===t||null===t.memoizedState?vo:bo),e}function hs(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return ds(e);if(e.$$typeof===v)return Ii(e)}throw Error(r(438,String(e)))}function fs(e){var t=null,n=Wa.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=Wa.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Wa.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=x;return t.index++,n}function ps(e,t){return"function"==typeof t?t(e):t}function ms(e){return gs(cs(),Ha,e)}function gs(e,t,n){var i=e.queue;if(null===i)throw Error(r(311));i.lastRenderedReducer=n;var a=e.baseQueue,s=i.pending;if(null!==s){if(null!==a){var o=a.next;a.next=s.next,s.next=o}t.baseQueue=a=s,i.pending=null}if(s=e.baseState,null===a)e.memoizedState=s;else{var l=o=null,u=null,c=t=a.next,d=!1;do{var h=-536870913&c.lane;if(h!==c.lane?(vu&h)===h:(qa&h)===h){var f=c.revertLane;if(0===f)null!==u&&(u=u.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),h===Hi&&(d=!0);else{if((qa&f)===f){c=c.next,f===Hi&&(d=!0);continue}h={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===u?(l=u=h,o=s):u=u.next=h,Wa.lanes|=f,Tu|=f}h=c.action,Ja&&n(s,h),s=c.hasEagerState?c.eagerState:n(s,h)}else f={lane:h,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===u?(l=u=f,o=s):u=u.next=f,Wa.lanes|=h,Tu|=h;c=c.next}while(null!==c&&c!==t);if(null===u?o=s:u.next=l,!er(s,e.memoizedState)&&($o=!0,d&&null!==(n=Vi)))throw n;e.memoizedState=s,e.baseState=o,e.baseQueue=u,i.lastRenderedState=s}return null===a&&(i.lanes=0),[e.memoizedState,i.dispatch]}function ys(e){var t=cs(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var i=n.dispatch,a=n.pending,s=t.memoizedState;if(null!==a){n.pending=null;var o=a=a.next;do{s=e(s,o.action),o=o.next}while(o!==a);er(s,t.memoizedState)||($o=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,i]}function vs(e,t,n){var i=Wa,a=cs(),s=fi;if(s){if(void 0===n)throw Error(r(407));n=n()}else n=t();var o=!er((Ha||a).memoizedState,n);if(o&&(a.memoizedState=n,$o=!0),a=a.queue,qs(ks.bind(null,i,a,e),[e]),a.getSnapshot!==t||o||null!==Va&&1&Va.memoizedState.tag){if(i.flags|=2048,zs(9,{destroy:void 0},ws.bind(null,i,a,n,t),null),null===gu)throw Error(r(349));s||127&qa||bs(i,t,n)}return n}function bs(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Wa.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Wa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function ws(e,t,n,r){t.value=n,t.getSnapshot=r,_s(t)&&Ss(e)}function ks(e,t,n){return n(function(){_s(t)&&Ss(e)})}function _s(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!er(e,n)}catch(r){return!0}}function Ss(e){var t=$r(e,2);null!==t&&Qu(t,e,2)}function Es(e){var t=us();if("function"==typeof e){var n=e;if(e=n(),Ja){ke(!0);try{n()}finally{ke(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:e},t}function xs(e,t,n,r){return e.baseState=n,gs(e,Ha,"function"==typeof r?r:ps)}function Ts(e,t,n,i,a){if(po(e))throw Error(r(485));if(null!==(e=t.action)){var s={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){s.listeners.push(e)}};null!==j.T?n(!0):s.isTransition=!1,i(s),null===(n=t.pending)?(s.next=t.pending=s,Cs(t,s)):(s.next=n.next,t.pending=n.next=s)}}function Cs(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var a=j.T,s={};j.T=s;try{var o=n(i,r),l=j.S;null!==l&&l(s,o),Os(e,t,o)}catch(u){Rs(e,t,u)}finally{null!==a&&null!==s.types&&(a.types=s.types),j.T=a}}else try{Os(e,t,a=n(i,r))}catch(c){Rs(e,t,c)}}function Os(e,t,n){null!==n&&"object"==typeof n&&"function"==typeof n.then?n.then(function(n){Ns(e,t,n)},function(n){return Rs(e,t,n)}):Ns(e,t,n)}function Ns(e,t,n){t.status="fulfilled",t.value=n,Ps(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,Cs(e,n)))}function Rs(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Ps(t),t=t.next}while(t!==r)}e.action=null}function Ps(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function js(e,t){return t}function As(e,t){if(fi){var n=gu.formState;if(null!==n){e:{var r=Wa;if(fi){if(hi){t:{for(var i=hi,a=mi;8!==i.nodeType;){if(!a){i=null;break t}if(null===(i=$d(i.nextSibling))){i=null;break t}}i="F!"===(a=i.data)||"F"===a?i:null}if(i){hi=$d(i.nextSibling),r="F!"===i.data;break e}}yi(r)}r=!1}r&&(t=n[0])}}return(n=us()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:js,lastRenderedState:t},n.queue=r,n=co.bind(null,Wa,r),r.dispatch=n,r=Es(!1),a=fo.bind(null,Wa,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=us()).queue=i,n=Ts.bind(null,Wa,i,a,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function Is(e){return $s(cs(),Ha,e)}function $s(e,t,n){if(t=gs(e,t,js)[0],e=ms(ps)[0],"object"==typeof t&&null!==t&&"function"==typeof t.then)try{var r=ds(t)}catch(s){if(s===Zi)throw ta;throw s}else r=t;var i=(t=cs()).queue,a=i.dispatch;return n!==t.memoizedState&&(Wa.flags|=2048,zs(9,{destroy:void 0},Ls.bind(null,i,n),null)),[r,a,e]}function Ls(e,t){e.action=t}function Ds(e){var t=cs(),n=Ha;if(null!==n)return $s(t,n,e);cs(),t=t.memoizedState;var r=(n=cs()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function zs(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=Wa.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Wa.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Us(){return cs().memoizedState}function Ms(e,t,n,r){var i=us();Wa.flags|=e,i.memoizedState=zs(1|t,{destroy:void 0},n,void 0===r?null:r)}function Fs(e,t,n,r){var i=cs();r=void 0===r?null:r;var a=i.memoizedState.inst;null!==Ha&&null!==r&&ts(r,Ha.memoizedState.deps)?i.memoizedState=zs(t,a,n,r):(Wa.flags|=e,i.memoizedState=zs(1|t,a,n,r))}function Bs(e,t){Ms(8390656,8,e,t)}function qs(e,t){Fs(2048,8,e,t)}function Ws(e){var t=cs().memoizedState;return function(e){Wa.flags|=4;var t=Wa.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},Wa.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(2&mu)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function Hs(e,t){return Fs(4,2,e,t)}function Vs(e,t){return Fs(4,4,e,t)}function Ks(e,t){if("function"==typeof t){e=e();var n=t(e);return function(){"function"==typeof n?n():t(null)}}if(null!=t)return e=e(),t.current=e,function(){t.current=null}}function Gs(e,t,n){n=null!=n?n.concat([e]):null,Fs(4,4,Ks.bind(null,t,e),n)}function Js(){}function Qs(e,t){var n=cs();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&ts(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ys(e,t){var n=cs();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&ts(t,r[1]))return r[0];if(r=e(),Ja){ke(!0);try{e()}finally{ke(!1)}}return n.memoizedState=[r,t],r}function Xs(e,t,n){return void 0===n||1073741824&qa&&!(261930&vu)?e.memoizedState=t:(e.memoizedState=n,e=Ju(),Wa.lanes|=e,Tu|=e,n)}function Zs(e,t,n,r){return er(n,t)?n:null!==Na.current?(e=Xs(e,n,r),er(e,t)||($o=!0),e):42&qa&&(!(1073741824&qa)||261930&vu)?(e=Ju(),Wa.lanes|=e,Tu|=e,t):($o=!0,e.memoizedState=n)}function eo(e,t,n,r,i){var a=I.p;I.p=0!==a&&8>a?a:8;var s,o,l,u=j.T,c={};j.T=c,fo(e,!1,t,n);try{var d=i(),h=j.S;if(null!==h&&h(c,d),null!==d&&"object"==typeof d&&"function"==typeof d.then)ho(e,t,(s=r,o=[],l={status:"pending",value:null,reason:null,then:function(e){o.push(e)}},d.then(function(){l.status="fulfilled",l.value=s;for(var e=0;e<o.length;e++)(0,o[e])(s)},function(e){for(l.status="rejected",l.reason=e,e=0;e<o.length;e++)(0,o[e])(void 0)}),l),Gu());else ho(e,t,r,Gu())}catch(f){ho(e,t,{then:function(){},status:"rejected",reason:f},Gu())}finally{I.p=a,null!==u&&null!==c.types&&(u.types=c.types),j.T=u}}function to(){}function no(e,t,n,i){if(5!==e.tag)throw Error(r(476));var a=ro(e).queue;eo(e,a,t,$,null===n?to:function(){return io(e),n(i)})}function ro(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:$},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function io(e){var t=ro(e);null===t.next&&(t=e.alternate.memoizedState),ho(e,t.next.queue,{},Gu())}function ao(){return Ii(hh)}function so(){return cs().memoizedState}function oo(){return cs().memoizedState}function lo(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Gu(),r=ka(t,e=wa(n),n);return null!==r&&(Qu(r,t,n),_a(r,t,n)),t={cache:Fi()},void(e.payload=t)}t=t.return}}function uo(e,t,n){var r=Gu();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},po(e)?mo(t,n):null!==(n=Ir(e,t,n,r))&&(Qu(n,e,r),go(n,t,r))}function co(e,t,n){ho(e,t,n,Gu())}function ho(e,t,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(po(e))mo(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,er(o,s))return Ar(e,t,i,0),null===gu&&jr(),!1}catch(l){}if(null!==(n=Ir(e,t,i,r)))return Qu(n,e,r),go(n,t,r),!0}return!1}function fo(e,t,n,i){if(i={lane:2,revertLane:Wc(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},po(e)){if(t)throw Error(r(479))}else null!==(t=Ir(e,n,i,2))&&Qu(t,e,2)}function po(e){var t=e.alternate;return e===Wa||null!==t&&t===Wa}function mo(e,t){Ga=Ka=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function go(e,t,n){if(4194048&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Le(e,n)}}var yo={readContext:Ii,use:hs,useCallback:es,useContext:es,useEffect:es,useImperativeHandle:es,useLayoutEffect:es,useInsertionEffect:es,useMemo:es,useReducer:es,useRef:es,useState:es,useDebugValue:es,useDeferredValue:es,useTransition:es,useSyncExternalStore:es,useId:es,useHostTransitionStatus:es,useFormState:es,useActionState:es,useOptimistic:es,useMemoCache:es,useCacheRefresh:es};yo.useEffectEvent=es;var vo={readContext:Ii,use:hs,useCallback:function(e,t){return us().memoizedState=[e,void 0===t?null:t],e},useContext:Ii,useEffect:Bs,useImperativeHandle:function(e,t,n){n=null!=n?n.concat([e]):null,Ms(4194308,4,Ks.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ms(4194308,4,e,t)},useInsertionEffect:function(e,t){Ms(4,2,e,t)},useMemo:function(e,t){var n=us();t=void 0===t?null:t;var r=e();if(Ja){ke(!0);try{e()}finally{ke(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=us();if(void 0!==n){var i=n(t);if(Ja){ke(!0);try{n(t)}finally{ke(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=uo.bind(null,Wa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},us().memoizedState=e},useState:function(e){var t=(e=Es(e)).queue,n=co.bind(null,Wa,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Js,useDeferredValue:function(e,t){return Xs(us(),e,t)},useTransition:function(){var e=Es(!1);return e=eo.bind(null,Wa,e.queue,!0,!1),us().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=Wa,a=us();if(fi){if(void 0===n)throw Error(r(407));n=n()}else{if(n=t(),null===gu)throw Error(r(349));127&vu||bs(i,t,n)}a.memoizedState=n;var s={value:n,getSnapshot:t};return a.queue=s,Bs(ks.bind(null,i,s,e),[e]),i.flags|=2048,zs(9,{destroy:void 0},ws.bind(null,i,s,n,t),null),n},useId:function(){var e=us(),t=gu.identifierPrefix;if(fi){var n=ai;t="_"+t+"R_"+(n=(ii&~(1<<32-_e(ii)-1)).toString(32)+n),0<(n=Qa++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=Za++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:ao,useFormState:As,useActionState:As,useOptimistic:function(e){var t=us();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=fo.bind(null,Wa,!0,n),n.dispatch=t,[e,t]},useMemoCache:fs,useCacheRefresh:function(){return us().memoizedState=lo.bind(null,Wa)},useEffectEvent:function(e){var t=us(),n={impl:e};return t.memoizedState=n,function(){if(2&mu)throw Error(r(440));return n.impl.apply(void 0,arguments)}}},bo={readContext:Ii,use:hs,useCallback:Qs,useContext:Ii,useEffect:qs,useImperativeHandle:Gs,useInsertionEffect:Hs,useLayoutEffect:Vs,useMemo:Ys,useReducer:ms,useRef:Us,useState:function(){return ms(ps)},useDebugValue:Js,useDeferredValue:function(e,t){return Zs(cs(),Ha.memoizedState,e,t)},useTransition:function(){var e=ms(ps)[0],t=cs().memoizedState;return["boolean"==typeof e?e:ds(e),t]},useSyncExternalStore:vs,useId:so,useHostTransitionStatus:ao,useFormState:Is,useActionState:Is,useOptimistic:function(e,t){return xs(cs(),0,e,t)},useMemoCache:fs,useCacheRefresh:oo};bo.useEffectEvent=Ws;var wo={readContext:Ii,use:hs,useCallback:Qs,useContext:Ii,useEffect:qs,useImperativeHandle:Gs,useInsertionEffect:Hs,useLayoutEffect:Vs,useMemo:Ys,useReducer:ys,useRef:Us,useState:function(){return ys(ps)},useDebugValue:Js,useDeferredValue:function(e,t){var n=cs();return null===Ha?Xs(n,e,t):Zs(n,Ha.memoizedState,e,t)},useTransition:function(){var e=ys(ps)[0],t=cs().memoizedState;return["boolean"==typeof e?e:ds(e),t]},useSyncExternalStore:vs,useId:so,useHostTransitionStatus:ao,useFormState:Ds,useActionState:Ds,useOptimistic:function(e,t){var n=cs();return null!==Ha?xs(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:fs,useCacheRefresh:oo};function ko(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:c({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}wo.useEffectEvent=Ws;var _o={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Gu(),i=wa(r);i.payload=t,null!=n&&(i.callback=n),null!==(t=ka(e,i,r))&&(Qu(t,e,r),_a(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Gu(),i=wa(r);i.tag=1,i.payload=t,null!=n&&(i.callback=n),null!==(t=ka(e,i,r))&&(Qu(t,e,r),_a(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Gu(),r=wa(n);r.tag=2,null!=t&&(r.callback=t),null!==(t=ka(e,r,n))&&(Qu(t,e,n),_a(t,e,n))}};function So(e,t,n,r,i,a,s){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,s):!t.prototype||!t.prototype.isPureReactComponent||(!tr(n,r)||!tr(i,a))}function Eo(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&_o.enqueueReplaceState(t,t.state,null)}function xo(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=c({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}function To(e){Or(e)}function Co(e){console.error(e)}function Oo(e){Or(e)}function No(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Ro(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Po(e,t,n){return(n=wa(n)).tag=3,n.payload={element:null},n.callback=function(){No(e,t)},n}function jo(e){return(e=wa(e)).tag=3,e}function Ao(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"==typeof i){var a=r.value;e.payload=function(){return i(a)},e.callback=function(){Ro(t,n,r)}}var s=n.stateNode;null!==s&&"function"==typeof s.componentDidCatch&&(e.callback=function(){Ro(t,n,r),"function"!=typeof i&&(null===zu?zu=new Set([this]):zu.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Io=Error(r(461)),$o=!1;function Lo(e,t,n,r){t.child=null===e?ga(t,null,n,r):ma(t,e.child,n,r)}function Do(e,t,n,r,i){n=n.render;var a=t.ref;if("ref"in r){var s={};for(var o in r)"ref"!==o&&(s[o]=r[o])}else s=r;return Ai(t),r=ns(e,t,n,s,a,i),o=ss(),null===e||$o?(fi&&o&&li(t),t.flags|=1,Lo(e,t,r,i),t.child):(os(e,t,i),sl(e,t,i))}function zo(e,t,n,r,i){if(null===e){var a=n.type;return"function"!=typeof a||Fr(a)||void 0!==a.defaultProps||null!==n.compare?((e=Wr(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Uo(e,t,a,r,i))}if(a=e.child,!ol(e,i)){var s=a.memoizedProps;if((n=null!==(n=n.compare)?n:tr)(s,r)&&e.ref===t.ref)return sl(e,t,i)}return t.flags|=1,(e=Br(a,r)).ref=t.ref,e.return=t,t.child=e}function Uo(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(tr(a,r)&&e.ref===t.ref){if($o=!1,t.pendingProps=r=a,!ol(e,i))return t.lanes=e.lanes,sl(e,t,i);131072&e.flags&&($o=!0)}}return Vo(e,t,n,r,i)}function Mo(e,t,n,r){var i=r.children,a=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===r.mode){if(128&t.flags){if(a=null!==a?a.baseLanes|n:n,null!==e){for(r=t.child=e.child,i=0;null!==r;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~a}else r=0,t.child=null;return Bo(e,t,a,n,r)}if(!(536870912&n))return r=t.lanes=536870912,Bo(e,t,null!==a?a.baseLanes|n:n,n,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Yi(0,null!==a?a.cachePool:null),null!==a?Pa(t,a):ja(),za(t)}else null!==a?(Yi(0,a.cachePool),Pa(t,a),Ua(),t.memoizedState=null):(null!==e&&Yi(0,null),ja(),Ua());return Lo(e,t,i,n),t.child}function Fo(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Bo(e,t,n,r,i){var a=Qi();return a=null===a?null:{parent:Mi._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},null!==e&&Yi(0,null),ja(),za(t),null!==e&&Pi(e,t,r,!0),t.childLanes=i,null}function qo(e,t){return(t=tl({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function Wo(e,t,n){return ma(t,e.child,null,n),(e=qo(t,t.pendingProps)).flags|=2,Ma(t),t.memoizedState=null,e}function Ho(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!=typeof n&&"object"!=typeof n)throw Error(r(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Vo(e,t,n,r,i){return Ai(t),n=ns(e,t,n,r,void 0,i),r=ss(),null===e||$o?(fi&&r&&li(t),t.flags|=1,Lo(e,t,n,i),t.child):(os(e,t,i),sl(e,t,i))}function Ko(e,t,n,r,i,a){return Ai(t),t.updateQueue=null,n=is(t,r,n,i),rs(e),r=ss(),null===e||$o?(fi&&r&&li(t),t.flags|=1,Lo(e,t,n,a),t.child):(os(e,t,a),sl(e,t,a))}function Go(e,t,n,r,i){if(Ai(t),null===t.stateNode){var a=zr,s=n.contextType;"object"==typeof s&&null!==s&&(a=Ii(s)),a=new n(r,a),t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,a.updater=_o,t.stateNode=a,a._reactInternals=t,(a=t.stateNode).props=r,a.state=t.memoizedState,a.refs={},va(t),s=n.contextType,a.context="object"==typeof s&&null!==s?Ii(s):zr,a.state=t.memoizedState,"function"==typeof(s=n.getDerivedStateFromProps)&&(ko(t,n,s,r),a.state=t.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof a.getSnapshotBeforeUpdate||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||(s=a.state,"function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),s!==a.state&&_o.enqueueReplaceState(a,a.state,null),Ta(t,r,a,i),xa(),a.state=t.memoizedState),"function"==typeof a.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){a=t.stateNode;var o=t.memoizedProps,l=xo(n,o);a.props=l;var u=a.context,c=n.contextType;s=zr,"object"==typeof c&&null!==c&&(s=Ii(c));var d=n.getDerivedStateFromProps;c="function"==typeof d||"function"==typeof a.getSnapshotBeforeUpdate,o=t.pendingProps!==o,c||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(o||u!==s)&&Eo(t,a,r,s),ya=!1;var h=t.memoizedState;a.state=h,Ta(t,r,a,i),xa(),u=t.memoizedState,o||h!==u||ya?("function"==typeof d&&(ko(t,n,d,r),u=t.memoizedState),(l=ya||So(t,n,l,r,h,u,s))?(c||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4194308)):("function"==typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=s,r=l):("function"==typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,ba(e,t),c=xo(n,s=t.memoizedProps),a.props=c,d=t.pendingProps,h=a.context,u=n.contextType,l=zr,"object"==typeof u&&null!==u&&(l=Ii(u)),(u="function"==typeof(o=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==d||h!==l)&&Eo(t,a,r,l),ya=!1,h=t.memoizedState,a.state=h,Ta(t,r,a,i),xa();var f=t.memoizedState;s!==d||h!==f||ya||null!==e&&null!==e.dependencies&&ji(e.dependencies)?("function"==typeof o&&(ko(t,n,o,r),f=t.memoizedState),(c=ya||So(t,n,c,r,h,f,l)||null!==e&&null!==e.dependencies&&ji(e.dependencies))?(u||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,l)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=l,r=c):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,Ho(e,t),r=!!(128&t.flags),a||r?(a=t.stateNode,n=r&&"function"!=typeof n.getDerivedStateFromError?null:a.render(),t.flags|=1,null!==e&&r?(t.child=ma(t,e.child,null,i),t.child=ma(t,null,n,i)):Lo(e,t,n,i),t.memoizedState=a.state,e=t.child):e=sl(e,t,i),e}function Jo(e,t,n,r){return ki(),t.flags|=256,Lo(e,t,n,r),t.child}var Qo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yo(e){return{baseLanes:e,cachePool:Xi()}}function Xo(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=Nu),e}function Zo(e,t,n){var i,a=t.pendingProps,s=!1,o=!!(128&t.flags);if((i=o)||(i=(null===e||null!==e.memoizedState)&&!!(2&Fa.current)),i&&(s=!0,t.flags&=-129),i=!!(32&t.flags),t.flags&=-33,null===e){if(fi){if(s?La(t):Ua(),(e=hi)?null!==(e=null!==(e=jd(e,mi))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ri?{id:ii,overflow:ai}:null,retryLane:536870912,hydrationErrors:null},(n=Kr(e)).return=t,t.child=n,di=t,hi=null):e=null,null===e)throw yi(t);return Id(e)?t.lanes=32:t.lanes=536870912,null}var l=a.children;return a=a.fallback,s?(Ua(),l=tl({mode:"hidden",children:l},s=t.mode),a=Hr(a,s,n,null),l.return=t,a.return=t,l.sibling=a,t.child=l,(a=t.child).memoizedState=Yo(n),a.childLanes=Xo(e,i,n),t.memoizedState=Qo,Fo(null,a)):(La(t),el(t,l))}var u=e.memoizedState;if(null!==u&&null!==(l=u.dehydrated)){if(o)256&t.flags?(La(t),t.flags&=-257,t=nl(e,t,n)):null!==t.memoizedState?(Ua(),t.child=e.child,t.flags|=128,t=null):(Ua(),l=a.fallback,s=t.mode,a=tl({mode:"visible",children:a.children},s),(l=Hr(l,s,n,null)).flags|=2,a.return=t,l.return=t,a.sibling=l,t.child=a,ma(t,e.child,null,n),(a=t.child).memoizedState=Yo(n),a.childLanes=Xo(e,i,n),t.memoizedState=Qo,t=Fo(null,a));else if(La(t),Id(l)){if(i=l.nextSibling&&l.nextSibling.dataset)var c=i.dgst;i=c,(a=Error(r(419))).stack="",a.digest=i,Si({value:a,source:null,stack:null}),t=nl(e,t,n)}else if($o||Pi(e,t,n,!1),i=0!==(n&e.childLanes),$o||i){if(null!==(i=gu)&&(0!==(a=De(i,n))&&a!==u.retryLane))throw u.retryLane=a,$r(e,a),Qu(i,e,a),Io;Ad(l)||lc(),t=nl(e,t,n)}else Ad(l)?(t.flags|=192,t.child=e.child,t=null):(e=u.treeContext,hi=$d(l.nextSibling),di=t,fi=!0,pi=null,mi=!1,null!==e&&ci(t,e),(t=el(t,a.children)).flags|=4096);return t}return s?(Ua(),l=a.fallback,s=t.mode,c=(u=e.child).sibling,(a=Br(u,{mode:"hidden",children:a.children})).subtreeFlags=65011712&u.subtreeFlags,null!==c?l=Br(c,l):(l=Hr(l,s,n,null)).flags|=2,l.return=t,a.return=t,a.sibling=l,t.child=a,Fo(null,a),a=t.child,null===(l=e.child.memoizedState)?l=Yo(n):(null!==(s=l.cachePool)?(u=Mi._currentValue,s=s.parent!==u?{parent:u,pool:u}:s):s=Xi(),l={baseLanes:l.baseLanes|n,cachePool:s}),a.memoizedState=l,a.childLanes=Xo(e,i,n),t.memoizedState=Qo,Fo(e.child,a)):(La(t),e=(n=e.child).sibling,(n=Br(n,{mode:"visible",children:a.children})).return=t,n.sibling=null,null!==e&&(null===(i=t.deletions)?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=n,t.memoizedState=null,n)}function el(e,t){return(t=tl({mode:"visible",children:t},e.mode)).return=e,e.child=t}function tl(e,t){return(e=Mr(22,e,null,t)).lanes=0,e}function nl(e,t,n){return ma(t,e.child,null,n),(e=el(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function rl(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ni(e.return,t,n)}function il(e,t,n,r,i,a){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i,s.treeForkCount=a)}function al(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;r=r.children;var s=Fa.current,o=!!(2&s);if(o?(s=1&s|2,t.flags|=128):s&=1,B(Fa,s),Lo(e,t,r,n),r=fi?ei:0,!o&&null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&rl(e,n,t);else if(19===e.tag)rl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Ba(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),il(t,!1,i,n,a,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Ba(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}il(t,!0,n,null,a,r);break;case"together":il(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function sl(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Tu|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Pi(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(r(153));if(null!==t.child){for(n=Br(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Br(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function ol(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!ji(e))}function ll(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)$o=!0;else{if(!(ol(e,n)||128&t.flags))return $o=!1,function(e,t,n){switch(t.tag){case 3:Q(t,t.stateNode.containerInfo),Ci(0,Mi,e.memoizedState.cache),ki();break;case 27:case 5:X(t);break;case 4:Q(t,t.stateNode.containerInfo);break;case 10:Ci(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,Da(t),null;break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(La(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Zo(e,t,n):(La(t),null!==(e=sl(e,t,n))?e.sibling:null);La(t);break;case 19:var i=!!(128&e.flags);if((r=0!==(n&t.childLanes))||(Pi(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return al(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),B(Fa,Fa.current),r)break;return null;case 22:return t.lanes=0,Mo(e,t,n,t.pendingProps);case 24:Ci(0,Mi,e.memoizedState.cache)}return sl(e,t,n)}(e,t,n);$o=!!(131072&e.flags)}else $o=!1,fi&&1048576&t.flags&&oi(t,ei,t.index);switch(t.lanes=0,t.tag){case 16:e:{var i=t.pendingProps;if(e=aa(t.elementType),t.type=e,"function"!=typeof e){if(null!=e){var a=e.$$typeof;if(a===b){t.tag=11,t=Do(null,t,e,i,n);break e}if(a===_){t.tag=14,t=zo(null,t,e,i,n);break e}}throw t=R(e)||e,Error(r(306,t,""))}Fr(e)?(i=xo(e,i),t.tag=1,t=Go(null,t,e,i,n)):(t.tag=0,t=Vo(null,t,e,i,n))}return t;case 0:return Vo(e,t,t.type,t.pendingProps,n);case 1:return Go(e,t,i=t.type,a=xo(i,t.pendingProps),n);case 3:e:{if(Q(t,t.stateNode.containerInfo),null===e)throw Error(r(387));i=t.pendingProps;var s=t.memoizedState;a=s.element,ba(e,t),Ta(t,i,null,n);var o=t.memoizedState;if(i=o.cache,Ci(0,Mi,i),i!==s.cache&&Ri(t,[Mi],n,!0),xa(),i=o.element,s.isDehydrated){if(s={element:i,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Jo(e,t,i,n);break e}if(i!==a){Si(a=Qr(Error(r(424)),t)),t=Jo(e,t,i,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(hi=$d(e.firstChild),di=t,fi=!0,pi=null,mi=!0,n=ga(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ki(),i===a){t=sl(e,t,n);break e}Lo(e,t,i,n)}t=t.child}return t;case 26:return Ho(e,t),null===e?(n=Kd(t.type,null,t.pendingProps,null))?t.memoizedState=n:fi||(n=t.type,e=t.pendingProps,(i=vd(G.current).createElement(n))[qe]=t,i[We]=e,pd(i,n,e),nt(i),t.stateNode=i):t.memoizedState=Kd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return X(t),null===e&&fi&&(i=t.stateNode=Ud(t.type,t.pendingProps,G.current),di=t,mi=!0,a=hi,Od(t.type)?(Ld=a,hi=$d(i.firstChild)):hi=a),Lo(e,t,t.pendingProps.children,n),Ho(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&fi&&((a=i=hi)&&(null!==(i=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Qe])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(a=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(a!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((a=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var a=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===a)return e}if(null===(e=$d(e.nextSibling)))break}return null}(i,t.type,t.pendingProps,mi))?(t.stateNode=i,di=t,hi=$d(i.firstChild),mi=!1,a=!0):a=!1),a||yi(t)),X(t),a=t.type,s=t.pendingProps,o=null!==e?e.memoizedProps:null,i=s.children,kd(a,s)?i=null:null!==o&&kd(a,o)&&(t.flags|=32),null!==t.memoizedState&&(a=ns(e,t,as,null,null,n),hh._currentValue=a),Ho(e,t),Lo(e,t,i,n),t.child;case 6:return null===e&&fi&&((e=n=hi)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=$d(e.nextSibling)))return null}return e}(n,t.pendingProps,mi))?(t.stateNode=n,di=t,hi=null,e=!0):e=!1),e||yi(t)),null;case 13:return Zo(e,t,n);case 4:return Q(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=ma(t,null,i,n):Lo(e,t,i,n),t.child;case 11:return Do(e,t,t.type,t.pendingProps,n);case 7:return Lo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Lo(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,Ci(0,t.type,i.value),Lo(e,t,i.children,n),t.child;case 9:return a=t.type._context,i=t.pendingProps.children,Ai(t),i=i(a=Ii(a)),t.flags|=1,Lo(e,t,i,n),t.child;case 14:return zo(e,t,t.type,t.pendingProps,n);case 15:return Uo(e,t,t.type,t.pendingProps,n);case 19:return al(e,t,n);case 31:return function(e,t,n){var i=t.pendingProps,a=!!(128&t.flags);if(t.flags&=-129,null===e){if(fi){if("hidden"===i.mode)return e=qo(t,i),t.lanes=536870912,Fo(null,e);if(Da(t),(e=hi)?null!==(e=null!==(e=jd(e,mi))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ri?{id:ii,overflow:ai}:null,retryLane:536870912,hydrationErrors:null},(n=Kr(e)).return=t,t.child=n,di=t,hi=null):e=null,null===e)throw yi(t);return t.lanes=536870912,null}return qo(t,i)}var s=e.memoizedState;if(null!==s){var o=s.dehydrated;if(Da(t),a)if(256&t.flags)t.flags&=-257,t=Wo(e,t,n);else{if(null===t.memoizedState)throw Error(r(558));t.child=e.child,t.flags|=128,t=null}else if($o||Pi(e,t,n,!1),a=0!==(n&e.childLanes),$o||a){if(null!==(i=gu)&&0!==(o=De(i,n))&&o!==s.retryLane)throw s.retryLane=o,$r(e,o),Qu(i,e,o),Io;lc(),t=Wo(e,t,n)}else e=s.treeContext,hi=$d(o.nextSibling),di=t,fi=!0,pi=null,mi=!1,null!==e&&ci(t,e),(t=qo(t,i)).flags|=4096;return t}return(e=Br(e.child,{mode:i.mode,children:i.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return Mo(e,t,n,t.pendingProps);case 24:return Ai(t),i=Ii(Mi),null===e?(null===(a=Qi())&&(a=gu,s=Fi(),a.pooledCache=s,s.refCount++,null!==s&&(a.pooledCacheLanes|=n),a=s),t.memoizedState={parent:i,cache:a},va(t),Ci(0,Mi,a)):(0!==(e.lanes&n)&&(ba(e,t),Ta(t,null,null,n),xa()),a=e.memoizedState,s=t.memoizedState,a.parent!==i?(a={parent:i,cache:i},t.memoizedState=a,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=a),Ci(0,Mi,i)):(i=s.cache,Ci(0,Mi,i),i!==a.cache&&Ri(t,[Mi],n,!0))),Lo(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function ul(e){e.flags|=4}function cl(e,t,n,r,i){if((t=!!(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&i)===i)if(e.stateNode.complete)e.flags|=8192;else{if(!ac())throw sa=na,ea;e.flags|=8192}}else e.flags&=-16777217}function dl(e,t){if("stylesheet"!==t.type||4&t.state.loading)e.flags&=-16777217;else if(e.flags|=16777216,!sh(t)){if(!ac())throw sa=na,ea;e.flags|=8192}}function hl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?je():536870912,e.lanes|=t,Ru|=t)}function fl(e,t){if(!fi)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function pl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function ml(e,t,n){var i=t.pendingProps;switch(ui(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return pl(t),null;case 3:return n=t.stateNode,i=null,null!==e&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Oi(Mi),Y(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(wi(t)?ul(t):null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,_i())),pl(t),null;case 26:var a=t.type,s=t.memoizedState;return null===e?(ul(t),null!==s?(pl(t),dl(t,s)):(pl(t),cl(t,a,0,0,n))):s?s!==e.memoizedState?(ul(t),pl(t),dl(t,s)):(pl(t),t.flags&=-16777217):((e=e.memoizedProps)!==i&&ul(t),pl(t),cl(t,a,0,0,n)),null;case 27:if(Z(t),n=G.current,a=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==i&&ul(t);else{if(!i){if(null===t.stateNode)throw Error(r(166));return pl(t),null}e=V.current,wi(t)?vi(t):(e=Ud(a,i,n),t.stateNode=e,ul(t))}return pl(t),null;case 5:if(Z(t),a=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==i&&ul(t);else{if(!i){if(null===t.stateNode)throw Error(r(166));return pl(t),null}if(s=V.current,wi(t))vi(t);else{var o=vd(G.current);switch(s){case 1:s=o.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:s=o.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":s=o.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":s=o.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":(s=o.createElement("div")).innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s="string"==typeof i.is?o.createElement("select",{is:i.is}):o.createElement("select"),i.multiple?s.multiple=!0:i.size&&(s.size=i.size);break;default:s="string"==typeof i.is?o.createElement(a,{is:i.is}):o.createElement(a)}}s[qe]=t,s[We]=i;e:for(o=t.child;null!==o;){if(5===o.tag||6===o.tag)s.appendChild(o.stateNode);else if(4!==o.tag&&27!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;null===o.sibling;){if(null===o.return||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=s;e:switch(pd(s,a,i),a){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&ul(t)}}return pl(t),cl(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==i&&ul(t);else{if("string"!=typeof i&&null===t.stateNode)throw Error(r(166));if(e=G.current,wi(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,null!==(a=di))switch(a.tag){case 27:case 5:i=a.memoizedProps}e[qe]=t,(e=!!(e.nodeValue===n||null!==i&&!0===i.suppressHydrationWarning||dd(e.nodeValue,n)))||yi(t,!0)}else(e=vd(e).createTextNode(i))[qe]=t,t.stateNode=e}return pl(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(i=wi(t),null!==n){if(null===e){if(!i)throw Error(r(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(r(557));e[qe]=t}else ki(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;pl(t),e=!1}else n=_i(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(Ma(t),t):(Ma(t),null);if(128&t.flags)throw Error(r(558))}return pl(t),null;case 13:if(i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(a=wi(t),null!==i&&null!==i.dehydrated){if(null===e){if(!a)throw Error(r(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(r(317));a[qe]=t}else ki(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;pl(t),a=!1}else a=_i(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return 256&t.flags?(Ma(t),t):(Ma(t),null)}return Ma(t),128&t.flags?(t.lanes=n,t):(n=null!==i,e=null!==e&&null!==e.memoizedState,n&&(a=null,null!==(i=t.child).alternate&&null!==i.alternate.memoizedState&&null!==i.alternate.memoizedState.cachePool&&(a=i.alternate.memoizedState.cachePool.pool),s=null,null!==i.memoizedState&&null!==i.memoizedState.cachePool&&(s=i.memoizedState.cachePool.pool),s!==a&&(i.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),hl(t,t.updateQueue),pl(t),null);case 4:return Y(),null===e&&td(t.stateNode.containerInfo),pl(t),null;case 10:return Oi(t.type),pl(t),null;case 19:if(F(Fa),null===(i=t.memoizedState))return pl(t),null;if(a=!!(128&t.flags),null===(s=i.rendering))if(a)fl(i,!1);else{if(0!==xu||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(s=Ba(e))){for(t.flags|=128,fl(i,!1),e=s.updateQueue,t.updateQueue=e,hl(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)qr(n,e),n=n.sibling;return B(Fa,1&Fa.current|2),fi&&si(t,i.treeForkCount),t.child}e=e.sibling}null!==i.tail&&ce()>Lu&&(t.flags|=128,a=!0,fl(i,!1),t.lanes=4194304)}else{if(!a)if(null!==(e=Ba(s))){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,hl(t,e),fl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!s.alternate&&!fi)return pl(t),null}else 2*ce()-i.renderingStartTime>Lu&&536870912!==n&&(t.flags|=128,a=!0,fl(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(null!==(e=i.last)?e.sibling=s:t.child=s,i.last=s)}return null!==i.tail?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ce(),e.sibling=null,n=Fa.current,B(Fa,a?1&n|2:1&n),fi&&si(t,i.treeForkCount),e):(pl(t),null);case 22:case 23:return Ma(t),Aa(),i=null!==t.memoizedState,null!==e?null!==e.memoizedState!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?!!(536870912&n)&&!(128&t.flags)&&(pl(t),6&t.subtreeFlags&&(t.flags|=8192)):pl(t),null!==(n=t.updateQueue)&&hl(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),i=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),null!==e&&F(Ji),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Oi(Mi),pl(t),null;case 25:case 30:return null}throw Error(r(156,t.tag))}function gl(e,t){switch(ui(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Oi(Mi),Y(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Z(t),null;case 31:if(null!==t.memoizedState){if(Ma(t),null===t.alternate)throw Error(r(340));ki()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(Ma(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(r(340));ki()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return F(Fa),null;case 4:return Y(),null;case 10:return Oi(t.type),null;case 22:case 23:return Ma(t),Aa(),null!==e&&F(Ji),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Oi(Mi),null;default:return null}}function yl(e,t){switch(ui(t),t.tag){case 3:Oi(Mi),Y();break;case 26:case 27:case 5:Z(t);break;case 4:Y();break;case 31:null!==t.memoizedState&&Ma(t);break;case 13:Ma(t);break;case 19:F(Fa);break;case 10:Oi(t.type);break;case 22:case 23:Ma(t),Aa(),null!==e&&F(Ji);break;case 24:Oi(Mi)}}function vl(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var a=n.create,s=n.inst;r=a(),s.destroy=r}n=n.next}while(n!==i)}}catch(o){xc(t,t.return,o)}}function bl(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var a=i.next;r=a;do{if((r.tag&e)===e){var s=r.inst,o=s.destroy;if(void 0!==o){s.destroy=void 0,i=t;var l=n,u=o;try{u()}catch(c){xc(i,l,c)}}}r=r.next}while(r!==a)}}catch(c){xc(t,t.return,c)}}function wl(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Oa(t,n)}catch(r){xc(e,e.return,r)}}}function kl(e,t,n){n.props=xo(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){xc(e,t,r)}}function _l(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"==typeof n?e.refCleanup=n(r):n.current=r}}catch(i){xc(e,t,i)}}function Sl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"==typeof r)try{r()}catch(i){xc(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof n)try{n(null)}catch(a){xc(e,t,a)}else n.current=null}function El(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){xc(e,e.return,i)}}function xl(e,t,n){try{var i=e.stateNode;!function(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,s=null,o=null,l=null,u=null,c=null,d=null;for(p in n){var h=n[p];if(n.hasOwnProperty(p)&&null!=h)switch(p){case"checked":case"value":break;case"defaultValue":u=h;default:i.hasOwnProperty(p)||hd(e,t,p,null,i,h)}}for(var f in i){var p=i[f];if(h=n[f],i.hasOwnProperty(f)&&(null!=p||null!=h))switch(f){case"type":s=p;break;case"name":a=p;break;case"checked":c=p;break;case"defaultChecked":d=p;break;case"value":o=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(r(137,t));break;default:p!==h&&hd(e,t,f,p,i,h)}}return void wt(e,o,l,u,c,d,s,a);case"select":for(s in p=o=l=f=null,n)if(u=n[s],n.hasOwnProperty(s)&&null!=u)switch(s){case"value":break;case"multiple":p=u;default:i.hasOwnProperty(s)||hd(e,t,s,null,i,u)}for(a in i)if(s=i[a],u=n[a],i.hasOwnProperty(a)&&(null!=s||null!=u))switch(a){case"value":f=s;break;case"defaultValue":l=s;break;case"multiple":o=s;default:s!==u&&hd(e,t,a,s,i,u)}return t=l,n=o,i=p,void(null!=f?St(e,!!n,f,!1):!!i!=!!n&&(null!=t?St(e,!!n,t,!0):St(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(a=n[l],n.hasOwnProperty(l)&&null!=a&&!i.hasOwnProperty(l))switch(l){case"value":case"children":break;default:hd(e,t,l,null,i,a)}for(o in i)if(a=i[o],s=n[o],i.hasOwnProperty(o)&&(null!=a||null!=s))switch(o){case"value":f=a;break;case"defaultValue":p=a;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=a)throw Error(r(91));break;default:a!==s&&hd(e,t,o,a,i,s)}return void Et(e,f,p);case"option":for(var m in n)if(f=n[m],n.hasOwnProperty(m)&&null!=f&&!i.hasOwnProperty(m))if("selected"===m)e.selected=!1;else hd(e,t,m,null,i,f);for(u in i)if(f=i[u],p=n[u],i.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))if("selected"===u)e.selected=f&&"function"!=typeof f&&"symbol"!=typeof f;else hd(e,t,u,f,i,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!i.hasOwnProperty(g)&&hd(e,t,g,null,i,f);for(c in i)if(f=i[c],p=n[c],i.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))switch(c){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(r(137,t));break;default:hd(e,t,c,f,i,p)}return;default:if(Rt(t)){for(var y in n)f=n[y],n.hasOwnProperty(y)&&void 0!==f&&!i.hasOwnProperty(y)&&fd(e,t,y,void 0,i,f);for(d in i)f=i[d],p=n[d],!i.hasOwnProperty(d)||f===p||void 0===f&&void 0===p||fd(e,t,d,f,i,p);return}}for(var v in n)f=n[v],n.hasOwnProperty(v)&&null!=f&&!i.hasOwnProperty(v)&&hd(e,t,v,null,i,f);for(h in i)f=i[h],p=n[h],!i.hasOwnProperty(h)||f===p||null==f&&null==p||hd(e,t,h,f,i,p)}(i,e.type,n,t),i[We]=t}catch(a){xc(e,e.return,a)}}function Tl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Od(e.type)||4===e.tag}function Cl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Tl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Od(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Ol(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=It));else if(4!==r&&(27===r&&Od(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(Ol(e,t,n),e=e.sibling;null!==e;)Ol(e,t,n),e=e.sibling}function Nl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&Od(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(Nl(e,t,n),e=e.sibling;null!==e;)Nl(e,t,n),e=e.sibling}function Rl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);pd(t,r,n),t[qe]=e,t[We]=n}catch(a){xc(e,e.return,a)}}var Pl=!1,jl=!1,Al=!1,Il="function"==typeof WeakSet?WeakSet:Set,$l=null;function Ll(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Ql(e,n),4&r&&vl(5,n);break;case 1:if(Ql(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(s){xc(n,n.return,s)}else{var i=xo(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){xc(n,n.return,o)}}64&r&&wl(n),512&r&&_l(n,n.return);break;case 3:if(Ql(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{Oa(e,t)}catch(s){xc(n,n.return,s)}}break;case 27:null===t&&4&r&&Rl(n);case 26:case 5:Ql(e,n),null===t&&4&r&&El(n),512&r&&_l(n,n.return);break;case 12:Ql(e,n);break;case 31:Ql(e,n),4&r&&Bl(e,n);break;case 13:Ql(e,n),4&r&&ql(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=Nc.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||Pl)){t=null!==t&&null!==t.memoizedState||jl,i=Pl;var a=jl;Pl=r,(jl=t)&&!a?Xl(e,n,!!(8772&n.subtreeFlags)):Ql(e,n),Pl=i,jl=a}break;case 30:break;default:Ql(e,n)}}function Dl(e){var t=e.alternate;null!==t&&(e.alternate=null,Dl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ye(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var zl=null,Ul=!1;function Ml(e,t,n){for(n=n.child;null!==n;)Fl(e,t,n),n=n.sibling}function Fl(e,t,n){if(we&&"function"==typeof we.onCommitFiberUnmount)try{we.onCommitFiberUnmount(be,n)}catch(a){}switch(n.tag){case 26:jl||Sl(n,t),Ml(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:jl||Sl(n,t);var r=zl,i=Ul;Od(n.type)&&(zl=n.stateNode,Ul=!1),Ml(e,t,n),Md(n.stateNode),zl=r,Ul=i;break;case 5:jl||Sl(n,t);case 6:if(r=zl,i=Ul,zl=null,Ml(e,t,n),Ul=i,null!==(zl=r))if(Ul)try{(9===zl.nodeType?zl.body:"HTML"===zl.nodeName?zl.ownerDocument.body:zl).removeChild(n.stateNode)}catch(s){xc(n,t,s)}else try{zl.removeChild(n.stateNode)}catch(s){xc(n,t,s)}break;case 18:null!==zl&&(Ul?(Nd(9===(e=zl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Vh(e)):Nd(zl,n.stateNode));break;case 4:r=zl,i=Ul,zl=n.stateNode.containerInfo,Ul=!0,Ml(e,t,n),zl=r,Ul=i;break;case 0:case 11:case 14:case 15:bl(2,n,t),jl||bl(4,n,t),Ml(e,t,n);break;case 1:jl||(Sl(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount&&kl(n,t,r)),Ml(e,t,n);break;case 21:Ml(e,t,n);break;case 22:jl=(r=jl)||null!==n.memoizedState,Ml(e,t,n),jl=r;break;default:Ml(e,t,n)}}function Bl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{Vh(e)}catch(n){xc(t,t.return,n)}}}function ql(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Vh(e)}catch(n){xc(t,t.return,n)}}function Wl(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Il),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Il),t;default:throw Error(r(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=Rc.bind(null,e,t);t.then(r,r)}})}function Hl(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var a=n[i],s=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:if(Od(l.type)){zl=l.stateNode,Ul=!1;break e}break;case 5:zl=l.stateNode,Ul=!1;break e;case 3:case 4:zl=l.stateNode.containerInfo,Ul=!0;break e}l=l.return}if(null===zl)throw Error(r(160));Fl(s,o,a),zl=null,Ul=!1,null!==(s=a.alternate)&&(s.return=null),a.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Kl(t,e),t=t.sibling}var Vl=null;function Kl(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Hl(t,e),Gl(e),4&i&&(bl(3,e,e.return),vl(3,e),bl(5,e,e.return));break;case 1:Hl(t,e),Gl(e),512&i&&(jl||null===n||Sl(n,n.return)),64&i&&Pl&&(null!==(e=e.updateQueue)&&(null!==(i=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?i:n.concat(i))));break;case 26:var a=Vl;if(Hl(t,e),Gl(e),512&i&&(jl||null===n||Sl(n,n.return)),4&i){var s=null!==n?n.memoizedState:null;if(i=e.memoizedState,null===n)if(null===i)if(null===e.stateNode){e:{i=e.type,n=e.memoizedProps,a=a.ownerDocument||a;t:switch(i){case"title":(!(s=a.getElementsByTagName("title")[0])||s[Qe]||s[qe]||"http://www.w3.org/2000/svg"===s.namespaceURI||s.hasAttribute("itemprop"))&&(s=a.createElement(i),a.head.insertBefore(s,a.querySelector("head > title"))),pd(s,i,n),s[qe]=e,nt(s),i=s;break e;case"link":var o=ih("link","href",a).get(i+(n.href||""));if(o)for(var l=0;l<o.length;l++)if((s=o[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&s.getAttribute("rel")===(null==n.rel?null:n.rel)&&s.getAttribute("title")===(null==n.title?null:n.title)&&s.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(l,1);break t}pd(s=a.createElement(i),i,n),a.head.appendChild(s);break;case"meta":if(o=ih("meta","content",a).get(i+(n.content||"")))for(l=0;l<o.length;l++)if((s=o[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&s.getAttribute("name")===(null==n.name?null:n.name)&&s.getAttribute("property")===(null==n.property?null:n.property)&&s.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&s.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(l,1);break t}pd(s=a.createElement(i),i,n),a.head.appendChild(s);break;default:throw Error(r(468,i))}s[qe]=e,nt(s),i=s}e.stateNode=i}else ah(a,e.type,e.stateNode);else e.stateNode=Zd(a,i,e.memoizedProps);else s!==i?(null===s?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):s.count--,null===i?ah(a,e.type,e.stateNode):Zd(a,i,e.memoizedProps)):null===i&&null!==e.stateNode&&xl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Hl(t,e),Gl(e),512&i&&(jl||null===n||Sl(n,n.return)),null!==n&&4&i&&xl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Hl(t,e),Gl(e),512&i&&(jl||null===n||Sl(n,n.return)),32&e.flags){a=e.stateNode;try{Tt(a,"")}catch(m){xc(e,e.return,m)}}4&i&&null!=e.stateNode&&xl(e,a=e.memoizedProps,null!==n?n.memoizedProps:a),1024&i&&(Al=!0);break;case 6:if(Hl(t,e),Gl(e),4&i){if(null===e.stateNode)throw Error(r(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(m){xc(e,e.return,m)}}break;case 3:if(rh=null,a=Vl,Vl=qd(t.containerInfo),Hl(t,e),Vl=a,Gl(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{Vh(t.containerInfo)}catch(m){xc(e,e.return,m)}Al&&(Al=!1,Jl(e));break;case 4:i=Vl,Vl=qd(e.stateNode.containerInfo),Hl(t,e),Gl(e),Vl=i;break;case 12:default:Hl(t,e),Gl(e);break;case 31:case 19:Hl(t,e),Gl(e),4&i&&(null!==(i=e.updateQueue)&&(e.updateQueue=null,Wl(e,i)));break;case 13:Hl(t,e),Gl(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==n&&null!==n.memoizedState)&&(Iu=ce()),4&i&&(null!==(i=e.updateQueue)&&(e.updateQueue=null,Wl(e,i)));break;case 22:a=null!==e.memoizedState;var u=null!==n&&null!==n.memoizedState,c=Pl,d=jl;if(Pl=c||a,jl=d||u,Hl(t,e),jl=d,Pl=c,Gl(e),8192&i)e:for(t=e.stateNode,t._visibility=a?-2&t._visibility:1|t._visibility,a&&(null===n||u||Pl||jl||Yl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){u=n=t;try{if(s=u.stateNode,a)"function"==typeof(o=s.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{l=u.stateNode;var h=u.memoizedProps.style,f=null!=h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==f||"boolean"==typeof f?"":(""+f).trim()}}catch(m){xc(u,u.return,m)}}}else if(6===t.tag){if(null===n){u=t;try{u.stateNode.nodeValue=a?"":u.memoizedProps}catch(m){xc(u,u.return,m)}}}else if(18===t.tag){if(null===n){u=t;try{var p=u.stateNode;a?Rd(p,!0):Rd(u.stateNode,!1)}catch(m){xc(u,u.return,m)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&i&&(null!==(i=e.updateQueue)&&(null!==(n=i.retryQueue)&&(i.retryQueue=null,Wl(e,n))));case 30:case 21:}}function Gl(e){var t=e.flags;if(2&t){try{for(var n,i=e.return;null!==i;){if(Tl(i)){n=i;break}i=i.return}if(null==n)throw Error(r(160));switch(n.tag){case 27:var a=n.stateNode;Nl(e,Cl(e),a);break;case 5:var s=n.stateNode;32&n.flags&&(Tt(s,""),n.flags&=-33),Nl(e,Cl(e),s);break;case 3:case 4:var o=n.stateNode.containerInfo;Ol(e,Cl(e),o);break;default:throw Error(r(161))}}catch(l){xc(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Jl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Jl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Ql(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Ll(e,t.alternate,t),t=t.sibling}function Yl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:bl(4,t,t.return),Yl(t);break;case 1:Sl(t,t.return);var n=t.stateNode;"function"==typeof n.componentWillUnmount&&kl(t,t.return,n),Yl(t);break;case 27:Md(t.stateNode);case 26:case 5:Sl(t,t.return),Yl(t);break;case 22:null===t.memoizedState&&Yl(t);break;default:Yl(t)}e=e.sibling}}function Xl(e,t,n){for(n=n&&!!(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,a=t,s=a.flags;switch(a.tag){case 0:case 11:case 15:Xl(i,a,n),vl(4,a);break;case 1:if(Xl(i,a,n),"function"==typeof(i=(r=a).stateNode).componentDidMount)try{i.componentDidMount()}catch(u){xc(r,r.return,u)}if(null!==(i=(r=a).updateQueue)){var o=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)Ca(l[i],o)}catch(u){xc(r,r.return,u)}}n&&64&s&&wl(a),_l(a,a.return);break;case 27:Rl(a);case 26:case 5:Xl(i,a,n),n&&null===r&&4&s&&El(a),_l(a,a.return);break;case 12:Xl(i,a,n);break;case 31:Xl(i,a,n),n&&4&s&&Bl(i,a);break;case 13:Xl(i,a,n),n&&4&s&&ql(i,a);break;case 22:null===a.memoizedState&&Xl(i,a,n),_l(a,a.return);break;case 30:break;default:Xl(i,a,n)}t=t.sibling}}function Zl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Bi(n))}function eu(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Bi(e))}function tu(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)nu(e,t,n,r),t=t.sibling}function nu(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:tu(e,t,n,r),2048&i&&vl(9,t);break;case 1:case 31:case 13:default:tu(e,t,n,r);break;case 3:tu(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Bi(e)));break;case 12:if(2048&i){tu(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,s=a.id,o=a.onPostCommit;"function"==typeof o&&o(s,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){xc(t,t.return,l)}}else tu(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,s=t.alternate,null!==t.memoizedState?2&a._visibility?tu(e,t,n,r):iu(e,t):2&a._visibility?tu(e,t,n,r):(a._visibility|=2,ru(e,t,n,r,!!(10256&t.subtreeFlags)||!1)),2048&i&&Zl(s,t);break;case 24:tu(e,t,n,r),2048&i&&eu(t.alternate,t)}}function ru(e,t,n,r,i){for(i=i&&(!!(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var a=e,s=t,o=n,l=r,u=s.flags;switch(s.tag){case 0:case 11:case 15:ru(a,s,o,l,i),vl(8,s);break;case 23:break;case 22:var c=s.stateNode;null!==s.memoizedState?2&c._visibility?ru(a,s,o,l,i):iu(a,s):(c._visibility|=2,ru(a,s,o,l,i)),i&&2048&u&&Zl(s.alternate,s);break;case 24:ru(a,s,o,l,i),i&&2048&u&&eu(s.alternate,s);break;default:ru(a,s,o,l,i)}t=t.sibling}}function iu(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:iu(n,r),2048&i&&Zl(r.alternate,r);break;case 24:iu(n,r),2048&i&&eu(r.alternate,r);break;default:iu(n,r)}t=t.sibling}}var au=8192;function su(e,t,n){if(e.subtreeFlags&au)for(e=e.child;null!==e;)ou(e,t,n),e=e.sibling}function ou(e,t,n){switch(e.tag){case 26:su(e,t,n),e.flags&au&&null!==e.memoizedState&&function(e,t,n,r){if(!("stylesheet"!==n.type||"string"==typeof r.media&&!1===matchMedia(r.media).matches||4&n.state.loading)){if(null===n.instance){var i=Gd(r.href),a=t.querySelector(Jd(i));if(a)return null!==(t=a._p)&&"object"==typeof t&&"function"==typeof t.then&&(e.count++,e=lh.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=a,void nt(a);a=t.ownerDocument||t,r=Qd(r),(i=Fd.get(i))&&th(r,i),nt(a=a.createElement("link"));var s=a;s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),pd(a,"link",r),n.instance=a}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(3&n.state.loading)&&(e.count++,n=lh.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,Vl,e.memoizedState,e.memoizedProps);break;case 5:default:su(e,t,n);break;case 3:case 4:var r=Vl;Vl=qd(e.stateNode.containerInfo),su(e,t,n),Vl=r;break;case 22:null===e.memoizedState&&(null!==(r=e.alternate)&&null!==r.memoizedState?(r=au,au=16777216,su(e,t,n),au=r):su(e,t,n))}}function lu(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function uu(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];$l=r,hu(r,e)}lu(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)cu(e),e=e.sibling}function cu(e){switch(e.tag){case 0:case 11:case 15:uu(e),2048&e.flags&&bl(9,e,e.return);break;case 3:case 12:default:uu(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,du(e)):uu(e)}}function du(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];$l=r,hu(r,e)}lu(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:bl(8,t,t.return),du(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,du(t));break;default:du(t)}e=e.sibling}}function hu(e,t){for(;null!==$l;){var n=$l;switch(n.tag){case 0:case 11:case 15:bl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Bi(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,$l=r;else e:for(n=e;null!==$l;){var i=(r=$l).sibling,a=r.return;if(Dl(r),r===n){$l=null;break e}if(null!==i){i.return=a,$l=i;break e}$l=a}}}var fu={getCacheForType:function(e){var t=Ii(Mi),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Ii(Mi).controller.signal}},pu="function"==typeof WeakMap?WeakMap:Map,mu=0,gu=null,yu=null,vu=0,bu=0,wu=null,ku=!1,_u=!1,Su=!1,Eu=0,xu=0,Tu=0,Cu=0,Ou=0,Nu=0,Ru=0,Pu=null,ju=null,Au=!1,Iu=0,$u=0,Lu=1/0,Du=null,zu=null,Uu=0,Mu=null,Fu=null,Bu=0,qu=0,Wu=null,Hu=null,Vu=0,Ku=null;function Gu(){return 2&mu&&0!==vu?vu&-vu:null!==j.T?Wc():Me()}function Ju(){if(0===Nu)if(536870912&vu&&!fi)Nu=536870912;else{var e=Te;!(3932160&(Te<<=1))&&(Te=262144),Nu=e}return null!==(e=Ia.current)&&(e.flags|=32),Nu}function Qu(e,t,n){(e!==gu||2!==bu&&9!==bu)&&null===e.cancelPendingCommit||(rc(e,0),ec(e,vu,Nu,!1)),Ie(e,n),2&mu&&e===gu||(e===gu&&(!(2&mu)&&(Cu|=n),4===xu&&ec(e,vu,Nu,!1)),Dc(e))}function Yu(e,t,n){if(6&mu)throw Error(r(327));for(var i=!n&&!(127&t)&&0===(t&e.expiredLanes)||Re(e,t),a=i?function(e,t){var n=mu;mu|=2;var i=sc(),a=oc();gu!==e||vu!==t?(Du=null,Lu=ce()+500,rc(e,t)):_u=Re(e,t);e:for(;;)try{if(0!==bu&&null!==yu){t=yu;var s=wu;t:switch(bu){case 1:bu=0,wu=null,pc(e,t,s,1);break;case 2:case 9:if(ra(s)){bu=0,wu=null,fc(t);break}t=function(){2!==bu&&9!==bu||gu!==e||(bu=7),Dc(e)},s.then(t,t);break e;case 3:bu=7;break e;case 4:bu=5;break e;case 7:ra(s)?(bu=0,wu=null,fc(t)):(bu=0,wu=null,pc(e,t,s,7));break;case 5:var o=null;switch(yu.tag){case 26:o=yu.memoizedState;case 5:case 27:var l=yu;if(o?sh(o):l.stateNode.complete){bu=0,wu=null;var u=l.sibling;if(null!==u)yu=u;else{var c=l.return;null!==c?(yu=c,mc(c)):yu=null}break t}}bu=0,wu=null,pc(e,t,s,5);break;case 6:bu=0,wu=null,pc(e,t,s,6);break;case 8:nc(),xu=6;break e;default:throw Error(r(462))}}dc();break}catch(d){ic(e,d)}return Ti=xi=null,j.H=i,j.A=a,mu=n,null!==yu?0:(gu=null,vu=0,jr(),xu)}(e,t):uc(e,t,!0),s=i;;){if(0===a){_u&&!i&&ec(e,t,0,!1);break}if(n=e.current.alternate,!s||Zu(n)){if(2===a){if(s=t,e.errorRecoveryDisabledLanes&s)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;a=Pu;var u=l.current.memoizedState.isDehydrated;if(u&&(rc(l,o).flags|=256),2!==(o=uc(l,o,!1))){if(Su&&!u){l.errorRecoveryDisabledLanes|=s,Cu|=s,a=4;break e}s=ju,ju=a,null!==s&&(null===ju?ju=s:ju.push.apply(ju,s))}a=o}if(s=!1,2!==a)continue}}if(1===a){rc(e,0),ec(e,t,0,!0);break}e:{switch(i=e,s=a){case 0:case 1:throw Error(r(345));case 4:if((4194048&t)!==t)break;case 6:ec(i,t,Nu,!ku);break e;case 2:ju=null;break;case 3:case 5:break;default:throw Error(r(329))}if((62914560&t)===t&&10<(a=Iu+300-ce())){if(ec(i,t,Nu,!ku),0!==Ne(i,0,!0))break e;Bu=t,i.timeoutHandle=Sd(Xu.bind(null,i,n,ju,Du,Au,t,Nu,Cu,Ru,ku,s,"Throttled",-0,0),a)}else Xu(i,n,ju,Du,Au,t,Nu,Cu,Ru,ku,s,null,-0,0)}break}a=uc(e,t,!1),s=!1}Dc(e)}function Xu(e,t,n,r,i,a,s,o,l,u,c,d,h,f){if(e.timeoutHandle=-1,8192&(d=t.subtreeFlags)||!(16785408&~d)){ou(t,a,d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:It});var p=(62914560&a)===a?Iu-ce():(4194048&a)===a?$u-ce():0;if(null!==(p=function(e,t){return e.stylesheets&&0===e.count&&ch(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&ch(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===oh&&(oh=62500*function(){if("function"==typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var i=n[r],a=i.transferSize,s=i.initiatorType,o=i.duration;if(a&&o&&md(s)){for(s=0,o=i.responseEnd,r+=1;r<n.length;r++){var l=n[r],u=l.startTime;if(u>o)break;var c=l.transferSize,d=l.initiatorType;c&&md(d)&&(s+=c*((l=l.responseEnd)<o?1:(o-u)/(l-u)))}if(--r,t+=8*(a+s)/(i.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"==typeof(e=navigator.connection.downlink)?e:5}());var i=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&ch(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>oh?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}(d,p)))return Bu=a,e.cancelPendingCommit=p(yc.bind(null,e,t,a,n,r,i,s,o,l,c,d,null,h,f)),void ec(e,a,s,!u)}yc(e,t,a,n,r,i,s,o,l)}function Zu(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!er(a(),i))return!1}catch(s){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ec(e,t,n,r){t&=~Ou,t&=~Cu,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var a=31-_e(i),s=1<<a;r[a]=-1,i&=~s}0!==n&&$e(e,n,t)}function tc(){return!!(6&mu)||(zc(0),!1)}function nc(){if(null!==yu){if(0===bu)var e=yu.return;else Ti=xi=null,ls(e=yu),ua=null,ca=0,e=yu;for(;null!==e;)yl(e.alternate,e),e=e.return;yu=null}}function rc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,Ed(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Bu=0,nc(),gu=e,yu=n=Br(e.current,null),vu=t,bu=0,wu=null,ku=!1,_u=Re(e,t),Su=!1,Ru=Nu=Ou=Cu=Tu=xu=0,ju=Pu=null,Au=!1,8&t&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-_e(r),a=1<<i;t|=e[i],r&=~a}return Eu=t,jr(),n}function ic(e,t){Wa=null,j.H=yo,t===Zi||t===ta?(t=oa(),bu=3):t===ea?(t=oa(),bu=4):bu=t===Io?8:null!==t&&"object"==typeof t&&"function"==typeof t.then?6:1,wu=t,null===yu&&(xu=1,No(e,Qr(t,e.current)))}function ac(){var e=Ia.current;return null===e||((4194048&vu)===vu?null===$a:!!((62914560&vu)===vu||536870912&vu)&&e===$a)}function sc(){var e=j.H;return j.H=yo,null===e?yo:e}function oc(){var e=j.A;return j.A=fu,e}function lc(){xu=4,ku||(4194048&vu)!==vu&&null!==Ia.current||(_u=!0),!(134217727&Tu)&&!(134217727&Cu)||null===gu||ec(gu,vu,Nu,!1)}function uc(e,t,n){var r=mu;mu|=2;var i=sc(),a=oc();gu===e&&vu===t||(Du=null,rc(e,t)),t=!1;var s=xu;e:for(;;)try{if(0!==bu&&null!==yu){var o=yu,l=wu;switch(bu){case 8:nc(),s=6;break e;case 3:case 2:case 9:case 6:null===Ia.current&&(t=!0);var u=bu;if(bu=0,wu=null,pc(e,o,l,u),n&&_u){s=0;break e}break;default:u=bu,bu=0,wu=null,pc(e,o,l,u)}}cc(),s=xu;break}catch(c){ic(e,c)}return t&&e.shellSuspendCounter++,Ti=xi=null,mu=r,j.H=i,j.A=a,null===yu&&(gu=null,vu=0,jr()),s}function cc(){for(;null!==yu;)hc(yu)}function dc(){for(;null!==yu&&!le();)hc(yu)}function hc(e){var t=ll(e.alternate,e,Eu);e.memoizedProps=e.pendingProps,null===t?mc(e):yu=t}function fc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ko(n,t,t.pendingProps,t.type,void 0,vu);break;case 11:t=Ko(n,t,t.pendingProps,t.type.render,t.ref,vu);break;case 5:ls(t);default:yl(n,t),t=ll(n,t=yu=qr(t,Eu),Eu)}e.memoizedProps=e.pendingProps,null===t?mc(e):yu=t}function pc(e,t,n,i){Ti=xi=null,ls(t),ua=null,ca=0;var a=t.return;try{if(function(e,t,n,i,a){if(n.flags|=32768,null!==i&&"object"==typeof i&&"function"==typeof i.then){if(null!==(t=n.alternate)&&Pi(t,n,a,!0),null!==(n=Ia.current)){switch(n.tag){case 31:case 13:return null===$a?lc():null===n.alternate&&0===xu&&(xu=3),n.flags&=-257,n.flags|=65536,n.lanes=a,i===na?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([i]):t.add(i),Tc(e,i,a)),!1;case 22:return n.flags|=65536,i===na?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([i]):n.add(i),Tc(e,i,a)),!1}throw Error(r(435,n.tag))}return Tc(e,i,a),lc(),!1}if(fi)return null!==(t=Ia.current)?(!(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=a,i!==gi&&Si(Qr(e=Error(r(422),{cause:i}),n))):(i!==gi&&Si(Qr(t=Error(r(423),{cause:i}),n)),(e=e.current.alternate).flags|=65536,a&=-a,e.lanes|=a,i=Qr(i,n),Sa(e,a=Po(e.stateNode,i,a)),4!==xu&&(xu=2)),!1;var s=Error(r(520),{cause:i});if(s=Qr(s,n),null===Pu?Pu=[s]:Pu.push(s),4!==xu&&(xu=2),null===t)return!0;i=Qr(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,Sa(n,e=Po(n.stateNode,i,e)),!1;case 1:if(t=n.type,s=n.stateNode,!(128&n.flags||"function"!=typeof t.getDerivedStateFromError&&(null===s||"function"!=typeof s.componentDidCatch||null!==zu&&zu.has(s))))return n.flags|=65536,a&=-a,n.lanes|=a,Ao(a=jo(a),e,n,i),Sa(n,a),!1}n=n.return}while(null!==n);return!1}(e,a,t,n,vu))return xu=1,No(e,Qr(n,e.current)),void(yu=null)}catch(s){if(null!==a)throw yu=a,s;return xu=1,No(e,Qr(n,e.current)),void(yu=null)}32768&t.flags?(fi||1===i?e=!0:_u||536870912&vu?e=!1:(ku=e=!0,(2===i||9===i||3===i||6===i)&&(null!==(i=Ia.current)&&13===i.tag&&(i.flags|=16384))),gc(t,e)):mc(t)}function mc(e){var t=e;do{if(32768&t.flags)return void gc(t,ku);e=t.return;var n=ml(t.alternate,t,Eu);if(null!==n)return void(yu=n);if(null!==(t=t.sibling))return void(yu=t);yu=t=e}while(null!==t);0===xu&&(xu=5)}function gc(e,t){do{var n=gl(e.alternate,e);if(null!==n)return n.flags&=32767,void(yu=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(yu=e);yu=e=n}while(null!==e);xu=6,yu=null}function yc(e,t,n,i,a,s,o,l,u){e.cancelPendingCommit=null;do{_c()}while(0!==Uu);if(6&mu)throw Error(r(327));if(null!==t){if(t===e.current)throw Error(r(177));if(s=t.lanes|t.childLanes,function(e,t,n,r,i,a){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,u=e.hiddenUpdates;for(n=s&~n;0<n;){var c=31-_e(n),d=1<<c;o[c]=0,l[c]=-1;var h=u[c];if(null!==h)for(u[c]=null,c=0;c<h.length;c++){var f=h[c];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&$e(e,r,0),0!==a&&0===i&&0!==e.tag&&(e.suspendedLanes|=a&~(s&~t))}(e,n,s|=Pr,o,l,u),e===gu&&(yu=gu=null,vu=0),Fu=t,Mu=e,Bu=n,qu=s,Wu=a,Hu=i,10256&t.subtreeFlags||10256&t.flags?(e.callbackNode=null,e.callbackPriority=0,se(pe,function(){return Sc(),null})):(e.callbackNode=null,e.callbackPriority=0),i=!!(13878&t.flags),13878&t.subtreeFlags||i){i=j.T,j.T=null,a=I.p,I.p=2,o=mu,mu|=4;try{!function(e,t){if(e=e.containerInfo,gd=kh,sr(e=ar(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var a=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch(g){n=null;break e}var o=0,l=-1,u=-1,c=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==a&&3!==h.nodeType||(l=o+a),h!==s||0!==i&&3!==h.nodeType||(u=o+i),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++c===a&&(l=o),f===s&&++d===i&&(u=o),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(yd={focusedElem:e,selectionRange:n},kh=!1,$l=t;null!==$l;)if(e=(t=$l).child,1028&t.subtreeFlags&&null!==e)e.return=t,$l=e;else for(;null!==$l;){switch(s=(t=$l).alternate,e=t.flags,t.tag){case 0:if(4&e&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(a=e[n]).ref.impl=a.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(1024&e&&null!==s){e=void 0,n=t,a=s.memoizedProps,s=s.memoizedState,i=n.stateNode;try{var m=xo(n.type,a);e=i.getSnapshotBeforeUpdate(m,s),i.__reactInternalSnapshotBeforeUpdate=e}catch(y){xc(n,n.return,y)}}break;case 3:if(1024&e)if(9===(n=(e=t.stateNode.containerInfo).nodeType))Pd(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Pd(e);break;default:e.textContent=""}break;default:if(1024&e)throw Error(r(163))}if(null!==(e=t.sibling)){e.return=t.return,$l=e;break}$l=t.return}}(e,t)}finally{mu=o,I.p=a,j.T=i}}Uu=1,vc(),bc(),wc()}}function vc(){if(1===Uu){Uu=0;var e=Mu,t=Fu,n=!!(13878&t.flags);if(13878&t.subtreeFlags||n){n=j.T,j.T=null;var r=I.p;I.p=2;var i=mu;mu|=4;try{Kl(t,e);var a=yd,s=ar(e.containerInfo),o=a.focusedElem,l=a.selectionRange;if(s!==o&&o&&o.ownerDocument&&ir(o.ownerDocument.documentElement,o)){if(null!==l&&sr(o)){var u=l.start,c=l.end;if(void 0===c&&(c=u),"selectionStart"in o)o.selectionStart=u,o.selectionEnd=Math.min(c,o.value.length);else{var d=o.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var f=h.getSelection(),p=o.textContent.length,m=Math.min(l.start,p),g=void 0===l.end?m:Math.min(l.end,p);!f.extend&&m>g&&(s=g,g=m,m=s);var y=rr(o,m),v=rr(o,g);if(y&&v&&(1!==f.rangeCount||f.anchorNode!==y.node||f.anchorOffset!==y.offset||f.focusNode!==v.node||f.focusOffset!==v.offset)){var b=d.createRange();b.setStart(y.node,y.offset),f.removeAllRanges(),m>g?(f.addRange(b),f.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),f.addRange(b))}}}}for(d=[],f=o;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"==typeof o.focus&&o.focus(),o=0;o<d.length;o++){var w=d[o];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}kh=!!gd,yd=gd=null}finally{mu=i,I.p=r,j.T=n}}e.current=t,Uu=2}}function bc(){if(2===Uu){Uu=0;var e=Mu,t=Fu,n=!!(8772&t.flags);if(8772&t.subtreeFlags||n){n=j.T,j.T=null;var r=I.p;I.p=2;var i=mu;mu|=4;try{Ll(e,t.alternate,t)}finally{mu=i,I.p=r,j.T=n}}Uu=3}}function wc(){if(4===Uu||3===Uu){Uu=0,ue();var e=Mu,t=Fu,n=Bu,r=Hu;10256&t.subtreeFlags||10256&t.flags?Uu=5:(Uu=0,Fu=Mu=null,kc(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(zu=null),Ue(n),t=t.stateNode,we&&"function"==typeof we.onCommitFiberRoot)try{we.onCommitFiberRoot(be,t,void 0,!(128&~t.current.flags))}catch(l){}if(null!==r){t=j.T,i=I.p,I.p=2,j.T=null;try{for(var a=e.onRecoverableError,s=0;s<r.length;s++){var o=r[s];a(o.value,{componentStack:o.stack})}}finally{j.T=t,I.p=i}}3&Bu&&_c(),Dc(e),i=e.pendingLanes,261930&n&&42&i?e===Ku?Vu++:(Vu=0,Ku=e):Vu=0,zc(0)}}function kc(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Bi(t)))}function _c(){return vc(),bc(),wc(),Sc()}function Sc(){if(5!==Uu)return!1;var e=Mu,t=qu;qu=0;var n=Ue(Bu),i=j.T,a=I.p;try{I.p=32>n?32:n,j.T=null,n=Wu,Wu=null;var s=Mu,o=Bu;if(Uu=0,Fu=Mu=null,Bu=0,6&mu)throw Error(r(331));var l=mu;if(mu|=4,cu(s.current),nu(s,s.current,o,n),mu=l,zc(0,!1),we&&"function"==typeof we.onPostCommitFiberRoot)try{we.onPostCommitFiberRoot(be,s)}catch(u){}return!0}finally{I.p=a,j.T=i,kc(e,t)}}function Ec(e,t,n){t=Qr(n,t),null!==(e=ka(e,t=Po(e.stateNode,t,2),2))&&(Ie(e,2),Dc(e))}function xc(e,t,n){if(3===e.tag)Ec(e,e,n);else for(;null!==t;){if(3===t.tag){Ec(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===zu||!zu.has(r))){e=Qr(n,e),null!==(r=ka(t,n=jo(2),2))&&(Ao(n,r,t,e),Ie(r,2),Dc(r));break}}t=t.return}}function Tc(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new pu;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(Su=!0,i.add(n),e=Cc.bind(null,e,t,n),t.then(e,e))}function Cc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,gu===e&&(vu&n)===n&&(4===xu||3===xu&&(62914560&vu)===vu&&300>ce()-Iu?!(2&mu)&&rc(e,0):Ou|=n,Ru===vu&&(Ru=0)),Dc(e)}function Oc(e,t){0===t&&(t=je()),null!==(e=$r(e,t))&&(Ie(e,t),Dc(e))}function Nc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Oc(e,n)}function Rc(e,t){var n=0;switch(e.tag){case 31:case 13:var i=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(r(314))}null!==i&&i.delete(t),Oc(e,n)}var Pc=null,jc=null,Ac=!1,Ic=!1,$c=!1,Lc=0;function Dc(e){e!==jc&&null===e.next&&(null===jc?Pc=jc=e:jc=jc.next=e),Ic=!0,Ac||(Ac=!0,Td(function(){6&mu?se(he,Uc):Mc()}))}function zc(e,t){if(!$c&&Ic){$c=!0;do{for(var n=!1,r=Pc;null!==r;){if(0!==e){var i=r.pendingLanes;if(0===i)var a=0;else{var s=r.suspendedLanes,o=r.pingedLanes;a=(1<<31-_e(42|e)+1)-1,a=201326741&(a&=i&~(s&~o))?201326741&a|1:a?2|a:0}0!==a&&(n=!0,qc(r,a))}else a=vu,!(3&(a=Ne(r,r===gu?a:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||Re(r,a)||(n=!0,qc(r,a));r=r.next}}while(n);$c=!1}}function Uc(){Mc()}function Mc(){Ic=Ac=!1;var e=0;0!==Lc&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==_d&&(_d=e,!0);return _d=null,!1}()&&(e=Lc);for(var t=ce(),n=null,r=Pc;null!==r;){var i=r.next,a=Fc(r,t);0===a?(r.next=null,null===n?Pc=i:n.next=i,null===i&&(jc=n)):(n=r,(0!==e||3&a)&&(Ic=!0)),r=i}0!==Uu&&5!==Uu||zc(e),0!==Lc&&(Lc=0)}function Fc(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=-62914561&e.pendingLanes;0<a;){var s=31-_e(a),o=1<<s,l=i[s];-1===l?0!==(o&n)&&0===(o&r)||(i[s]=Pe(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}if(n=vu,n=Ne(e,e===(t=gu)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===bu||9===bu)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&oe(r),e.callbackNode=null,e.callbackPriority=0;if(!(3&n)||Re(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&oe(r),Ue(n)){case 2:case 8:n=fe;break;case 32:default:n=pe;break;case 268435456:n=ge}return r=Bc.bind(null,e),n=se(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&oe(r),e.callbackPriority=2,e.callbackNode=null,2}function Bc(e,t){if(0!==Uu&&5!==Uu)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(_c()&&e.callbackNode!==n)return null;var r=vu;return 0===(r=Ne(e,e===gu?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Yu(e,r,t),Fc(e,ce()),null!=e.callbackNode&&e.callbackNode===n?Bc.bind(null,e):null)}function qc(e,t){if(_c())return null;Yu(e,t,!0)}function Wc(){if(0===Lc){var e=Hi;0===e&&(e=xe,!(261888&(xe<<=1))&&(xe=256)),Lc=e}return Lc}function Hc(e){return null==e||"symbol"==typeof e||"boolean"==typeof e?null:"function"==typeof e?e:At(""+e)}function Vc(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Kc=0;Kc<Tr.length;Kc++){var Gc=Tr[Kc];Cr(Gc.toLowerCase(),"on"+(Gc[0].toUpperCase()+Gc.slice(1)))}Cr(vr,"onAnimationEnd"),Cr(br,"onAnimationIteration"),Cr(wr,"onAnimationStart"),Cr("dblclick","onDoubleClick"),Cr("focusin","onFocus"),Cr("focusout","onBlur"),Cr(kr,"onTransitionRun"),Cr(_r,"onTransitionStart"),Cr(Sr,"onTransitionCancel"),Cr(Er,"onTransitionEnd"),st("onMouseEnter",["mouseout","mouseover"]),st("onMouseLeave",["mouseout","mouseover"]),st("onPointerEnter",["pointerout","pointerover"]),st("onPointerLeave",["pointerout","pointerover"]),at("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),at("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),at("onBeforeInput",["compositionend","keypress","textInput","paste"]),at("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),at("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),at("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qc=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Jc));function Yc(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=u;try{a(i)}catch(c){Or(c)}i.currentTarget=null,a=l}else for(s=0;s<r.length;s++){if(l=(o=r[s]).instance,u=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=u;try{a(i)}catch(c){Or(c)}i.currentTarget=null,a=l}}}}function Xc(e,t){var n=t[Ve];void 0===n&&(n=t[Ve]=new Set);var r=e+"__bubble";n.has(r)||(nd(t,e,2,!1),n.add(r))}function Zc(e,t,n){var r=0;t&&(r|=4),nd(n,e,r,t)}var ed="_reactListening"+Math.random().toString(36).slice(2);function td(e){if(!e[ed]){e[ed]=!0,rt.forEach(function(t){"selectionchange"!==t&&(Qc.has(t)||Zc(t,!1,e),Zc(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[ed]||(t[ed]=!0,Zc("selectionchange",!1,t))}}function nd(e,t,n,r){switch(Oh(t)){case 2:var i=_h;break;case 8:i=Sh;break;default:i=Eh}n=i.bind(null,t,n,e),i=void 0,!Wt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function rd(e,t,n,r,i){var s=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var l=r.stateNode.containerInfo;if(l===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&o.stateNode.containerInfo===i)return;o=o.return}for(;null!==l;){if(null===(o=Xe(l)))return;if(5===(u=o.tag)||6===u||26===u||27===u){r=s=o;continue e}l=l.parentNode}}r=r.return}Ft(function(){var r=s,i=Lt(n),o=[];e:{var l=xr.get(e);if(void 0!==l){var u=an,c=e;switch(e){case"keypress":if(0===Qt(n))break e;case"keydown":case"keyup":u=wn;break;case"focusin":c="focus",u=dn;break;case"focusout":c="blur",u=dn;break;case"beforeblur":case"afterblur":u=dn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=un;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=cn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=_n;break;case vr:case br:case wr:u=hn;break;case Er:u=Sn;break;case"scroll":case"scrollend":u=on;break;case"wheel":u=En;break;case"copy":case"cut":case"paste":u=fn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=kn;break;case"toggle":case"beforetoggle":u=xn}var d=!!(4&t),h=!d&&("scroll"===e||"scrollend"===e),f=d?null!==l?l+"Capture":null:l;d=[];for(var p,m=r;null!==m;){var g=m;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===f||null!=(g=Bt(m,f))&&d.push(id(m,g,p)),h)break;m=m.return}0<d.length&&(l=new u(l,c,null,n,i),o.push({event:l,listeners:d}))}}if(!(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||n===$t||!(c=n.relatedTarget||n.fromElement)||!Xe(c)&&!c[He])&&(u||l)&&(l=i.window===i?i:(l=i.ownerDocument)?l.defaultView||l.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?Xe(c):null)&&(h=a(c),d=c.tag,c!==h||5!==d&&27!==d&&6!==d)&&(c=null)):(u=null,c=r),u!==c)){if(d=un,g="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=kn,g="onPointerLeave",f="onPointerEnter",m="pointer"),h=null==u?l:et(u),p=null==c?l:et(c),(l=new d(g,m+"leave",u,n,i)).target=h,l.relatedTarget=p,g=null,Xe(i)===r&&((d=new d(f,m+"enter",c,n,i)).target=p,d.relatedTarget=h,g=d),h=g,u&&c)e:{for(d=sd,m=c,p=0,g=f=u;g;g=d(g))p++;g=0;for(var y=m;y;y=d(y))g++;for(;0<p-g;)f=d(f),p--;for(;0<g-p;)m=d(m),g--;for(;p--;){if(f===m||null!==m&&f===m.alternate){d=f;break e}f=d(f),m=d(m)}d=null}else d=null;null!==u&&od(o,l,u,d,!1),null!==c&&null!==h&&od(o,h,c,d,!0)}if("select"===(u=(l=r?et(r):window).nodeName&&l.nodeName.toLowerCase())||"input"===u&&"file"===l.type)var v=qn;else if(Dn(l))if(Wn)v=Zn;else{v=Yn;var b=Qn}else!(u=l.nodeName)||"input"!==u.toLowerCase()||"checkbox"!==l.type&&"radio"!==l.type?r&&Rt(r.elementType)&&(v=qn):v=Xn;switch(v&&(v=v(e,r))?zn(o,v,n,i):(b&&b(e,l,r),"focusout"===e&&r&&"number"===l.type&&null!=r.memoizedProps.value&&_t(l,"number",l.value)),b=r?et(r):window,e){case"focusin":(Dn(b)||"true"===b.contentEditable)&&(lr=b,ur=r,cr=null);break;case"focusout":cr=ur=lr=null;break;case"mousedown":dr=!0;break;case"contextmenu":case"mouseup":case"dragend":dr=!1,hr(o,n,i);break;case"selectionchange":if(or)break;case"keydown":case"keyup":hr(o,n,i)}var w;if(Cn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else $n?An(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Rn&&"ko"!==n.locale&&($n||"onCompositionStart"!==k?"onCompositionEnd"===k&&$n&&(w=Jt()):(Kt="value"in(Vt=i)?Vt.value:Vt.textContent,$n=!0)),0<(b=ad(r,k)).length&&(k=new pn(k,e,null,n,i),o.push({event:k,listeners:b}),w?k.data=w:null!==(w=In(n))&&(k.data=w))),(w=Nn?function(e,t){switch(e){case"compositionend":return In(t);case"keypress":return 32!==t.which?null:(jn=!0,Pn);case"textInput":return(e=t.data)===Pn&&jn?null:e;default:return null}}(e,n):function(e,t){if($n)return"compositionend"===e||!Cn&&An(e,t)?(e=Jt(),Gt=Kt=Vt=null,$n=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Rn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(k=ad(r,"onBeforeInput")).length&&(b=new pn("onBeforeInput","beforeinput",null,n,i),o.push({event:b,listeners:k}),b.data=w)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var a=Hc((i[We]||null).action),s=r.submitter;s&&null!==(t=(t=s[We]||null)?Hc(t.formAction):s.getAttribute("formAction"))&&(a=t,s=null);var o=new an("action","action",null,r,i);e.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Lc){var e=s?Vc(i,s):new FormData(i);no(n,{pending:!0,data:e,method:i.method,action:a},null,e)}}else"function"==typeof a&&(o.preventDefault(),e=s?Vc(i,s):new FormData(i),no(n,{pending:!0,data:e,method:i.method,action:a},a,e))},currentTarget:i}]})}}(o,e,r,n,i)}Yc(o,t)})}function id(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ad(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===a||(null!=(i=Bt(e,n))&&r.unshift(id(e,i,a)),null!=(i=Bt(e,t))&&r.push(id(e,i,a))),3===e.tag)return r;e=e.return}return[]}function sd(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function od(e,t,n,r,i){for(var a=t._reactName,s=[];null!==n&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(o=o.tag,null!==l&&l===r)break;5!==o&&26!==o&&27!==o||null===u||(l=u,i?null!=(u=Bt(n,a))&&s.unshift(id(n,u,l)):i||null!=(u=Bt(n,a))&&s.push(id(n,u,l))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var ld=/\r\n?/g,ud=/\u0000|\uFFFD/g;function cd(e){return("string"==typeof e?e:""+e).replace(ld,"\n").replace(ud,"")}function dd(e,t){return t=cd(t),cd(e)===t}function hd(e,t,n,i,a,s){switch(n){case"children":"string"==typeof i?"body"===t||"textarea"===t&&""===i||Tt(e,i):("number"==typeof i||"bigint"==typeof i)&&"body"!==t&&Tt(e,""+i);break;case"className":dt(e,"class",i);break;case"tabIndex":dt(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":dt(e,n,i);break;case"style":Nt(e,i,s);break;case"data":if("object"!==t){dt(e,"data",i);break}case"src":case"href":if(""===i&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==i||"function"==typeof i||"symbol"==typeof i||"boolean"==typeof i){e.removeAttribute(n);break}i=At(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if("function"==typeof i){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"==typeof s&&("formAction"===n?("input"!==t&&hd(e,t,"name",a.name,a,null),hd(e,t,"formEncType",a.formEncType,a,null),hd(e,t,"formMethod",a.formMethod,a,null),hd(e,t,"formTarget",a.formTarget,a,null)):(hd(e,t,"encType",a.encType,a,null),hd(e,t,"method",a.method,a,null),hd(e,t,"target",a.target,a,null))),null==i||"symbol"==typeof i||"boolean"==typeof i){e.removeAttribute(n);break}i=At(""+i),e.setAttribute(n,i);break;case"onClick":null!=i&&(e.onclick=It);break;case"onScroll":null!=i&&Xc("scroll",e);break;case"onScrollEnd":null!=i&&Xc("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=i){if("object"!=typeof i||!("__html"in i))throw Error(r(61));if(null!=(n=i.__html)){if(null!=a.children)throw Error(r(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&"function"!=typeof i&&"symbol"!=typeof i;break;case"muted":e.muted=i&&"function"!=typeof i&&"symbol"!=typeof i;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==i||"function"==typeof i||"boolean"==typeof i||"symbol"==typeof i){e.removeAttribute("xlink:href");break}n=At(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=i&&"function"!=typeof i&&"symbol"!=typeof i?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&"function"!=typeof i&&"symbol"!=typeof i?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===i?e.setAttribute(n,""):!1!==i&&null!=i&&"function"!=typeof i&&"symbol"!=typeof i?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=i&&"function"!=typeof i&&"symbol"!=typeof i&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":null==i||"function"==typeof i||"symbol"==typeof i||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":Xc("beforetoggle",e),Xc("toggle",e),ct(e,"popover",i);break;case"xlinkActuate":ht(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":ht(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":ht(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":ht(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":ht(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":ht(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":ht(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":ht(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":ht(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":ct(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&ct(e,n=Pt.get(n)||n,i)}}function fd(e,t,n,i,a,s){switch(n){case"style":Nt(e,i,s);break;case"dangerouslySetInnerHTML":if(null!=i){if("object"!=typeof i||!("__html"in i))throw Error(r(61));if(null!=(n=i.__html)){if(null!=a.children)throw Error(r(60));e.innerHTML=n}}break;case"children":"string"==typeof i?Tt(e,i):("number"==typeof i||"bigint"==typeof i)&&Tt(e,""+i);break;case"onScroll":null!=i&&Xc("scroll",e);break;case"onScrollEnd":null!=i&&Xc("scrollend",e);break;case"onClick":null!=i&&(e.onclick=It);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:it.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(a=n.endsWith("Capture"),t=n.slice(2,a?n.length-7:void 0),"function"==typeof(s=null!=(s=e[We]||null)?s[n]:null)&&e.removeEventListener(t,s,a),"function"!=typeof i)?n in e?e[n]=i:!0===i?e.setAttribute(n,""):ct(e,n,i):("function"!=typeof s&&null!==s&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,a)))}}function pd(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xc("error",e),Xc("load",e);var i,a=!1,s=!1;for(i in n)if(n.hasOwnProperty(i)){var o=n[i];if(null!=o)switch(i){case"src":a=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:hd(e,t,i,o,n,null)}}return s&&hd(e,t,"srcSet",n.srcSet,n,null),void(a&&hd(e,t,"src",n.src,n,null));case"input":Xc("invalid",e);var l=i=o=s=null,u=null,c=null;for(a in n)if(n.hasOwnProperty(a)){var d=n[a];if(null!=d)switch(a){case"name":s=d;break;case"type":o=d;break;case"checked":u=d;break;case"defaultChecked":c=d;break;case"value":i=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(r(137,t));break;default:hd(e,t,a,d,n,null)}}return void kt(e,i,l,u,c,o,s,!1);case"select":for(s in Xc("invalid",e),a=o=i=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":i=l;break;case"defaultValue":o=l;break;case"multiple":a=l;default:hd(e,t,s,l,n,null)}return t=i,n=o,e.multiple=!!a,void(null!=t?St(e,!!a,t,!1):null!=n&&St(e,!!a,n,!0));case"textarea":for(o in Xc("invalid",e),i=s=a=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":a=l;break;case"defaultValue":s=l;break;case"children":i=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(r(91));break;default:hd(e,t,o,l,n,null)}return void xt(e,a,s,i);case"option":for(u in n)if(n.hasOwnProperty(u)&&null!=(a=n[u]))if("selected"===u)e.selected=a&&"function"!=typeof a&&"symbol"!=typeof a;else hd(e,t,u,a,n,null);return;case"dialog":Xc("beforetoggle",e),Xc("toggle",e),Xc("cancel",e),Xc("close",e);break;case"iframe":case"object":Xc("load",e);break;case"video":case"audio":for(a=0;a<Jc.length;a++)Xc(Jc[a],e);break;case"image":Xc("error",e),Xc("load",e);break;case"details":Xc("toggle",e);break;case"embed":case"source":case"link":Xc("error",e),Xc("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&null!=(a=n[c]))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:hd(e,t,c,a,n,null)}return;default:if(Rt(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(a=n[d])&&fd(e,t,d,a,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(a=n[l])&&hd(e,t,l,a,n,null))}function md(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var gd=null,yd=null;function vd(e){return 9===e.nodeType?e:e.ownerDocument}function bd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function wd(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function kd(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"bigint"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var _d=null;var Sd="function"==typeof setTimeout?setTimeout:void 0,Ed="function"==typeof clearTimeout?clearTimeout:void 0,xd="function"==typeof Promise?Promise:void 0,Td="function"==typeof queueMicrotask?queueMicrotask:void 0!==xd?function(e){return xd.resolve(null).then(e).catch(Cd)}:Sd;function Cd(e){setTimeout(function(){throw e})}function Od(e){return"head"===e}function Nd(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)||"/&"===n){if(0===r)return e.removeChild(i),void Vh(t);r--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)r++;else if("html"===n)Md(e.ownerDocument.documentElement);else if("head"===n){Md(n=e.ownerDocument.head);for(var a=n.firstChild;a;){var s=a.nextSibling,o=a.nodeName;a[Qe]||"SCRIPT"===o||"STYLE"===o||"LINK"===o&&"stylesheet"===a.rel.toLowerCase()||n.removeChild(a),a=s}}else"body"===n&&Md(e.ownerDocument.body);n=i}while(n);Vh(t)}function Rd(e,t){var n=e;e=0;do{var r=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=r}while(n)}function Pd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Pd(n),Ye(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function jd(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=$d(e.nextSibling)))return null}return e}function Ad(e){return"$?"===e.data||"$~"===e.data}function Id(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function $d(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Ld=null;function Dd(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return $d(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function zd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function Ud(e,t,n){switch(t=vd(n),e){case"html":if(!(e=t.documentElement))throw Error(r(452));return e;case"head":if(!(e=t.head))throw Error(r(453));return e;case"body":if(!(e=t.body))throw Error(r(454));return e;default:throw Error(r(451))}}function Md(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ye(e)}var Fd=new Map,Bd=new Set;function qd(e){return"function"==typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Wd=I.d;I.d={f:function(){var e=Wd.f(),t=tc();return e||t},r:function(e){var t=Ze(e);null!==t&&5===t.tag&&"form"===t.type?io(t):Wd.r(e)},D:function(e){Wd.D(e),Vd("dns-prefetch",e,null)},C:function(e,t){Wd.C(e,t),Vd("preconnect",e,t)},L:function(e,t,n){Wd.L(e,t,n);var r=Hd;if(r&&e&&t){var i='link[rel="preload"][as="'+bt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+bt(n.imageSrcSet)+'"]',"string"==typeof n.imageSizes&&(i+='[imagesizes="'+bt(n.imageSizes)+'"]')):i+='[href="'+bt(e)+'"]';var a=i;switch(t){case"style":a=Gd(e);break;case"script":a=Yd(e)}Fd.has(a)||(e=c({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Fd.set(a,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Jd(a))||"script"===t&&r.querySelector(Xd(a))||(pd(t=r.createElement("link"),"link",e),nt(t),r.head.appendChild(t)))}},m:function(e,t){Wd.m(e,t);var n=Hd;if(n&&e){var r=t&&"string"==typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+bt(r)+'"][href="'+bt(e)+'"]',a=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Yd(e)}if(!Fd.has(a)&&(e=c({rel:"modulepreload",href:e},t),Fd.set(a,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Xd(a)))return}pd(r=n.createElement("link"),"link",e),nt(r),n.head.appendChild(r)}}},X:function(e,t){Wd.X(e,t);var n=Hd;if(n&&e){var r=tt(n).hoistableScripts,i=Yd(e),a=r.get(i);a||((a=n.querySelector(Xd(i)))||(e=c({src:e,async:!0},t),(t=Fd.get(i))&&nh(e,t),nt(a=n.createElement("script")),pd(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}},S:function(e,t,n){Wd.S(e,t,n);var r=Hd;if(r&&e){var i=tt(r).hoistableStyles,a=Gd(e);t=t||"default";var s=i.get(a);if(!s){var o={loading:0,preload:null};if(s=r.querySelector(Jd(a)))o.loading=5;else{e=c({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Fd.get(a))&&th(e,n);var l=s=r.createElement("link");nt(l),pd(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,eh(s,t,r)}s={type:"stylesheet",instance:s,count:1,state:o},i.set(a,s)}}},M:function(e,t){Wd.M(e,t);var n=Hd;if(n&&e){var r=tt(n).hoistableScripts,i=Yd(e),a=r.get(i);a||((a=n.querySelector(Xd(i)))||(e=c({src:e,async:!0,type:"module"},t),(t=Fd.get(i))&&nh(e,t),nt(a=n.createElement("script")),pd(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}};var Hd="undefined"==typeof document?null:document;function Vd(e,t,n){var r=Hd;if(r&&"string"==typeof t&&t){var i=bt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"==typeof n&&(i+='[crossorigin="'+n+'"]'),Bd.has(i)||(Bd.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(pd(t=r.createElement("link"),"link",e),nt(t),r.head.appendChild(t)))}}function Kd(e,t,n,i){var a,s,o,l,u=(u=G.current)?qd(u):null;if(!u)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return"string"==typeof n.precedence&&"string"==typeof n.href?(t=Gd(n.href),(i=(n=tt(u).hoistableStyles).get(t))||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"==typeof n.href&&"string"==typeof n.precedence){e=Gd(n.href);var c=tt(u).hoistableStyles,d=c.get(e);if(d||(u=u.ownerDocument||u,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,d),(c=u.querySelector(Jd(e)))&&!c._p&&(d.instance=c,d.state.loading=5),Fd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Fd.set(e,n),c||(a=u,s=e,o=n,l=d.state,a.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=a.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),pd(s,"link",o),nt(s),a.head.appendChild(s))))),t&&null===i)throw Error(r(528,""));return d}if(t&&null!==i)throw Error(r(529,""));return null;case"script":return t=n.async,"string"==typeof(n=n.src)&&t&&"function"!=typeof t&&"symbol"!=typeof t?(t=Yd(n),(i=(n=tt(u).hoistableScripts).get(t))||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Gd(e){return'href="'+bt(e)+'"'}function Jd(e){return'link[rel="stylesheet"]['+e+"]"}function Qd(e){return c({},e,{"data-precedence":e.precedence,precedence:null})}function Yd(e){return'[src="'+bt(e)+'"]'}function Xd(e){return"script[async]"+e}function Zd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+bt(n.href)+'"]');if(i)return t.instance=i,nt(i),i;var a=c({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return nt(i=(e.ownerDocument||e).createElement("style")),pd(i,"style",a),eh(i,n.precedence,e),t.instance=i;case"stylesheet":a=Gd(n.href);var s=e.querySelector(Jd(a));if(s)return t.state.loading|=4,t.instance=s,nt(s),s;i=Qd(n),(a=Fd.get(a))&&th(i,a),nt(s=(e.ownerDocument||e).createElement("link"));var o=s;return o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),pd(s,"link",i),t.state.loading|=4,eh(s,n.precedence,e),t.instance=s;case"script":return s=Yd(n.src),(a=e.querySelector(Xd(s)))?(t.instance=a,nt(a),a):(i=n,(a=Fd.get(s))&&nh(i=c({},n),a),nt(a=(e=e.ownerDocument||e).createElement("script")),pd(a,"link",i),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(r(443,t.type))}else"stylesheet"===t.type&&!(4&t.state.loading)&&(i=t.instance,t.state.loading|=4,eh(i,n.precedence,e));return t.instance}function eh(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,a=i,s=0;s<r.length;s++){var o=r[s];if(o.dataset.precedence===t)a=o;else if(a!==i)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function th(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function nh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var rh=null;function ih(e,t,n){if(null===rh){var r=new Map,i=rh=new Map;i.set(n,r)}else(r=(i=rh).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var a=n[i];if(!(a[Qe]||a[qe]||"link"===e&&"stylesheet"===a.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==a.namespaceURI){var s=a.getAttribute(t)||"";s=e+s;var o=r.get(s);o?o.push(a):r.set(s,[a])}}return r}function ah(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function sh(e){return!!("stylesheet"!==e.type||3&e.state.loading)}var oh=0;function lh(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)ch(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var uh=null;function ch(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,uh=new Map,t.forEach(dh,e),uh=null,lh.call(e))}function dh(e,t){if(!(4&t.state.loading)){var n=uh.get(e);if(n)var r=n.get(null);else{n=new Map,uh.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var s=i[a];"LINK"!==s.nodeName&&"not all"===s.getAttribute("media")||(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}s=(i=t.instance).getAttribute("data-precedence"),(a=n.get(s)||r)===r&&n.set(null,i),n.set(s,i),this.count++,r=lh.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),a?a.parentNode.insertBefore(i,a.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var hh={$$typeof:v,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function fh(e,t,n,r,i,a,s,o,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ae(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ae(0),this.hiddenUpdates=Ae(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function ph(e,t,n,r,i,a,s,o,l,u,c,d){return e=new fh(e,t,n,s,l,u,c,d,o),t=1,!0===a&&(t|=24),a=Mr(3,null,null,t),e.current=a,a.stateNode=e,(t=Fi()).refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:t},va(a),e}function mh(e){return e?e=zr:zr}function gh(e,t,n,r,i,a){i=mh(i),null===r.context?r.context=i:r.pendingContext=i,(r=wa(t)).payload={element:n},null!==(a=void 0===a?null:a)&&(r.callback=a),null!==(n=ka(e,r,t))&&(Qu(n,0,t),_a(n,e,t))}function yh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function vh(e,t){yh(e,t),(e=e.alternate)&&yh(e,t)}function bh(e){if(13===e.tag||31===e.tag){var t=$r(e,67108864);null!==t&&Qu(t,0,67108864),vh(e,67108864)}}function wh(e){if(13===e.tag||31===e.tag){var t=Gu(),n=$r(e,t=ze(t));null!==n&&Qu(n,0,t),vh(e,t)}}var kh=!0;function _h(e,t,n,r){var i=j.T;j.T=null;var a=I.p;try{I.p=2,Eh(e,t,n,r)}finally{I.p=a,j.T=i}}function Sh(e,t,n,r){var i=j.T;j.T=null;var a=I.p;try{I.p=8,Eh(e,t,n,r)}finally{I.p=a,j.T=i}}function Eh(e,t,n,r){if(kh){var i=xh(r);if(null===i)rd(e,t,r,Th,n),Dh(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Rh=zh(Rh,e,t,n,r,i),!0;case"dragenter":return Ph=zh(Ph,e,t,n,r,i),!0;case"mouseover":return jh=zh(jh,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Ah.set(a,zh(Ah.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Ih.set(a,zh(Ih.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Dh(e,r),4&t&&-1<Lh.indexOf(e)){for(;null!==i;){var a=Ze(i);if(null!==a)switch(a.tag){case 3:if((a=a.stateNode).current.memoizedState.isDehydrated){var s=Oe(a.pendingLanes);if(0!==s){var o=a;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var l=1<<31-_e(s);o.entanglements[1]|=l,s&=~l}Dc(a),!(6&mu)&&(Lu=ce()+500,zc(0))}}break;case 31:case 13:null!==(o=$r(a,2))&&Qu(o,0,2),tc(),vh(a,2)}if(null===(a=xh(r))&&rd(e,t,r,Th,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else rd(e,t,r,null,n)}}function xh(e){return Ch(e=Lt(e))}var Th=null;function Ch(e){if(Th=null,null!==(e=Xe(e))){var t=a(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=s(t)))return e;e=null}else if(31===n){if(null!==(e=o(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Th=e,null}function Oh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(de()){case he:return 2;case fe:return 8;case pe:case me:return 32;case ge:return 268435456;default:return 32}default:return 32}}var Nh=!1,Rh=null,Ph=null,jh=null,Ah=new Map,Ih=new Map,$h=[],Lh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Dh(e,t){switch(e){case"focusin":case"focusout":Rh=null;break;case"dragenter":case"dragleave":Ph=null;break;case"mouseover":case"mouseout":jh=null;break;case"pointerover":case"pointerout":Ah.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ih.delete(t.pointerId)}}function zh(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=Ze(t))&&bh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Uh(e){var t=Xe(e.target);if(null!==t){var n=a(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=s(n)))return e.blockedOn=t,void Fe(e.priority,function(){wh(n)})}else if(31===t){if(null!==(t=o(n)))return e.blockedOn=t,void Fe(e.priority,function(){wh(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Mh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=xh(e.nativeEvent);if(null!==n)return null!==(t=Ze(n))&&bh(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);$t=r,n.target.dispatchEvent(r),$t=null,t.shift()}return!0}function Fh(e,t,n){Mh(e)&&n.delete(t)}function Bh(){Nh=!1,null!==Rh&&Mh(Rh)&&(Rh=null),null!==Ph&&Mh(Ph)&&(Ph=null),null!==jh&&Mh(jh)&&(jh=null),Ah.forEach(Fh),Ih.forEach(Fh)}function qh(t,n){t.blockedOn===n&&(t.blockedOn=null,Nh||(Nh=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Bh)))}var Wh=null;function Hh(t){Wh!==t&&(Wh=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Wh===t&&(Wh=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],i=t[e+2];if("function"!=typeof r){if(null===Ch(r||n))continue;break}var a=Ze(n);null!==a&&(t.splice(e,3),e-=3,no(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Vh(e){function t(t){return qh(t,e)}null!==Rh&&qh(Rh,e),null!==Ph&&qh(Ph,e),null!==jh&&qh(jh,e),Ah.forEach(t),Ih.forEach(t);for(var n=0;n<$h.length;n++){var r=$h[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<$h.length&&null===(n=$h[0]).blockedOn;)Uh(n),null===n.blockedOn&&$h.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],s=i[We]||null;if("function"==typeof a)s||Hh(n);else if(s){var o=null;if(a&&a.hasAttribute("formAction")){if(i=a,s=a[We]||null)o=s.formAction;else if(null!==Ch(i))continue}else o=s.action;"function"==typeof o?n[r+1]=o:(n.splice(r,3),r-=3),Hh(n)}}}function Kh(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return i=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==i&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"==typeof navigation){var r=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==i&&(i(),i=null)}}}function Gh(e){this._internalRoot=e}function Jh(e){this._internalRoot=e}Jh.prototype.render=Gh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(r(409));gh(t.current,Gu(),e,t,null,null)},Jh.prototype.unmount=Gh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;gh(e.current,2,null,e,null,null),tc(),t[He]=null}},Jh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Me();e={blockedOn:null,target:e,priority:t};for(var n=0;n<$h.length&&0!==t&&t<$h[n].priority;n++);$h.splice(n,0,e),0===n&&Uh(e)}};var Qh=t.version;if("19.2.0"!==Qh)throw Error(r(527,Qh,"19.2.0"));I.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(r(188));throw e=Object.keys(e).join(","),Error(r(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=a(e)))throw Error(r(188));return t!==e?null:e}for(var n=e,i=t;;){var s=n.return;if(null===s)break;var o=s.alternate;if(null===o){if(null!==(i=s.return)){n=i;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return l(s),e;if(o===i)return l(s),t;o=o.sibling}throw Error(r(188))}if(n.return!==i.return)n=s,i=o;else{for(var u=!1,c=s.child;c;){if(c===n){u=!0,n=s,i=o;break}if(c===i){u=!0,i=s,n=o;break}c=c.sibling}if(!u){for(c=o.child;c;){if(c===n){u=!0,n=o,i=s;break}if(c===i){u=!0,i=o,n=s;break}c=c.sibling}if(!u)throw Error(r(189))}}if(n.alternate!==i)throw Error(r(190))}if(3!==n.tag)throw Error(r(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?u(e):null)?null:e.stateNode};var Yh={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.2.0"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Xh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xh.isDisabled&&Xh.supportsFiber)try{be=Xh.inject(Yh),we=Xh}catch(ef){}}return A.createRoot=function(e,t){if(!i(e))throw Error(r(299));var n=!1,a="",s=To,o=Co,l=Oo;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(a=t.identifierPrefix),void 0!==t.onUncaughtError&&(s=t.onUncaughtError),void 0!==t.onCaughtError&&(o=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError)),t=ph(e,1,!1,null,0,n,a,null,s,o,l,Kh),e[He]=t.current,td(e),new Gh(t)},A.hydrateRoot=function(e,t,n){if(!i(e))throw Error(r(299));var a=!1,s="",o=To,l=Co,u=Oo,c=null;return null!=n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onUncaughtError&&(o=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(u=n.onRecoverableError),void 0!==n.formState&&(c=n.formState)),(t=ph(e,1,!0,t,0,a,s,c,o,l,u,Kh)).context=mh(null),n=t.current,(s=wa(a=ze(a=Gu()))).callback=null,ka(n,s,a),n=a,t.current.lanes=n,Ie(t,n),Dc(t),e[He]=t.current,td(e),new Jh(t)},A.version="19.2.0",A}const V=m((M||(M=1,function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),j.exports=H()),j.exports)),K={},G=function(e,t,n){let r=Promise.resolve();if(t&&t.length>0){let e=function(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:"fulfilled",value:e}),e=>({status:"rejected",reason:e}))))};document.getElementsByTagName("link");const n=document.querySelector("meta[property=csp-nonce]"),i=(null==n?void 0:n.nonce)||(null==n?void 0:n.getAttribute("nonce"));r=e(t.map(e=>{if((e=function(e){return"/PDV-MASTER/"+e}(e))in K)return;K[e]=!0;const t=e.endsWith(".css"),n=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${n}`))return;const r=document.createElement("link");return r.rel=t?"stylesheet":"modulepreload",t||(r.as="script"),r.crossOrigin="",r.href=e,i&&r.setAttribute("nonce",i),document.head.appendChild(r),t?new Promise((t,n)=>{r.addEventListener("load",t),r.addEventListener("error",()=>n(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function i(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return r.then(t=>{for(const e of t||[])"rejected"===e.status&&i(e.reason);return e().catch(i)})};
/**
 * react-router v7.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
var J="popstate";function Q(e={}){return function(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,o="POP",l=null,d=h();null==d&&(d=0,s.replaceState(c(u({},s.state),{idx:d}),""));function h(){return(s.state||{idx:null}).idx}function f(){o="POP";let e=h(),t=null==e?null:e-d;d=e,l&&l({action:o,location:y.location,delta:t})}function p(e,t){o="PUSH";let r=ee(y.location,e,t);n&&n(r,e),d=h()+1;let u=Z(r,d),c=y.createHref(r);try{s.pushState(u,"",c)}catch(f){if(f instanceof DOMException&&"DataCloneError"===f.name)throw f;i.location.assign(c)}a&&l&&l({action:o,location:y.location,delta:1})}function m(e,t){o="REPLACE";let r=ee(y.location,e,t);n&&n(r,e),d=h();let i=Z(r,d),u=y.createHref(r);s.replaceState(i,"",u),a&&l&&l({action:o,location:y.location,delta:0})}function g(e){return function(e,t=!1){let n="http://localhost";"undefined"!=typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href);Y(n,"No window.location.(origin|href) available to create URL");let r="string"==typeof e?e:te(e);r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r);return new URL(r,n)}(e)}let y={get action(){return o},get location(){return e(i,s)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(J,f),l=e,()=>{i.removeEventListener(J,f),l=null}},createHref:e=>t(i,e),createURL:g,encodeLocation(e){let t=g(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:p,replace:m,go:e=>s.go(e)};return y}(function(e,t){let{pathname:n="/",search:r="",hash:i=""}=ne(e.location.hash.substring(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),ee("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"==typeof t?t:te(t))},function(e,t){X("/"===e.pathname.charAt(0),`relative pathnames are not supported in hash history.push(${JSON.stringify(t)})`)},e)}function Y(e,t){if(!1===e||null==e)throw new Error(t)}function X(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function Z(e,t){return{usr:e.state,key:e.key,idx:t}}function ee(e,t,n=null,r){return c(u({pathname:"string"==typeof e?e:e.pathname,search:"",hash:""},"string"==typeof t?ne(t):t),{state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)})}function te({pathname:e="/",search:t="",hash:n=""}){return t&&"?"!==t&&(e+="?"===t.charAt(0)?t:"?"+t),n&&"#"!==n&&(e+="#"===n.charAt(0)?n:"#"+n),e}function ne(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function re(e,t,n="/"){return function(e,t,n,r){let i="string"==typeof t?ne(t):t,a=ye(i.pathname||"/",n);if(null==a)return null;let s=ie(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let o=null;for(let l=0;null==o&&l<s.length;++l){let e=ge(a);o=pe(s[l],e,r)}return o}(e,t,n,!1)}function ie(e,t=[],n=[],r="",i=!1){let a=(e,a,s=i,o)=>{let l={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};if(l.relativePath.startsWith("/")){if(!l.relativePath.startsWith(r)&&s)return;Y(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length)}let u=Ee([r,l.relativePath]),c=n.concat(l);e.children&&e.children.length>0&&(Y(!0!==e.index,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),ie(e.children,t,c,u,s)),(null!=e.path||e.index)&&t.push({path:u,score:fe(u,e.index),routesMeta:c})};return e.forEach((e,t)=>{var n;if(""!==e.path&&(null==(n=e.path)?void 0:n.includes("?")))for(let r of ae(e.path))a(e,t,!0,r);else a(e,t)}),t}function ae(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===r.length)return i?[a,""]:[a];let s=ae(r.join("/")),o=[];return o.push(...s.map(e=>""===e?a:[a,e].join("/"))),i&&o.push(...s),o.map(t=>e.startsWith("/")&&""===t?"/":t)}var se=/^:[\w-]+$/,oe=3,le=2,ue=1,ce=10,de=-2,he=e=>"*"===e;function fe(e,t){let n=e.split("/"),r=n.length;return n.some(he)&&(r+=de),t&&(r+=le),n.filter(e=>!he(e)).reduce((e,t)=>e+(se.test(t)?oe:""===t?ue:ce),r)}function pe(e,t,n=!1){let{routesMeta:r}=e,i={},a="/",s=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,u="/"===a?t:t.slice(a.length)||"/",c=me({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},u),d=e.route;if(!c&&l&&n&&!r[r.length-1].route.index&&(c=me({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},u)),!c)return null;Object.assign(i,c.params),s.push({params:i,pathname:Ee([a,c.pathname]),pathnameBase:xe(Ee([a,c.pathnameBase])),route:d}),"/"!==c.pathnameBase&&(a=Ee([a,c.pathnameBase]))}return s}function me(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t=!1,n=!0){X("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((e,{paramName:t,isOptional:n},r)=>{if("*"===t){let e=o[r]||"";s=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const i=o[r];return e[t]=n&&!i?void 0:(i||"").replace(/%2F/g,"/"),e},{}),pathname:a,pathnameBase:s,pattern:e}}function ge(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return X(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ye(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}var ve=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function be(e,t="/"){let n,{pathname:r,search:i="",hash:a=""}="string"==typeof e?ne(e):e;if(r)if(s=r,ve.test(s))n=r;else{if(r.includes("//")){let e=r;r=r.replace(/\/\/+/g,"/"),X(!1,`Pathnames cannot have embedded double slashes - normalizing ${e} -> ${r}`)}n=r.startsWith("/")?we(r.substring(1),"/"):we(r,t)}else n=t;var s;return{pathname:n,search:Te(i),hash:Ce(a)}}function we(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}function ke(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function _e(e){let t=function(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function Se(e,t,n,r=!1){let i;"string"==typeof e?i=ne(e):(i=u({},e),Y(!i.pathname||!i.pathname.includes("?"),ke("?","pathname","search",i)),Y(!i.pathname||!i.pathname.includes("#"),ke("#","pathname","hash",i)),Y(!i.search||!i.search.includes("#"),ke("#","search","hash",i)));let a,s=""===e||""===i.pathname,o=s?"/":i.pathname;if(null==o)a=n;else{let e=t.length-1;if(!r&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}a=e>=0?t[e]:"/"}let l=be(i,a),c=o&&"/"!==o&&o.endsWith("/"),d=(s||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!d||(l.pathname+="/"),l}var Ee=e=>e.join("/").replace(/\/\/+/g,"/"),xe=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Te=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Ce=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function Oe(e){return e.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Ne=["POST","PUT","PATCH","DELETE"];new Set(Ne);var Re=["GET",...Ne];new Set(Re);var Pe=C.createContext(null);Pe.displayName="DataRouter";var je=C.createContext(null);je.displayName="DataRouterState",C.createContext(!1);var Ae=C.createContext({isTransitioning:!1});Ae.displayName="ViewTransition",C.createContext(new Map).displayName="Fetchers",C.createContext(null).displayName="Await";var Ie=C.createContext(null);Ie.displayName="Navigation";var $e=C.createContext(null);$e.displayName="Location";var Le=C.createContext({outlet:null,matches:[],isDataRoute:!1});Le.displayName="Route";var De=C.createContext(null);function ze(){return null!=C.useContext($e)}function Ue(){return Y(ze(),"useLocation() may be used only in the context of a <Router> component."),C.useContext($e).location}De.displayName="RouteError";var Me="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Fe(e){C.useContext(Ie).static||C.useLayoutEffect(e)}function Be(){let{isDataRoute:e}=C.useContext(Le);return e?function(){let{router:e}=function(e){let t=C.useContext(Pe);return Y(t,Qe(e)),t}("useNavigate"),t=Ye("useNavigate"),n=C.useRef(!1);return Fe(()=>{n.current=!0}),C.useCallback((r,...i)=>f(null,[r,...i],function*(r,i={}){X(n.current,Me),n.current&&("number"==typeof r?yield e.navigate(r):yield e.navigate(r,u({fromRouteId:t},i)))}),[e,t])}():function(){Y(ze(),"useNavigate() may be used only in the context of a <Router> component.");let e=C.useContext(Pe),{basename:t,navigator:n}=C.useContext(Ie),{matches:r}=C.useContext(Le),{pathname:i}=Ue(),a=JSON.stringify(_e(r)),s=C.useRef(!1);return Fe(()=>{s.current=!0}),C.useCallback((r,o={})=>{if(X(s.current,Me),!s.current)return;if("number"==typeof r)return void n.go(r);let l=Se(r,JSON.parse(a),i,"path"===o.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:Ee([t,l.pathname])),(o.replace?n.replace:n.push)(l,o.state,o)},[t,n,a,i,e])}()}var qe=C.createContext(null);function We(e,{relative:t}={}){let{matches:n}=C.useContext(Le),{pathname:r}=Ue(),i=JSON.stringify(_e(n));return C.useMemo(()=>Se(e,JSON.parse(i),r,"path"===t),[e,i,r,t])}function He(e,t,n,r,i){var a;Y(ze(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=C.useContext(Ie),{matches:o}=C.useContext(Le),l=o[o.length-1],c=l?l.params:{},d=l?l.pathname:"/",h=l?l.pathnameBase:"/",f=l&&l.route;{let e=f&&f.path||"";Ze(d,!f||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}let p,m=Ue();if(t){let e="string"==typeof t?ne(t):t;Y("/"===h||(null==(a=e.pathname)?void 0:a.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${e.pathname}" was given in the \`location\` prop.`),p=e}else p=m;let g=p.pathname||"/",y=g;if("/"!==h){let e=h.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let v=re(e,{pathname:y});X(f||null!=v,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),X(null==v||void 0!==v[v.length-1].route.element||void 0!==v[v.length-1].route.Component||void 0!==v[v.length-1].route.lazy,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=function(e,t=[],n=null,r=null){if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let i=e,a=null==n?void 0:n.errors;if(null!=a){let e=i.findIndex(e=>e.route.id&&void 0!==(null==a?void 0:a[e.route.id]));Y(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,e+1))}let s=!1,o=-1;if(n)for(let u=0;u<i.length;u++){let e=i[u];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(o=u),e.route.id){let{loaderData:t,errors:r}=n,a=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!r||void 0===r[e.route.id]);if(e.route.lazy||a){s=!0,i=o>=0?i.slice(0,o+1):[i[0]];break}}}let l=n&&r?(e,t)=>{var i,a,s;r(e,{location:n.location,params:null!=(s=null==(a=null==(i=n.matches)?void 0:i[0])?void 0:a.params)?s:{},unstable_pattern:Oe(n.matches),errorInfo:t})}:void 0;return i.reduceRight((e,r,u)=>{let c,d=!1,h=null,f=null;n&&(c=a&&r.route.id?a[r.route.id]:void 0,h=r.route.errorElement||Ke,s&&(o<0&&0===u?(Ze("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,f=null):o===u&&(d=!0,f=r.route.hydrateFallbackElement||null)));let p=t.concat(i.slice(0,u+1)),m=()=>{let t;return t=c?h:d?f:r.route.Component?C.createElement(r.route.Component,null):r.route.element?r.route.element:e,C.createElement(Je,{match:r,routeContext:{outlet:e,matches:p,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===u)?C.createElement(Ge,{location:n.location,revalidation:n.revalidation,component:h,error:c,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0},onError:l}):m()},null)}(v&&v.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:Ee([h,s.encodeLocation?s.encodeLocation(e.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:Ee([h,s.encodeLocation?s.encodeLocation(e.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathnameBase])})),o,n,r,i);return t&&b?C.createElement($e.Provider,{value:{location:u({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:"POP"}},b):b}function Ve(){let e=function(){var e;let t=C.useContext(De),n=function(e){let t=C.useContext(je);return Y(t,Qe(e)),t}("useRouteError"),r=Ye("useRouteError");if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=function(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=C.createElement(C.Fragment,null,C.createElement("p",null," Hey developer "),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:a},"ErrorBoundary")," or"," ",C.createElement("code",{style:a},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},t),n?C.createElement("pre",{style:i},n):null,s)}var Ke=C.createElement(Ve,null),Ge=class extends C.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return void 0!==this.state.error?C.createElement(Le.Provider,{value:this.props.routeContext},C.createElement(De.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Je({routeContext:e,match:t,children:n}){let r=C.useContext(Pe);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),C.createElement(Le.Provider,{value:e},n)}function Qe(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ye(e){let t=function(e){let t=C.useContext(Le);return Y(t,Qe(e)),t}(e),n=t.matches[t.matches.length-1];return Y(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}var Xe={};function Ze(e,t,n){t||Xe[e]||(Xe[e]=!0,X(!1,n))}function et({to:e,replace:t,state:n,relative:r}){Y(ze(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=C.useContext(Ie);X(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=C.useContext(Le),{pathname:s}=Ue(),o=Be(),l=Se(e,_e(a),s,"path"===r),u=JSON.stringify(l);return C.useEffect(()=>{o(JSON.parse(u),{replace:t,state:n,relative:r})},[o,u,r,t,n]),null}function tt(e){return function(e){let t=C.useContext(Le).outlet;return C.useMemo(()=>t&&C.createElement(qe.Provider,{value:e},t),[t,e])}(e.context)}function nt(e){Y(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function rt({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:a=!1,unstable_useTransitions:s}){Y(!ze(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),l=C.useMemo(()=>({basename:o,navigator:i,static:a,unstable_useTransitions:s,future:{}}),[o,i,a,s]);"string"==typeof n&&(n=ne(n));let{pathname:u="/",search:c="",hash:d="",state:h=null,key:f="default"}=n,p=C.useMemo(()=>{let e=ye(u,o);return null==e?null:{location:{pathname:e,search:c,hash:d,state:h,key:f},navigationType:r}},[o,u,c,d,h,f,r]);return X(null!=p,`<Router basename="${o}"> is not able to match the URL "${u}${c}${d}" because it does not start with the basename, so the <Router> won't render anything.`),null==p?null:C.createElement(Ie.Provider,{value:l},C.createElement($e.Provider,{children:t,value:p}))}function it({children:e,location:t}){return He(at(e),t)}function at(e,t=[]){let n=[];return C.Children.forEach(e,(e,r)=>{if(!C.isValidElement(e))return;let i=[...t,r];if(e.type===C.Fragment)return void n.push.apply(n,at(e.props.children,i));Y(e.type===nt,`[${"string"==typeof e.type?e.type:e.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Y(!e.props.index||!e.props.children,"An index route cannot have child routes.");let a={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,middleware:e.props.middleware,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=at(e.props.children,i)),n.push(a)}),n}C.memo(function({routes:e,future:t,state:n,unstable_onError:r}){return He(e,void 0,n,r,t)});var st="get",ot="application/x-www-form-urlencoded";function lt(e){return"undefined"!=typeof HTMLElement&&e instanceof HTMLElement}var ut=null;var ct=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function dt(e){return null==e||ct.has(e)?e:(X(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ot}"`),null)}function ht(e,t){let n,r,i,a,s;if(lt(o=e)&&"form"===o.tagName.toLowerCase()){let s=e.getAttribute("action");r=s?ye(s,t):null,n=e.getAttribute("method")||st,i=dt(e.getAttribute("enctype"))||ot,a=new FormData(e)}else if(function(e){return lt(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return lt(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let s=e.form;if(null==s)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||s.getAttribute("action");if(r=o?ye(o,t):null,n=e.getAttribute("formmethod")||s.getAttribute("method")||st,i=dt(e.getAttribute("formenctype"))||dt(s.getAttribute("enctype"))||ot,a=new FormData(s,e),!function(){if(null===ut)try{new FormData(document.createElement("form"),0),ut=!1}catch(e){ut=!0}return ut}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?`${t}.`:"";a.append(`${e}x`,"0"),a.append(`${e}y`,"0")}else t&&a.append(t,r)}}else{if(lt(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=st,r=null,i=ot,s=e}var o;return a&&"text/plain"===i&&(s=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:s}}function ft(e,t){if(!1===e||null==e)throw new Error(t)}function pt(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"==typeof e.imageSrcSet&&"string"==typeof e.imageSizes:"string"==typeof e.rel&&"string"==typeof e.href)}function mt(e,t,n){return f(this,null,function*(){return function(e,t){let n=new Set;return new Set(t),e.reduce((e,t)=>{let r=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(t));return n.has(r)||(n.add(r),e.push({key:r,link:t})),e},[])}((yield Promise.all(e.map(e=>f(null,null,function*(){let r=t.routes[e.route.id];if(r){let e=yield function(e,t){return f(this,null,function*(){if(e.id in t)return t[e.id];try{let n=yield import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}})}(r,n);return e.links?e.links():[]}return[]})))).flat(1).filter(pt).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?c(u({},e),{rel:"prefetch",as:"style"}):c(u({},e),{rel:"prefetch"})))})}function gt(e,t,n,r,i,a){let s=(e,t)=>!n[t]||e.route.id!==n[t].route.id,o=(e,t)=>{var r;return n[t].pathname!==e.pathname||(null==(r=n[t].route.path)?void 0:r.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===a?t.filter((e,t)=>s(e,t)||o(e,t)):"data"===a?t.filter((t,a)=>{var l;let u=r.routes[t.route.id];if(!u||!u.hasLoader)return!1;if(s(t,a)||o(t,a))return!0;if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:(null==(l=n[0])?void 0:l.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"==typeof r)return r}return!0}):[]}function yt(e,t,{includeHydrateFallback:n}={}){return r=e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i}).flat(1),[...new Set(r)];var r}function vt(){let e=C.useContext(Pe);return ft(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var bt=C.createContext(void 0);function wt(){let e=C.useContext(bt);return ft(e,"You must render this element inside a <HydratedRouter> element"),e}function kt(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function _t(e){var t=e,{page:n}=t,r=d(t,["page"]);let{router:i}=vt(),a=C.useMemo(()=>re(i.routes,n,i.basename),[i.routes,n,i.basename]);return a?C.createElement(St,u({page:n,matches:a},r)):null}function St(e){var t=e,{page:n,matches:r}=t,i=d(t,["page","matches"]);let a=Ue(),{manifest:s,routeModules:o}=wt(),{basename:l}=vt(),{loaderData:c,matches:h}=function(){let e=C.useContext(je);return ft(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}(),f=C.useMemo(()=>gt(n,r,h,s,a,"data"),[n,r,h,s,a]),p=C.useMemo(()=>gt(n,r,h,s,a,"assets"),[n,r,h,s,a]),m=C.useMemo(()=>{if(n===a.pathname+a.search+a.hash)return[];let e=new Set,t=!1;if(r.forEach(n=>{var r;let i=s.routes[n.route.id];i&&i.hasLoader&&(!f.some(e=>e.route.id===n.route.id)&&n.route.id in c&&(null==(r=o[n.route.id])?void 0:r.shouldRevalidate)||i.hasClientLoader?t=!0:e.add(n.route.id))}),0===e.size)return[];let i=function(e,t,n){let r="string"==typeof e?new URL(e,"undefined"==typeof window?"server://singlefetch/":window.location.origin):e;return"/"===r.pathname?r.pathname=`_root.${n}`:t&&"/"===ye(r.pathname,t)?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}(n,l,"data");return t&&e.size>0&&i.searchParams.set("_routes",r.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[i.pathname+i.search]},[l,c,a,s,f,r,n,o]),g=C.useMemo(()=>yt(p,s),[p,s]),y=function(e){let{manifest:t,routeModules:n}=wt(),[r,i]=C.useState([]);return C.useEffect(()=>{let r=!1;return mt(e,t,n).then(e=>{r||i(e)}),()=>{r=!0}},[e,t,n]),r}(p);return C.createElement(C.Fragment,null,m.map(e=>C.createElement("link",u({key:e,rel:"prefetch",as:"fetch",href:e},i))),g.map(e=>C.createElement("link",u({key:e,rel:"modulepreload",href:e},i))),y.map(({key:e,link:t})=>C.createElement("link",u({key:e,nonce:i.nonce},t))))}function Et(...e){return t=>{e.forEach(e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)})}}bt.displayName="FrameworkContext";var xt="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;try{xt&&(window.__reactRouterVersion="7.10.0")}catch(Vs){}function Tt({basename:e,children:t,unstable_useTransitions:n,window:r}){let i=C.useRef();null==i.current&&(i.current=Q({window:r,v5Compat:!0}));let a=i.current,[s,o]=C.useState({action:a.action,location:a.location}),l=C.useCallback(e=>{!1===n?o(e):C.startTransition(()=>o(e))},[n]);return C.useLayoutEffect(()=>a.listen(l),[a,l]),C.createElement(rt,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:a,unstable_useTransitions:!0===n})}var Ct=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ot=C.forwardRef(function(e,t){var n=e,{onClick:r,discover:i="render",prefetch:a="none",relative:s,reloadDocument:o,replace:l,state:h,target:f,to:p,preventScrollReset:m,viewTransition:g}=n,y=d(n,["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"]);let v,{basename:b,unstable_useTransitions:w}=C.useContext(Ie),k="string"==typeof p&&Ct.test(p),_=!1;if("string"==typeof p&&k&&(v=p,xt))try{let e=new URL(window.location.href),t=p.startsWith("//")?new URL(e.protocol+p):new URL(p),n=ye(t.pathname,b);t.origin===e.origin&&null!=n?p=n+t.search+t.hash:_=!0}catch(Vs){X(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let S=function(e,{relative:t}={}){Y(ze(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=C.useContext(Ie),{hash:i,pathname:a,search:s}=We(e,{relative:t}),o=a;return"/"!==n&&(o="/"===a?n:Ee([n,a])),r.createHref({pathname:o,search:s,hash:i})}(p,{relative:s}),[E,x,T]=function(e,t){let n=C.useContext(bt),[r,i]=C.useState(!1),[a,s]=C.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:u,onMouseLeave:c,onTouchStart:d}=t,h=C.useRef(null);C.useEffect(()=>{if("render"===e&&s(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{s(e.isIntersecting)})},{threshold:.5});return h.current&&e.observe(h.current),()=>{e.disconnect()}}},[e]),C.useEffect(()=>{if(r){let e=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(e)}}},[r]);let f=()=>{i(!0)},p=()=>{i(!1),s(!1)};return n?"intent"!==e?[a,h,{}]:[a,h,{onFocus:kt(o,f),onBlur:kt(l,p),onMouseEnter:kt(u,f),onMouseLeave:kt(c,p),onTouchStart:kt(d,f)}]:[!1,h,{}]}(a,y),O=function(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:s,unstable_useTransitions:o}={}){let l=Be(),u=Ue(),c=We(e,{relative:a});return C.useCallback(d=>{if(function(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}(d,t)){d.preventDefault();let t=void 0!==n?n:te(u)===te(c),h=()=>l(e,{replace:t,state:r,preventScrollReset:i,relative:a,viewTransition:s});o?C.startTransition(()=>h()):h()}},[u,l,c,n,r,t,e,i,a,s,o])}(p,{replace:l,state:h,target:f,preventScrollReset:m,relative:s,viewTransition:g,unstable_useTransitions:w});let N=C.createElement("a",c(u(u({},y),T),{href:v||S,onClick:_||o?r:function(e){r&&r(e),e.defaultPrevented||O(e)},ref:Et(t,x),target:f,"data-discover":k||"render"!==i?void 0:"true"}));return E&&!k?C.createElement(C.Fragment,null,N,C.createElement(_t,{page:S})):N});Ot.displayName="Link",C.forwardRef(function(e,t){var n=e,{"aria-current":r="page",caseSensitive:i=!1,className:a="",end:s=!1,style:o,to:l,viewTransition:h,children:f}=n,p=d(n,["aria-current","caseSensitive","className","end","style","to","viewTransition","children"]);let m=We(l,{relative:p.relative}),g=Ue(),y=C.useContext(je),{navigator:v,basename:b}=C.useContext(Ie),w=null!=y&&function(e,{relative:t}={}){let n=C.useContext(Ae);Y(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Rt("useViewTransitionState"),i=We(e,{relative:t});if(!n.isTransitioning)return!1;let a=ye(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=ye(n.nextLocation.pathname,r)||n.nextLocation.pathname;return null!=me(i.pathname,s)||null!=me(i.pathname,a)}
/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */(m)&&!0===h,k=v.encodeLocation?v.encodeLocation(m).pathname:m.pathname,_=g.pathname,S=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;i||(_=_.toLowerCase(),S=S?S.toLowerCase():null,k=k.toLowerCase()),S&&b&&(S=ye(S,b)||S);const E="/"!==k&&k.endsWith("/")?k.length-1:k.length;let x,T=_===k||!s&&_.startsWith(k)&&"/"===_.charAt(E),O=null!=S&&(S===k||!s&&S.startsWith(k)&&"/"===S.charAt(k.length)),N={isActive:T,isPending:O,isTransitioning:w},R=T?r:void 0;x="function"==typeof a?a(N):[a,T?"active":null,O?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let P="function"==typeof o?o(N):o;return C.createElement(Ot,c(u({},p),{"aria-current":R,className:x,ref:t,style:P,to:l,viewTransition:h}),"function"==typeof f?f(N):f)}).displayName="NavLink";var Nt=C.forwardRef((e,t)=>{var n=e,{discover:r="render",fetcherKey:i,navigate:a,reloadDocument:s,replace:o,state:l,method:h=st,action:p,onSubmit:m,relative:g,preventScrollReset:y,viewTransition:v}=n,b=d(n,["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"]);let{unstable_useTransitions:w}=C.useContext(Ie),k=function(){let{router:e}=Rt("useSubmit"),{basename:t}=C.useContext(Ie),n=Ye("useRouteId"),r=e.fetch,i=e.navigate;return C.useCallback((e,...a)=>f(null,[e,...a],function*(e,a={}){let{action:s,method:o,encType:l,formData:u,body:c}=ht(e,t);if(!1===a.navigate){let e=a.fetcherKey||jt();yield r(e,n,a.action||s,{preventScrollReset:a.preventScrollReset,formData:u,body:c,formMethod:a.method||o,formEncType:a.encType||l,flushSync:a.flushSync})}else yield i(a.action||s,{preventScrollReset:a.preventScrollReset,formData:u,body:c,formMethod:a.method||o,formEncType:a.encType||l,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})}),[r,i,t,n])}(),_=function(e,{relative:t}={}){let{basename:n}=C.useContext(Ie),r=C.useContext(Le);Y(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a=u({},We(e||".",{relative:t})),s=Ue();if(null==e){a.search=s.search;let e=new URLSearchParams(a.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();a.search=n?`?${n}`:""}}e&&"."!==e||!i.route.index||(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(a.pathname="/"===a.pathname?n:Ee([n,a.pathname]));return te(a)}(p,{relative:g}),S="get"===h.toLowerCase()?"get":"post",E="string"==typeof p&&Ct.test(p);return C.createElement("form",c(u({ref:t,method:S,action:_,onSubmit:s?m:e=>{if(m&&m(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null==t?void 0:t.getAttribute("formmethod"))||h,r=()=>k(t||e.currentTarget,{fetcherKey:i,method:n,navigate:a,replace:o,state:l,relative:g,preventScrollReset:y,viewTransition:v});w&&!1!==a?C.startTransition(()=>r()):r()}},b),{"data-discover":E||"render"!==r?void 0:"true"}))});function Rt(e){let t=C.useContext(Pe);return Y(t,function(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}(e)),t}Nt.displayName="Form";var Pt=0,jt=()=>`__${String(++Pt)}__`;const At=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},It=(...e)=>e.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim();
/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
var $t={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};
/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=C.forwardRef((e,t)=>{var n=e,{color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:o="",children:l,iconNode:h}=n,f=d(n,["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"]);return C.createElement("svg",u(u(c(u({ref:t},$t),{width:i,height:i,stroke:r,strokeWidth:s?24*Number(a)/Number(i):a,className:It("lucide",o)}),!l&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(f)&&{"aria-hidden":"true"}),f),[...h.map(([e,t])=>C.createElement(e,t)),...Array.isArray(l)?l:[l]])}),Dt=(e,t)=>{const n=C.forwardRef((n,r)=>{var i,a=n,{className:s}=a,o=d(a,["className"]);return C.createElement(Lt,u({ref:r,iconNode:t,className:It(`lucide-${i=At(e),i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,s)},o))});return n.displayName=At(e),n},zt=Dt("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Ut=Dt("clipboard-list",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]),Mt=Dt("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Ft=Dt("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),Bt=Dt("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]]),qt=Dt("layout-dashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),Wt=Dt("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),Ht=Dt("menu",[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]]),Vt=Dt("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]),Kt=Dt("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Gt=Dt("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Jt=Dt("shopping-cart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),Qt=Dt("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Yt=Dt("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),Xt=Dt("wifi-off",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),Zt=Dt("wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]),en=Dt("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),tn=Dt("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);
/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var nn=(e=>(e.SALE="SALE",e.ENTRY="ENTRY",e.ADJUSTMENT="ADJUSTMENT",e))(nn||{});const rn="pdv_master_audit_logs",an="pdv_master_session",sn=e=>{try{return localStorage.getItem(e)}catch(Vs){return null}},on={log:(e,t,n="INFO",r)=>{try{let i=r;if(!i){const e=sn(an);i=e?JSON.parse(e):null}const a={id:crypto.randomUUID(),timestamp:(new Date).toISOString(),userId:(null==i?void 0:i.id)||"SYSTEM",userName:(null==i?void 0:i.name)||"Sistema",userRole:(null==i?void 0:i.role)||"ADMIN",action:e,details:t,severity:n,ip:"192.168.1.10"},s=on.getLogs();s.unshift(a),s.length>1e3&&(s.length=1e3),((e,t)=>{try{localStorage.setItem(e,t)}catch(Vs){}})(rn,JSON.stringify(s))}catch(Vs){}},getLogs:()=>{const e=sn(rn);return e?JSON.parse(e):[]},getLogsByFilter:e=>{let t=on.getLogs();return e.startDate&&(t=t.filter(t=>new Date(t.timestamp)>=e.startDate)),e.endDate&&(t=t.filter(t=>new Date(t.timestamp)<=e.endDate)),e.severity&&"ALL"!==e.severity&&(t=t.filter(t=>t.severity===e.severity)),t}};function ln(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function un(e,t,n,r){return new(n||(n=Promise))(function(i,a){function s(e){try{l(r.next(e))}catch(Vs){a(Vs)}}function o(e){try{l(r.throw(e))}catch(Vs){a(Vs)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,o)}l((r=r.apply(e,t||[])).next())})}"function"==typeof SuppressedError&&SuppressedError;class cn extends Error{constructor(e,t="FunctionsError",n){super(e),this.name=t,this.context=n}}class dn extends cn{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class hn extends cn{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class fn extends cn{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var pn,mn;(mn=pn||(pn={})).Any="any",mn.ApNortheast1="ap-northeast-1",mn.ApNortheast2="ap-northeast-2",mn.ApSouth1="ap-south-1",mn.ApSoutheast1="ap-southeast-1",mn.ApSoutheast2="ap-southeast-2",mn.CaCentral1="ca-central-1",mn.EuCentral1="eu-central-1",mn.EuWest1="eu-west-1",mn.EuWest2="eu-west-2",mn.EuWest3="eu-west-3",mn.SaEast1="sa-east-1",mn.UsEast1="us-east-1",mn.UsWest1="us-west-1",mn.UsWest2="us-west-2";class gn{constructor(e,{headers:t={},customFetch:n,region:r=pn.Any}={}){this.url=e,this.headers=t,this.region=r,this.fetch=(e=>e?(...t)=>e(...t):(...e)=>fetch(...e))(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return un(this,arguments,void 0,function*(e,t={}){var n;let r,i;try{const{headers:a,method:s,body:o,signal:l,timeout:u}=t;let c={},{region:d}=t;d||(d=this.region);const h=new URL(`${this.url}/${e}`);let f;d&&"any"!==d&&(c["x-region"]=d,h.searchParams.set("forceFunctionRegion",d)),o&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?"undefined"!=typeof Blob&&o instanceof Blob||o instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",f=o):"string"==typeof o?(c["Content-Type"]="text/plain",f=o):"undefined"!=typeof FormData&&o instanceof FormData?f=o:(c["Content-Type"]="application/json",f=JSON.stringify(o)):f=o;let p=l;u&&(i=new AbortController,r=setTimeout(()=>i.abort(),u),l?(p=i.signal,l.addEventListener("abort",()=>i.abort())):p=i.signal);const m=yield this.fetch(h.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),a),body:f,signal:p}).catch(e=>{throw new dn(e)}),g=m.headers.get("x-relay-error");if(g&&"true"===g)throw new hn(m);if(!m.ok)throw new fn(m);let y,v=(null!==(n=m.headers.get("Content-Type"))&&void 0!==n?n:"text/plain").split(";")[0].trim();return y="application/json"===v?yield m.json():"application/octet-stream"===v||"application/pdf"===v?yield m.blob():"text/event-stream"===v?m:"multipart/form-data"===v?yield m.formData():yield m.text(),{data:y,error:null,response:m}}catch(a){return{data:null,error:a,response:a instanceof fn||a instanceof hn?a.context:void 0}}finally{r&&clearTimeout(r)}})}}var yn=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},vn=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=null!==(t=e.shouldThrowOnError)&&void 0!==t&&t,this.signal=e.signal,this.isMaybeSingle=null!==(n=e.isMaybeSingle)&&void 0!==n&&n,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),"GET"!==this.method&&"HEAD"!==this.method&&this.headers.set("Content-Type","application/json");let r=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(e=>f(this,null,function*(){let t=null,r=null,i=null,a=e.status,s=e.statusText;if(e.ok){var o,l;if("HEAD"!==n.method){var u;const t=yield e.text();""===t||(r="text/csv"===n.headers.get("Accept")||n.headers.get("Accept")&&(null===(u=n.headers.get("Accept"))||void 0===u?void 0:u.includes("application/vnd.pgrst.plan+text"))?t:JSON.parse(t))}const c=null===(o=n.headers.get("Prefer"))||void 0===o?void 0:o.match(/count=(exact|planned|estimated)/),d=null===(l=e.headers.get("content-range"))||void 0===l?void 0:l.split("/");c&&d&&d.length>1&&(i=parseInt(d[1])),n.isMaybeSingle&&"GET"===n.method&&Array.isArray(r)&&(r.length>1?(t={code:"PGRST116",details:`Results contain ${r.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},r=null,i=null,a=406,s="Not Acceptable"):r=1===r.length?r[0]:null)}else{var c;const i=yield e.text();try{t=JSON.parse(i),Array.isArray(t)&&404===e.status&&(r=[],t=null,a=200,s="OK")}catch(d){404===e.status&&""===i?(a=204,s="No Content"):t={message:i}}if(t&&n.isMaybeSingle&&(null==t||null===(c=t.details)||void 0===c?void 0:c.includes("0 rows"))&&(t=null,a=200,s="OK"),t&&n.shouldThrowOnError)throw new yn(t)}return{error:t,data:r,count:i,status:a,statusText:s}}));return this.shouldThrowOnError||(r=r.catch(e=>{var t;let n="";const r=null==e?void 0:e.cause;if(r){var i,a,s,o;const t=null!==(i=null==r?void 0:r.message)&&void 0!==i?i:"",l=null!==(a=null==r?void 0:r.code)&&void 0!==a?a:"";n=`${null!==(s=null==e?void 0:e.name)&&void 0!==s?s:"FetchError"}: ${null==e?void 0:e.message}`,n+=`\n\nCaused by: ${null!==(o=null==r?void 0:r.name)&&void 0!==o?o:"Error"}: ${t}`,l&&(n+=` (${l})`),(null==r?void 0:r.stack)&&(n+=`\n${r.stack}`)}else{var l;n=null!==(l=null==e?void 0:e.stack)&&void 0!==l?l:""}return{error:{message:`${null!==(t=null==e?void 0:e.name)&&void 0!==t?t:"FetchError"}: ${null==e?void 0:e.message}`,details:n,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),r.then(e,t)}returns(){return this}overrideTypes(){return this}},bn=class extends vn{select(e){let t=!1;const n=(null!=e?e:"*").split("").map(e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){const a=i?`${i}.order`:"order",s=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${s?`${s},`:""}${e}.${t?"asc":"desc"}${void 0===n?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const r=void 0===n?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){const i=void 0===r?"offset":`${r}.offset`,a=void 0===r?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(a,""+(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return"GET"===this.method?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:a="text"}={}){var s;const o=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=null!==(s=this.headers.get("Accept"))&&void 0!==s?s:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${l}"; options=${o};`),this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const wn=new RegExp("[,()]");var kn=class extends bn{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(e=>"string"==typeof e&&wn.test(e)?`"${e}"`:`${e}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(e=>"string"==typeof e&&wn.test(e)?`"${e}"`:`${e}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return"string"==typeof t?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let i="";"plain"===r?i="pl":"phrase"===r?i="ph":"websearch"===r&&(i="w");const a=void 0===n?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach(([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},_n=class{constructor(e,{headers:t={},schema:n,fetch:r}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r}select(e,t){const{head:n=!1,count:r}=null!=t?t:{},i=n?"HEAD":"GET";let a=!1;const s=(null!=e?e:"*").split("").map(e=>/\s/.test(e)&&!a?"":('"'===e&&(a=!a),e)).join("");return this.url.searchParams.set("select",s),r&&this.headers.append("Prefer",`count=${r}`),new kn({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;if(t&&this.headers.append("Prefer",`count=${t}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>`"${e}"`);this.url.searchParams.set("columns",e.join(","))}}return new kn({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!==(r=this.fetch)&&void 0!==r?r:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){var a;if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),void 0!==t&&this.url.searchParams.set("on_conflict",t),r&&this.headers.append("Prefer",`count=${r}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>`"${e}"`);this.url.searchParams.set("columns",e.join(","))}}return new kn({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!==(a=this.fetch)&&void 0!==a?a:fetch})}update(e,{count:t}={}){var n;return t&&this.headers.append("Prefer",`count=${t}`),new kn({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!==(n=this.fetch)&&void 0!==n?n:fetch})}delete({count:e}={}){var t;return e&&this.headers.append("Prefer",`count=${e}`),new kn({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:null!==(t=this.fetch)&&void 0!==t?t:fetch})}},Sn=class e{constructor(e,{headers:t={},schema:n,fetch:r}={}){this.url=e,this.headers=new Headers(t),this.schemaName=n,this.fetch=r}from(e){if(!e||"string"!=typeof e||""===e.trim())throw new Error("Invalid relation name: relation must be a non-empty string.");return new _n(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new e(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(e,t={},{head:n=!1,get:r=!1,count:i}={}){var a;let s;const o=new URL(`${this.url}/rpc/${e}`);let l;n||r?(s=n?"HEAD":"GET",Object.entries(t).filter(([e,t])=>void 0!==t).map(([e,t])=>[e,Array.isArray(t)?`{${t.join(",")}}`:`${t}`]).forEach(([e,t])=>{o.searchParams.append(e,t)})):(s="POST",l=t);const u=new Headers(this.headers);return i&&u.set("Prefer",`count=${i}`),new kn({method:s,url:o,headers:u,schema:this.schemaName,body:l,fetch:null!==(a=this.fetch)&&void 0!==a?a:fetch})}};class En{constructor(){}static detectEnvironment(){var e;if("undefined"!=typeof WebSocket)return{type:"native",constructor:WebSocket};if("undefined"!=typeof globalThis&&void 0!==globalThis.WebSocket)return{type:"native",constructor:globalThis.WebSocket};if("undefined"!=typeof global&&void 0!==global.WebSocket)return{type:"native",constructor:global.WebSocket};if("undefined"!=typeof globalThis&&void 0!==globalThis.WebSocketPair&&void 0===globalThis.WebSocket)return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if("undefined"!=typeof globalThis&&globalThis.EdgeRuntime||"undefined"!=typeof navigator&&(null===(e=navigator.userAgent)||void 0===e?void 0:e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if("undefined"!=typeof process){const e=process.versions;if(e&&e.node){const t=e.node,n=parseInt(t.replace(/^v/,"").split(".")[0]);return n>=22?void 0!==globalThis.WebSocket?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${n} detected without native WebSocket support.`,workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`\n\nSuggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){return new(this.getWebSocketConstructor())(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return"native"===e.type||"ws"===e.type}catch(e){return!1}}}const xn="1.0.0",Tn=xn,Cn=1e4;var On,Nn,Rn,Pn,jn,An,In,$n,Ln,Dn,zn;(Nn=On||(On={}))[Nn.connecting=0]="connecting",Nn[Nn.open=1]="open",Nn[Nn.closing=2]="closing",Nn[Nn.closed=3]="closed",(Pn=Rn||(Rn={})).closed="closed",Pn.errored="errored",Pn.joined="joined",Pn.joining="joining",Pn.leaving="leaving",(An=jn||(jn={})).close="phx_close",An.error="phx_error",An.join="phx_join",An.reply="phx_reply",An.leave="phx_leave",An.access_token="access_token",(In||(In={})).websocket="websocket",(Ln=$n||($n={})).Connecting="connecting",Ln.Open="open",Ln.Closing="closing",Ln.Closed="closed";class Un{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=null!=e?e:[]}encode(e,t){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&"string"==typeof e.payload.event)return t(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var t;return this._isArrayBuffer(null===(t=e.payload)||void 0===t?void 0:t.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var t,n;const r=null!==(n=null===(t=e.payload)||void 0===t?void 0:t.payload)&&void 0!==n?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,r)}_encodeJsonUserBroadcastPush(e){var t,n;const r=null!==(n=null===(t=e.payload)||void 0===t?void 0:t.payload)&&void 0!==n?n:{},i=(new TextEncoder).encode(JSON.stringify(r)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,i)}_encodeUserBroadcastPush(e,t,n){var r,i;const a=e.topic,s=null!==(r=e.ref)&&void 0!==r?r:"",o=null!==(i=e.join_ref)&&void 0!==i?i:"",l=e.payload.event,u=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},c=0===Object.keys(u).length?"":JSON.stringify(u);if(o.length>255)throw new Error(`joinRef length ${o.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`ref length ${s.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`userEvent length ${l.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`metadata length ${c.length} exceeds maximum of 255`);const d=this.USER_BROADCAST_PUSH_META_LENGTH+o.length+s.length+a.length+l.length+c.length,h=new ArrayBuffer(this.HEADER_LENGTH+d);let f=new DataView(h),p=0;f.setUint8(p++,this.KINDS.userBroadcastPush),f.setUint8(p++,o.length),f.setUint8(p++,s.length),f.setUint8(p++,a.length),f.setUint8(p++,l.length),f.setUint8(p++,c.length),f.setUint8(p++,t),Array.from(o,e=>f.setUint8(p++,e.charCodeAt(0))),Array.from(s,e=>f.setUint8(p++,e.charCodeAt(0))),Array.from(a,e=>f.setUint8(p++,e.charCodeAt(0))),Array.from(l,e=>f.setUint8(p++,e.charCodeAt(0))),Array.from(c,e=>f.setUint8(p++,e.charCodeAt(0)));var m=new Uint8Array(h.byteLength+n.byteLength);return m.set(new Uint8Array(h),0),m.set(new Uint8Array(n),h.byteLength),m.buffer}decode(e,t){if(this._isArrayBuffer(e)){return t(this._binaryDecode(e))}if("string"==typeof e){const n=JSON.parse(e),[r,i,a,s,o]=n;return t({join_ref:r,ref:i,topic:a,event:s,payload:o})}return t({})}_binaryDecode(e){const t=new DataView(e),n=t.getUint8(0),r=new TextDecoder;if(n===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,t,r)}_decodeUserBroadcast(e,t,n){const r=t.getUint8(1),i=t.getUint8(2),a=t.getUint8(3),s=t.getUint8(4);let o=this.HEADER_LENGTH+4;const l=n.decode(e.slice(o,o+r));o+=r;const u=n.decode(e.slice(o,o+i));o+=i;const c=n.decode(e.slice(o,o+a));o+=a;const d=e.slice(o,e.byteLength),h=s===this.JSON_ENCODING?JSON.parse(n.decode(d)):d,f={type:this.BROADCAST_EVENT,event:u,payload:h};return a>0&&(f.meta=JSON.parse(c)),{join_ref:null,ref:null,topic:l,event:this.BROADCAST_EVENT,payload:f}}_isArrayBuffer(e){var t;return e instanceof ArrayBuffer||"ArrayBuffer"===(null===(t=null==e?void 0:e.constructor)||void 0===t?void 0:t.name)}_pick(e,t){return e&&"object"==typeof e?Object.fromEntries(Object.entries(e).filter(([e])=>t.includes(e))):{}}}class Mn{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}(zn=Dn||(Dn={})).abstime="abstime",zn.bool="bool",zn.date="date",zn.daterange="daterange",zn.float4="float4",zn.float8="float8",zn.int2="int2",zn.int4="int4",zn.int4range="int4range",zn.int8="int8",zn.int8range="int8range",zn.json="json",zn.jsonb="jsonb",zn.money="money",zn.numeric="numeric",zn.oid="oid",zn.reltime="reltime",zn.text="text",zn.time="time",zn.timestamp="timestamp",zn.timestamptz="timestamptz",zn.timetz="timetz",zn.tsrange="tsrange",zn.tstzrange="tstzrange";const Fn=(e,t,n={})=>{var r;const i=null!==(r=n.skipTypes)&&void 0!==r?r:[];return t?Object.keys(t).reduce((n,r)=>(n[r]=Bn(r,e,t,i),n),{}):{}},Bn=(e,t,n,r)=>{const i=t.find(t=>t.name===e),a=null==i?void 0:i.type,s=n[e];return a&&!r.includes(a)?qn(a,s):Wn(s)},qn=(e,t)=>{if("_"===e.charAt(0)){const n=e.slice(1,e.length);return Gn(t,n)}switch(e){case Dn.bool:return Hn(t);case Dn.float4:case Dn.float8:case Dn.int2:case Dn.int4:case Dn.int8:case Dn.numeric:case Dn.oid:return Vn(t);case Dn.json:case Dn.jsonb:return Kn(t);case Dn.timestamp:return Jn(t);case Dn.abstime:case Dn.date:case Dn.daterange:case Dn.int4range:case Dn.int8range:case Dn.money:case Dn.reltime:case Dn.text:case Dn.time:case Dn.timestamptz:case Dn.timetz:case Dn.tsrange:case Dn.tstzrange:default:return Wn(t)}},Wn=e=>e,Hn=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Vn=e=>{if("string"==typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Kn=e=>{if("string"==typeof e)try{return JSON.parse(e)}catch(t){return e}return e},Gn=(e,t)=>{if("string"!=typeof e)return e;const n=e.length-1,r=e[n];if("{"===e[0]&&"}"===r){let r;const a=e.slice(1,n);try{r=JSON.parse("["+a+"]")}catch(i){r=a?a.split(","):[]}return r.map(e=>qn(t,e))}return e},Jn=e=>"string"==typeof e?e.replace(" ","T"):e,Qn=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),""===t.pathname||"/"===t.pathname?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Yn{constructor(e,t,n={},r=1e4){this.channel=e,this.event=t,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t(null===(n=this.receivedResp)||void 0===n?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(t=>t.status===e).forEach(e=>e.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Xn,Zn,er,tr,nr,rr,ir,ar;(Zn=Xn||(Xn={})).SYNC="sync",Zn.JOIN="join",Zn.LEAVE="leave";class sr{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(null==t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.joinRef=this.channel._joinRef(),this.state=sr.syncState(this.state,e,t,n),this.pendingDiffs.forEach(e=>{this.state=sr.syncDiff(this.state,e,t,n)}),this.pendingDiffs=[],r()}),this.channel._on(n.diff,{},e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=sr.syncDiff(this.state,e,t,n),r())}),this.onJoin((e,t,n)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:n})}),this.onLeave((e,t,n)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:n})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,n,r){const i=this.cloneDeep(e),a=this.transformState(t),s={},o={};return this.map(i,(e,t)=>{a[e]||(o[e]=t)}),this.map(a,(e,t)=>{const n=i[e];if(n){const r=t.map(e=>e.presence_ref),i=n.map(e=>e.presence_ref),a=t.filter(e=>i.indexOf(e.presence_ref)<0),l=n.filter(e=>r.indexOf(e.presence_ref)<0);a.length>0&&(s[e]=a),l.length>0&&(o[e]=l)}else s[e]=t}),this.syncDiff(i,{joins:s,leaves:o},n,r)}static syncDiff(e,t,n,r){const{joins:i,leaves:a}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(i,(t,r)=>{var i;const a=null!==(i=e[t])&&void 0!==i?i:[];if(e[t]=this.cloneDeep(r),a.length>0){const n=e[t].map(e=>e.presence_ref),r=a.filter(e=>n.indexOf(e.presence_ref)<0);e[t].unshift(...r)}n(t,a,r)}),this.map(a,(t,n)=>{let i=e[t];if(!i)return;const a=n.map(e=>e.presence_ref);i=i.filter(e=>a.indexOf(e.presence_ref)<0),e[t]=i,r(t,i,n),0===i.length&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{const r=e[n];return t[n]="metas"in r?r.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):r,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}(tr=er||(er={})).ALL="*",tr.INSERT="INSERT",tr.UPDATE="UPDATE",tr.DELETE="DELETE",(rr=nr||(nr={})).BROADCAST="broadcast",rr.PRESENCE="presence",rr.POSTGRES_CHANGES="postgres_changes",rr.SYSTEM="system",(ar=ir||(ir={})).SUBSCRIBED="SUBSCRIBED",ar.TIMED_OUT="TIMED_OUT",ar.CLOSED="CLOSED",ar.CHANNEL_ERROR="CHANNEL_ERROR";class or{constructor(e,t={config:{}},n){var r,i;if(this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=Rn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Yn(this,jn.join,this.params,this.timeout),this.rejoinTimer=new Mn(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Rn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Rn.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=Rn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Rn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=Rn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(jn.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new sr(this),this.broadcastEndpointURL=Qn(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(null===(i=null===(r=this.params.config)||void 0===r?void 0:r.broadcast)||void 0===i?void 0:i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var n,r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Rn.closed){const{config:{broadcast:a,presence:s,private:o}}=this.params,l=null!==(r=null===(n=this.bindings.postgres_changes)||void 0===n?void 0:n.map(e=>e.filter))&&void 0!==r?r:[],u=!!this.bindings[nr.PRESENCE]&&this.bindings[nr.PRESENCE].length>0||!0===(null===(i=this.params.config.presence)||void 0===i?void 0:i.enabled),c={},d={broadcast:a,presence:Object.assign(Object.assign({},s),{enabled:u}),postgres_changes:l,private:o};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this._onError(t=>null==e?void 0:e(ir.CHANNEL_ERROR,t)),this._onClose(()=>null==e?void 0:e(ir.CLOSED)),this.updateJoinPayload(Object.assign({config:d},c)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",t=>f(this,[t],function*({postgres_changes:t}){var n;if(this.socket._isManualToken()||this.socket.setAuth(),void 0!==t){const r=this.bindings.postgres_changes,i=null!==(n=null==r?void 0:r.length)&&void 0!==n?n:0,a=[];for(let n=0;n<i;n++){const i=r[n],{filter:{event:s,schema:o,table:l,filter:u}}=i,c=t&&t[n];if(!(c&&c.event===s&&or.isFilterValueEqual(c.schema,o)&&or.isFilterValueEqual(c.table,l)&&or.isFilterValueEqual(c.filter,u)))return this.unsubscribe(),this.state=Rn.errored,void(null==e||e(ir.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));a.push(Object.assign(Object.assign({},i),{id:c.id}))}return this.bindings.postgres_changes=a,void(e&&e(ir.SUBSCRIBED))}null==e||e(ir.SUBSCRIBED)})).receive("error",t=>{this.state=Rn.errored,null==e||e(ir.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))}).receive("timeout",()=>{null==e||e(ir.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(e){return f(this,arguments,function*(e,t={}){return yield this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)})}untrack(){return f(this,arguments,function*(e={}){return yield this.send({type:"presence",event:"untrack"},e)})}on(e,t,n){return this.state===Rn.joined&&e===nr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>f(this,null,function*(){return yield this.subscribe()}))),this._on(e,t,n)}httpSend(e,t){return f(this,arguments,function*(e,t,n={}){var r;if(null==t)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},s=yield this._fetchWithTimeout(this.broadcastEndpointURL,a,null!==(r=n.timeout)&&void 0!==r?r:this.timeout);if(202===s.status)return{success:!0};let o=s.statusText;try{const e=yield s.json();o=e.error||e.message||o}catch(l){}return Promise.reject(new Error(o))})}send(e){return f(this,arguments,function*(e,t={}){var n,r;if(this._canPush()||"broadcast"!==e.type)return new Promise(n=>{var r,i,a;const s=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(a=null===(i=null===(r=this.params)||void 0===r?void 0:r.config)||void 0===i?void 0:i.broadcast)||void 0===a?void 0:a.ack)||n("ok"),s.receive("ok",()=>n("ok")),s.receive("error",()=>n("error")),s.receive("timeout",()=>n("timed out"))});{console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:s}=e,o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{const e=yield this._fetchWithTimeout(this.broadcastEndpointURL,l,null!==(n=t.timeout)&&void 0!==n?n:this.timeout);return yield null===(r=e.body)||void 0===r?void 0:r.cancel(),e.ok?"ok":"error"}catch(i){return"AbortError"===i.name?"timed out":"error"}}})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Rn.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(jn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(r=>{n=new Yn(this,jn.leave,{},e),n.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{null==n||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Rn.closed,this.bindings={}}_fetchWithTimeout(e,t,n){return f(this,null,function*(){const r=new AbortController,i=setTimeout(()=>r.abort(),n),a=yield this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(i),a})}_push(e,t,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new Yn(this,e,t,n);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>100){const e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${e.event}`,e.payload))}}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var r,i;const a=e.toLocaleLowerCase(),{close:s,error:o,leave:l,join:u}=jn;if(n&&[s,o,l,u].indexOf(a)>=0&&n!==this._joinRef())return;let c=this._onMessage(a,t,n);if(t&&!c)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?null===(r=this.bindings.postgres_changes)||void 0===r||r.filter(e=>{var t,n,r;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(r=null===(n=e.filter)||void 0===n?void 0:n.event)||void 0===r?void 0:r.toLocaleLowerCase())===a}).map(e=>e.callback(c,n)):null===(i=this.bindings[a])||void 0===i||i.filter(e=>{var n,r,i,s,o,l;if(["broadcast","presence","postgres_changes"].includes(a)){if("id"in e){const a=e.id,s=null===(n=e.filter)||void 0===n?void 0:n.event;return a&&(null===(r=t.ids)||void 0===r?void 0:r.includes(a))&&("*"===s||(null==s?void 0:s.toLocaleLowerCase())===(null===(i=t.data)||void 0===i?void 0:i.type.toLocaleLowerCase()))}{const n=null===(o=null===(s=null==e?void 0:e.filter)||void 0===s?void 0:s.event)||void 0===o?void 0:o.toLocaleLowerCase();return"*"===n||n===(null===(l=null==t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===a}).map(e=>{if("object"==typeof c&&"ids"in c){const e=c.data,{schema:t,table:n,commit_timestamp:r,type:i,errors:a}=e,s={schema:t,table:n,commit_timestamp:r,eventType:i,new:{},old:{},errors:a};c=Object.assign(Object.assign({},s),this._getPayloadRecords(e))}e.callback(c,n)})}_isClosed(){return this.state===Rn.closed}_isJoined(){return this.state===Rn.joined}_isJoining(){return this.state===Rn.joining}_isLeaving(){return this.state===Rn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,n){const r=e.toLocaleLowerCase(),i={type:r,filter:t,callback:n};return this.bindings[r]?this.bindings[r].push(i):this.bindings[r]=[i],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(e=>{var r;return!((null===(r=e.type)||void 0===r?void 0:r.toLocaleLowerCase())===n&&or.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}static isFilterValueEqual(e,t){return(null!=e?e:void 0)===(null!=t?t:void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(jn.close,{},e)}_onError(e){this._on(jn.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Rn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=Fn(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=Fn(e.columns,e.old_record)),t}}const lr=()=>{},ur=25e3,cr=10,dr=100,hr=[1e3,2e3,5e3,1e4];class fr{constructor(e,t){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Cn,this.transport=null,this.heartbeatIntervalMs=ur,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=lr,this.ref=0,this.reconnectTimer=null,this.vsn=Tn,this.logger=lr,this.conn=null,this.sendBuffer=[],this.serializer=new Un,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=e=>e?(...t)=>e(...t):(...e)=>fetch(...e),!(null===(n=null==t?void 0:t.params)||void 0===n?void 0:n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${In.websocket}`,this.httpEndpoint=Qn(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(null==t?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=En.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;if(t.includes("Node.js"))throw new Error(`${t}\n\nTo use Realtime in Node.js, you need to provide a WebSocket implementation:\n\nOption 1: Use Node.js 22+ which has native WebSocket support\nOption 2: Install and provide the "ws" package:\n\n  npm install ws\n\n  import ws from "ws"\n  const client = new RealtimeClient(url, {\n    ...options,\n    transport: ws\n  })`);throw new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},"function"==typeof this.conn.close&&(e?this.conn.close(e,null!=t?t:""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}removeChannel(e){return f(this,null,function*(){const t=yield e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t})}removeAllChannels(){return f(this,null,function*(){const e=yield Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),e})}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case On.connecting:return $n.Connecting;case On.open:return $n.Open;case On.closing:return $n.Closing;default:return $n.Closed}}isConnected(){return this.connectionState()===$n.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(e,t={config:{}}){const n=`realtime:${e}`,r=this.getChannels().find(e=>e.topic===n);if(r)return r;{const n=new or(`realtime:${e}`,t,this);return this.channels.push(n),n}}push(e){const{topic:t,event:n,payload:r,ref:i}=e,a=()=>{this.encode(e,e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)})};this.log("push",`${t} ${n} (${i})`,r),this.isConnected()?a():this.sendBuffer.push(a)}setAuth(e=null){return f(this,null,function*(){this._authPromise=this._performAuth(e);try{yield this._authPromise}finally{this._authPromise=null}})}_isManualToken(){return this._manuallySetToken}sendHeartbeat(){return f(this,null,function*(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(Vs){this.log("error","error in heartbeat callback",Vs)}return this._wasManualDisconnect=!1,null===(e=this.conn)||void 0===e||e.close(1e3,"heartbeat timeout"),void setTimeout(()=>{var e;this.isConnected()||null===(e=this.reconnectTimer)||void 0===e||e.scheduleTimeout()},dr)}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(Vs){this.log("error","error in heartbeat callback",Vs)}this._setAuthSafely("heartbeat")}else try{this.heartbeatCallback("disconnected")}catch(Vs){this.log("error","error in heartbeat callback",Vs)}})}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,e=>{if("phoenix"===e.topic&&"phx_reply"===e.event)try{this.heartbeatCallback("ok"===e.payload.status?"ok":"error")}catch(Vs){this.log("error","error in heartbeat callback",Vs)}e.ref&&e.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:t,event:n,payload:r,ref:i}=e,a=i?`(${i})`:"",s=r.status||"";this.log("receive",`${s} ${t} ${n} ${a}`.trim(),r),this.channels.filter(e=>e._isMember(t)).forEach(e=>e._trigger(n,r,i)),this._triggerStateCallbacks("message",e)})}_clearTimer(e){var t;"heartbeat"===e&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===e&&(null===(t=this.reconnectTimer)||void 0===t||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===On.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===On.open||this.conn.readyState===On.connecting)try{this.conn.close()}catch(Vs){this.log("error","Error closing connection",Vs)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`);(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(e=>{this.log("error","error waiting for auth on connect",e),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this._terminateWorker()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null===(t=this.reconnectTimer)||void 0===t||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(jn.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const n=e.match(/\?/)?"&":"?";return`${e}${n}${new URLSearchParams(t)}`}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}_setConnectionState(e,t=!1){this._connectionState=e,"connecting"===e?this._wasManualDisconnect=!1:"disconnecting"===e&&(this._wasManualDisconnect=t)}_performAuth(e=null){return f(this,null,function*(){let t,n=!1;if(e)t=e,n=!0;else if(this.accessToken)try{t=yield this.accessToken()}catch(Vs){this.log("error","Error fetching access token from callback",Vs),t=this.accessTokenValue}else t=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(e=>{const n={access_token:t,version:"realtime-js/2.89.0"};t&&e.updateJoinPayload(n),e.joinedOnce&&e._isJoined()&&e._push(jn.access_token,{access_token:t})}))})}_waitForAuthIfNeeded(){return f(this,null,function*(){this._authPromise&&(yield this._authPromise)})}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(t=>{this.log("error",`Error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(t)}catch(Vs){this.log("error",`error in ${e} callback`,Vs)}})}catch(Vs){this.log("error",`error triggering ${e} callbacks`,Vs)}}_setupReconnectionTimer(){this.reconnectTimer=new Mn(()=>f(this,null,function*(){setTimeout(()=>f(this,null,function*(){yield this._waitForAuthIfNeeded(),this.isConnected()||this.connect()}),cr)}),this.reconnectAfterMs)}_initializeOptions(e){var t,n,r,i,a,s,o,l,u,c,d,h;switch(this.transport=null!==(t=null==e?void 0:e.transport)&&void 0!==t?t:null,this.timeout=null!==(n=null==e?void 0:e.timeout)&&void 0!==n?n:Cn,this.heartbeatIntervalMs=null!==(r=null==e?void 0:e.heartbeatIntervalMs)&&void 0!==r?r:ur,this.worker=null!==(i=null==e?void 0:e.worker)&&void 0!==i&&i,this.accessToken=null!==(a=null==e?void 0:e.accessToken)&&void 0!==a?a:null,this.heartbeatCallback=null!==(s=null==e?void 0:e.heartbeatCallback)&&void 0!==s?s:lr,this.vsn=null!==(o=null==e?void 0:e.vsn)&&void 0!==o?o:Tn,(null==e?void 0:e.params)&&(this.params=e.params),(null==e?void 0:e.logger)&&(this.logger=e.logger),((null==e?void 0:e.logLevel)||(null==e?void 0:e.log_level))&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!==(l=null==e?void 0:e.reconnectAfterMs)&&void 0!==l?l:e=>hr[e-1]||1e4,this.vsn){case xn:this.encode=null!==(u=null==e?void 0:e.encode)&&void 0!==u?u:(e,t)=>t(JSON.stringify(e)),this.decode=null!==(c=null==e?void 0:e.decode)&&void 0!==c?c:(e,t)=>t(JSON.parse(e));break;case"2.0.0":this.encode=null!==(d=null==e?void 0:e.encode)&&void 0!==d?d:this.serializer.encode.bind(this.serializer),this.decode=null!==(h=null==e?void 0:e.decode)&&void 0!==h?h:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if("undefined"!=typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=null==e?void 0:e.workerUrl}}}var pr=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown="CommitStateUnknownException"===t.icebergType||[500,502,504].includes(t.status)&&!0===(null==(n=t.icebergType)?void 0:n.includes("CommitState"))}isNotFound(){return 404===this.status}isConflict(){return 409===this.status}isAuthenticationTimeout(){return 419===this.status}};function mr(e){var t;const n=null!=(t=e.fetchImpl)?t:globalThis.fetch;return{request(t){return f(this,arguments,function*({method:t,path:r,query:i,body:a,headers:s}){var o;const l=function(e,t,n){const r=new URL(t,e);if(n)for(const[i,a]of Object.entries(n))void 0!==a&&r.searchParams.set(i,a);return r.toString()}(e.baseUrl,r,i),c=yield function(e){return f(this,null,function*(){return e&&"none"!==e.type?"bearer"===e.type?{Authorization:`Bearer ${e.token}`}:"header"===e.type?{[e.name]:e.value}:"custom"===e.type?yield e.getHeaders():{}:{}})}(e.auth),d=yield n(l,{method:t,headers:u(u(u({},a?{"Content-Type":"application/json"}:{}),c),s),body:a?JSON.stringify(a):void 0}),h=yield d.text(),p=(d.headers.get("content-type")||"").includes("application/json"),m=p&&h?JSON.parse(h):h;if(!d.ok){const e=p?m:void 0,t=null==e?void 0:e.error;throw new pr(null!=(o=null==t?void 0:t.message)?o:`Request failed with status ${d.status}`,{status:d.status,icebergType:null==t?void 0:t.type,icebergCode:null==t?void 0:t.code,details:e})}return{status:d.status,headers:d.headers,data:m}})}}}function gr(e){return e.join("")}var yr=class{constructor(e,t=""){this.client=e,this.prefix=t}listNamespaces(e){return f(this,null,function*(){const t=e?{parent:gr(e.namespace)}:void 0;return(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(e=>({namespace:e}))})}createNamespace(e,t){return f(this,null,function*(){const n={namespace:e.namespace,properties:null==t?void 0:t.properties};return(yield this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data})}dropNamespace(e){return f(this,null,function*(){yield this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${gr(e.namespace)}`})})}loadNamespaceMetadata(e){return f(this,null,function*(){return{properties:(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces/${gr(e.namespace)}`})).data.properties}})}namespaceExists(e){return f(this,null,function*(){try{return yield this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${gr(e.namespace)}`}),!0}catch(t){if(t instanceof pr&&404===t.status)return!1;throw t}})}createNamespaceIfNotExists(e,t){return f(this,null,function*(){try{return yield this.createNamespace(e,t)}catch(n){if(n instanceof pr&&409===n.status)return;throw n}})}};function vr(e){return e.join("")}var br=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}listTables(e){return f(this,null,function*(){return(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces/${vr(e.namespace)}/tables`})).data.identifiers})}createTable(e,t){return f(this,null,function*(){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);return(yield this.client.request({method:"POST",path:`${this.prefix}/namespaces/${vr(e.namespace)}/tables`,body:t,headers:n})).data.metadata})}updateTable(e,t){return f(this,null,function*(){const n=yield this.client.request({method:"POST",path:`${this.prefix}/namespaces/${vr(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}})}dropTable(e,t){return f(this,null,function*(){var n;yield this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${vr(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(null!=(n=null==t?void 0:t.purge)&&n)}})})}loadTable(e){return f(this,null,function*(){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);return(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces/${vr(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata})}tableExists(e){return f(this,null,function*(){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return yield this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${vr(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof pr&&404===n.status)return!1;throw n}})}createTableIfNotExists(e,t){return f(this,null,function*(){try{return yield this.createTable(e,t)}catch(n){if(n instanceof pr&&409===n.status)return yield this.loadTable({namespace:e.namespace,name:t.name});throw n}})}},wr=class{constructor(e){var t;let n="v1";e.catalogName&&(n+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=mr({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=null==(t=e.accessDelegation)?void 0:t.join(","),this.namespaceOps=new yr(this.client,n),this.tableOps=new br(this.client,n,this.accessDelegation)}listNamespaces(e){return f(this,null,function*(){return this.namespaceOps.listNamespaces(e)})}createNamespace(e,t){return f(this,null,function*(){return this.namespaceOps.createNamespace(e,t)})}dropNamespace(e){return f(this,null,function*(){yield this.namespaceOps.dropNamespace(e)})}loadNamespaceMetadata(e){return f(this,null,function*(){return this.namespaceOps.loadNamespaceMetadata(e)})}listTables(e){return f(this,null,function*(){return this.tableOps.listTables(e)})}createTable(e,t){return f(this,null,function*(){return this.tableOps.createTable(e,t)})}updateTable(e,t){return f(this,null,function*(){return this.tableOps.updateTable(e,t)})}dropTable(e,t){return f(this,null,function*(){yield this.tableOps.dropTable(e,t)})}loadTable(e){return f(this,null,function*(){return this.tableOps.loadTable(e)})}namespaceExists(e){return f(this,null,function*(){return this.namespaceOps.namespaceExists(e)})}tableExists(e){return f(this,null,function*(){return this.tableOps.tableExists(e)})}createNamespaceIfNotExists(e,t){return f(this,null,function*(){return this.namespaceOps.createNamespaceIfNotExists(e,t)})}createTableIfNotExists(e,t){return f(this,null,function*(){return this.tableOps.createTableIfNotExists(e,t)})}},kr=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function _r(e){return"object"==typeof e&&null!==e&&"__isStorageError"in e}var Sr=class extends kr{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Er=class extends kr{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const xr=e=>e?(...t)=>e(...t):(...e)=>fetch(...e),Tr=e=>{if(Array.isArray(e))return e.map(e=>Tr(e));if("function"==typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([e,n])=>{const r=e.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace(/[-_]/g,""));t[r]=Tr(n)}),t};function Cr(e){return(Cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Or(e){var t=function(e,t){if("object"!=Cr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=Cr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Cr(t)?t:t+""}function Nr(e,t,n){return(t=Or(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Pr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rr(Object(n),!0).forEach(function(t){Nr(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rr(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const jr=e=>{var t;return e.msg||e.message||e.error_description||("string"==typeof e.error?e.error:null===(t=e.error)||void 0===t?void 0:t.message)||JSON.stringify(e)},Ar=(e,t,n)=>f(null,null,function*(){e instanceof(yield Response)&&!(null==n?void 0:n.noResolveJson)?e.json().then(n=>{const r=e.status||500,i=(null==n?void 0:n.statusCode)||r+"";t(new Sr(jr(n),r,i))}).catch(e=>{t(new Er(jr(e),e))}):t(new Er(jr(e),e))}),Ir=(e,t,n,r)=>{const i={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"!==e&&r?((e=>{if("object"!=typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)})(r)?(i.headers=Pr({"Content-Type":"application/json"},null==t?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,(null==t?void 0:t.duplex)&&(i.duplex=t.duplex),Pr(Pr({},i),n)):i};function $r(e,t,n,r,i,a){return f(this,null,function*(){return new Promise((s,o)=>{e(n,Ir(t,r,i,a)).then(e=>{if(!e.ok)throw e;return(null==r?void 0:r.noResolveJson)?e:e.json()}).then(e=>s(e)).catch(e=>Ar(e,o,r))})})}function Lr(e,t,n,r){return f(this,null,function*(){return $r(e,"GET",t,n,r)})}function Dr(e,t,n,r,i){return f(this,null,function*(){return $r(e,"POST",t,r,i,n)})}function zr(e,t,n,r,i){return f(this,null,function*(){return $r(e,"PUT",t,r,i,n)})}function Ur(e,t,n,r,i){return f(this,null,function*(){return $r(e,"DELETE",t,r,i,n)})}var Mr=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}execute(){return f(this,null,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(_r(e))return{data:null,error:e};throw e}})}};let Fr;Fr=Symbol.toStringTag;var Br=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[Fr]="BlobDownloadBuilder",this.promise=null}asStream(){return new Mr(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return f(this,null,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(_r(e))return{data:null,error:e};throw e}})}};const qr={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Wr={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Hr=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=n,this.fetch=xr(r)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,t,n,r){return f(this,null,function*(){var i=this;try{let a;const s=Pr(Pr({},Wr),r);let o=Pr(Pr({},i.headers),"POST"===e&&{"x-upsert":String(s.upsert)});const l=s.metadata;"undefined"!=typeof Blob&&n instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),l&&a.append("metadata",i.encodeMetadata(l)),a.append("",n)):"undefined"!=typeof FormData&&n instanceof FormData?(a=n,a.has("cacheControl")||a.append("cacheControl",s.cacheControl),l&&!a.has("metadata")&&a.append("metadata",i.encodeMetadata(l))):(a=n,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType,l&&(o["x-metadata"]=i.toBase64(i.encodeMetadata(l))),("undefined"!=typeof ReadableStream&&a instanceof ReadableStream||a&&"object"==typeof a&&"pipe"in a&&"function"==typeof a.pipe)&&!s.duplex&&(s.duplex="half")),(null==r?void 0:r.headers)&&(o=Pr(Pr({},o),r.headers));const u=i._removeEmptyFolders(t),c=i._getFinalPath(u),d=yield("PUT"==e?zr:Dr)(i.fetch,`${i.url}/object/${c}`,a,Pr({headers:o},(null==s?void 0:s.duplex)?{duplex:s.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(_r(a))return{data:null,error:a};throw a}})}upload(e,t,n){return f(this,null,function*(){return this.uploadOrUpdate("POST",e,t,n)})}uploadToSignedUrl(e,t,n,r){return f(this,null,function*(){var i=this;const a=i._removeEmptyFolders(e),s=i._getFinalPath(a),o=new URL(i.url+`/object/upload/sign/${s}`);o.searchParams.set("token",t);try{let e;const t=Pr({upsert:Wr.upsert},r),s=Pr(Pr({},i.headers),{"x-upsert":String(t.upsert)});return"undefined"!=typeof Blob&&n instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",n)):"undefined"!=typeof FormData&&n instanceof FormData?(e=n,e.append("cacheControl",t.cacheControl)):(e=n,s["cache-control"]=`max-age=${t.cacheControl}`,s["content-type"]=t.contentType),{data:{path:a,fullPath:(yield zr(i.fetch,o.toString(),e,{headers:s})).Key},error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(_r(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,t){return f(this,null,function*(){var n=this;try{let r=n._getFinalPath(e);const i=Pr({},n.headers);(null==t?void 0:t.upsert)&&(i["x-upsert"]="true");const a=yield Dr(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(n.url+a.url),o=s.searchParams.get("token");if(!o)throw new kr("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:o},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(_r(r))return{data:null,error:r};throw r}})}update(e,t,n){return f(this,null,function*(){return this.uploadOrUpdate("PUT",e,t,n)})}move(e,t,n){return f(this,null,function*(){var r=this;try{return{data:yield Dr(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null==n?void 0:n.destinationBucket},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(_r(i))return{data:null,error:i};throw i}})}copy(e,t,n){return f(this,null,function*(){var r=this;try{return{data:{path:(yield Dr(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null==n?void 0:n.destinationBucket},{headers:r.headers})).Key},error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(_r(i))return{data:null,error:i};throw i}})}createSignedUrl(e,t,n){return f(this,null,function*(){var r=this;try{let i=r._getFinalPath(e),a=yield Dr(r.fetch,`${r.url}/object/sign/${i}`,Pr({expiresIn:t},(null==n?void 0:n.transform)?{transform:n.transform}:{}),{headers:r.headers});const s=(null==n?void 0:n.download)?`&download=${!0===n.download?"":n.download}`:"";return a={signedUrl:encodeURI(`${r.url}${a.signedURL}${s}`)},{data:a,error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(_r(i))return{data:null,error:i};throw i}})}createSignedUrls(e,t,n){return f(this,null,function*(){var r=this;try{const i=yield Dr(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),a=(null==n?void 0:n.download)?`&download=${!0===n.download?"":n.download}`:"";return{data:i.map(e=>Pr(Pr({},e),{},{signedUrl:e.signedURL?encodeURI(`${r.url}${e.signedURL}${a}`):null})),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(_r(i))return{data:null,error:i};throw i}})}download(e,t){const n=void 0!==(null==t?void 0:t.transform)?"render/image/authenticated":"object",r=this.transformOptsToQueryString((null==t?void 0:t.transform)||{}),i=r?`?${r}`:"",a=this._getFinalPath(e);return new Br(()=>Lr(this.fetch,`${this.url}/${n}/${a}${i}`,{headers:this.headers,noResolveJson:!0}),this.shouldThrowOnError)}info(e){return f(this,null,function*(){var t=this;const n=t._getFinalPath(e);try{return{data:Tr(yield Lr(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(_r(r))return{data:null,error:r};throw r}})}exists(e){return f(this,null,function*(){var t=this;const n=t._getFinalPath(e);try{return yield function(e,t,n,r){return f(this,null,function*(){return $r(e,"HEAD",t,Pr(Pr({},n),{},{noResolveJson:!0}),r)})}(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(_r(r)&&r instanceof Er){const e=r.originalError;if([400,404].includes(null==e?void 0:e.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],i=(null==t?void 0:t.download)?`download=${!0===t.download?"":t.download}`:"";""!==i&&r.push(i);const a=void 0!==(null==t?void 0:t.transform)?"render/image":"object",s=this.transformOptsToQueryString((null==t?void 0:t.transform)||{});""!==s&&r.push(s);let o=r.join("&");return""!==o&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${o}`)}}}remove(e){return f(this,null,function*(){var t=this;try{return{data:yield Ur(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(_r(n))return{data:null,error:n};throw n}})}list(e,t,n){return f(this,null,function*(){var r=this;try{const i=Pr(Pr(Pr({},qr),t),{},{prefix:e||""});return{data:yield Dr(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},n),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(_r(i))return{data:null,error:i};throw i}})}listV2(e,t){return f(this,null,function*(){var n=this;try{const r=Pr({},e);return{data:yield Dr(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(_r(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!=typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const Vr="2.89.0",Kr={"X-Client-Info":`storage-js/${Vr}`};var Gr=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1;const i=new URL(e);(null==r?void 0:r.useNewHostname)&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Pr(Pr({},Kr),t),this.fetch=xr(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return f(this,null,function*(){var t=this;try{const n=t.listBucketOptionsToQueryString(e);return{data:yield Lr(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(_r(n))return{data:null,error:n};throw n}})}getBucket(e){return f(this,null,function*(){var t=this;try{return{data:yield Lr(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(_r(n))return{data:null,error:n};throw n}})}createBucket(e){return f(this,arguments,function*(e,t={public:!1}){var n=this;try{return{data:yield Dr(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(_r(r))return{data:null,error:r};throw r}})}updateBucket(e,t){return f(this,null,function*(){var n=this;try{return{data:yield zr(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(_r(r))return{data:null,error:r};throw r}})}emptyBucket(e){return f(this,null,function*(){var t=this;try{return{data:yield Dr(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(_r(n))return{data:null,error:n};throw n}})}deleteBucket(e){return f(this,null,function*(){var t=this;try{return{data:yield Ur(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(_r(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},Jr=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Pr(Pr({},Kr),t),this.fetch=xr(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return f(this,null,function*(){var t=this;try{return{data:yield Dr(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(_r(n))return{data:null,error:n};throw n}})}listBuckets(e){return f(this,null,function*(){var t=this;try{const n=new URLSearchParams;void 0!==(null==e?void 0:e.limit)&&n.set("limit",e.limit.toString()),void 0!==(null==e?void 0:e.offset)&&n.set("offset",e.offset.toString()),(null==e?void 0:e.sortColumn)&&n.set("sortColumn",e.sortColumn),(null==e?void 0:e.sortOrder)&&n.set("sortOrder",e.sortOrder),(null==e?void 0:e.search)&&n.set("search",e.search);const r=n.toString(),i=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return{data:yield Lr(t.fetch,i,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(_r(n))return{data:null,error:n};throw n}})}deleteBucket(e){return f(this,null,function*(){var t=this;try{return{data:yield Ur(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(_r(n))return{data:null,error:n};throw n}})}from(e){var t=this;if(!(e=>!(!e||"string"!=typeof e)&&!(0===e.length||e.length>100)&&e.trim()===e&&!e.includes("/")&&!e.includes("\\")&&/^[\w!.\*'() &$@=;:+,?-]+$/.test(e))(e))throw new kr("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new wr({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>f(this,null,function*(){return t.headers})},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(e,t){const n=e[t];return"function"!=typeof n?n:(...t)=>f(null,null,function*(){try{return{data:yield n.apply(e,t),error:null}}catch(i){if(r)throw i;return{data:null,error:i}}})}})}};const Qr={"X-Client-Info":`storage-js/${Vr}`,"Content-Type":"application/json"};var Yr=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Xr(e){return"object"==typeof e&&null!==e&&"__isStorageVectorsError"in e}var Zr=class extends Yr{constructor(e,t,n){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},ei=class extends Yr{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const ti=e=>e?(...t)=>e(...t):(...e)=>fetch(...e),ni=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ri=(e,t,n,r)=>{const i={method:e,headers:(null==t?void 0:t.headers)||{}};return r?((e=>{if("object"!=typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)})(r)?(i.headers=Pr({"Content-Type":"application/json"},null==t?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,Pr(Pr({},i),n)):i};function ii(e,t,n,r,i,a){return f(this,null,function*(){return new Promise((s,o)=>{e(n,ri(t,r,i,a)).then(e=>{if(!e.ok)throw e;if(null==r?void 0:r.noResolveJson)return e;const t=e.headers.get("content-type");return t&&t.includes("application/json")?e.json():{}}).then(e=>s(e)).catch(e=>((e,t,n)=>f(null,null,function*(){if(e&&"object"==typeof e&&"status"in e&&"ok"in e&&"number"==typeof e.status&&!(null==n?void 0:n.noResolveJson)){const n=e.status||500,r=e;if("function"==typeof r.json)r.json().then(e=>{const r=(null==e?void 0:e.statusCode)||(null==e?void 0:e.code)||n+"";t(new Zr(ni(e),n,r))}).catch(()=>{const e=n+"";t(new Zr(r.statusText||`HTTP ${n} error`,n,e))});else{const e=n+"";t(new Zr(r.statusText||`HTTP ${n} error`,n,e))}}else t(new ei(ni(e),e))}))(e,o,r))})})}function ai(e,t,n,r,i){return f(this,null,function*(){return ii(e,"POST",t,r,i,n)})}var si=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Pr(Pr({},Qr),t),this.fetch=ti(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return f(this,null,function*(){var t=this;try{return{data:(yield ai(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers}))||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Xr(n))return{data:null,error:n};throw n}})}getIndex(e,t){return f(this,null,function*(){var n=this;try{return{data:yield ai(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Xr(r))return{data:null,error:r};throw r}})}listIndexes(e){return f(this,null,function*(){var t=this;try{return{data:yield ai(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Xr(n))return{data:null,error:n};throw n}})}deleteIndex(e,t){return f(this,null,function*(){var n=this;try{return{data:(yield ai(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}))||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Xr(r))return{data:null,error:r};throw r}})}},oi=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Pr(Pr({},Qr),t),this.fetch=ti(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return f(this,null,function*(){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield ai(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers}))||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Xr(n))return{data:null,error:n};throw n}})}getVectors(e){return f(this,null,function*(){var t=this;try{return{data:yield ai(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Xr(n))return{data:null,error:n};throw n}})}listVectors(e){return f(this,null,function*(){var t=this;try{if(void 0!==e.segmentCount){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(void 0!==e.segmentIndex&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error("segmentIndex must be between 0 and "+(e.segmentCount-1))}return{data:yield ai(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Xr(n))return{data:null,error:n};throw n}})}queryVectors(e){return f(this,null,function*(){var t=this;try{return{data:yield ai(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Xr(n))return{data:null,error:n};throw n}})}deleteVectors(e){return f(this,null,function*(){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield ai(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers}))||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Xr(n))return{data:null,error:n};throw n}})}},li=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Pr(Pr({},Qr),t),this.fetch=ti(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return f(this,null,function*(){var t=this;try{return{data:(yield ai(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers}))||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Xr(n))return{data:null,error:n};throw n}})}getBucket(e){return f(this,null,function*(){var t=this;try{return{data:yield ai(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Xr(n))return{data:null,error:n};throw n}})}listBuckets(){return f(this,arguments,function*(e={}){var t=this;try{return{data:yield ai(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Xr(n))return{data:null,error:n};throw n}})}deleteBucket(e){return f(this,null,function*(){var t=this;try{return{data:(yield ai(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers}))||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Xr(n))return{data:null,error:n};throw n}})}},ui=class e extends li{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new ci(this.url,this.headers,e,this.fetch)}createBucket(t){return f(this,null,function*(){return(()=>h(e.prototype,this,"createBucket"))().call(this,t)})}getBucket(t){return f(this,null,function*(){return(()=>h(e.prototype,this,"getBucket"))().call(this,t)})}listBuckets(){return f(this,arguments,function*(t={}){return(()=>h(e.prototype,this,"listBuckets"))().call(this,t)})}deleteBucket(t){return f(this,null,function*(){return(()=>h(e.prototype,this,"deleteBucket"))().call(this,t)})}},ci=class e extends si{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}createIndex(t){return f(this,null,function*(){return(()=>h(e.prototype,this,"createIndex"))().call(this,Pr(Pr({},t),{},{vectorBucketName:this.vectorBucketName}))})}listIndexes(){return f(this,arguments,function*(t={}){return(()=>h(e.prototype,this,"listIndexes"))().call(this,Pr(Pr({},t),{},{vectorBucketName:this.vectorBucketName}))})}getIndex(t){return f(this,null,function*(){return(()=>h(e.prototype,this,"getIndex"))().call(this,this.vectorBucketName,t)})}deleteIndex(t){return f(this,null,function*(){return(()=>h(e.prototype,this,"deleteIndex"))().call(this,this.vectorBucketName,t)})}index(e){return new di(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},di=class e extends oi{constructor(e,t,n,r,i){super(e,t,i),this.vectorBucketName=n,this.indexName=r}putVectors(t){return f(this,null,function*(){var n=this;return(()=>h(e.prototype,this,"putVectors"))().call(n,Pr(Pr({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))})}getVectors(t){return f(this,null,function*(){var n=this;return(()=>h(e.prototype,this,"getVectors"))().call(n,Pr(Pr({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))})}listVectors(){return f(this,arguments,function*(t={}){var n=this;return(()=>h(e.prototype,this,"listVectors"))().call(n,Pr(Pr({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))})}queryVectors(t){return f(this,null,function*(){var n=this;return(()=>h(e.prototype,this,"queryVectors"))().call(n,Pr(Pr({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))})}deleteVectors(t){return f(this,null,function*(){var n=this;return(()=>h(e.prototype,this,"deleteVectors"))().call(n,Pr(Pr({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))})}},hi=class extends Gr{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new Hr(this.url,this.headers,e,this.fetch)}get vectors(){return new ui(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Jr(this.url+"/iceberg",this.headers,this.fetch)}};const fi="2.89.0",pi=3e4,mi=9e4,gi={"X-Client-Info":`gotrue-js/${fi}`},yi="X-Supabase-Api-Version",vi={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"},bi=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class wi extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function ki(e){return"object"==typeof e&&null!==e&&"__isAuthError"in e}class _i extends wi{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}class Si extends wi{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Ei extends wi{constructor(e,t,n,r){super(e,n,r),this.name=t,this.status=n}}class xi extends Ei{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class Ti extends Ei{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ci extends Ei{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Oi extends Ei{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ni extends Ei{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ri extends Ei{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Pi extends Ei{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function ji(e){return ki(e)&&"AuthRetryableFetchError"===e.name}class Ai extends Ei{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}class Ii extends Ei{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const $i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Li=" \t\n\r=".split(""),Di=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Li.length;t+=1)e[Li[t].charCodeAt(0)]=-2;for(let t=0;t<$i.length;t+=1)e[$i[t].charCodeAt(0)]=t;return e})();function zi(e,t,n){if(null!==e)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;n($i[e]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;n($i[e]),t.queuedBits-=6}}function Ui(e,t,n){const r=Di[e];if(!(r>-1)){if(-2===r)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8}function Mi(e){const t=[],n=e=>{t.push(String.fromCodePoint(e))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=e=>{!function(e,t,n){if(0===t.utf8seq){if(e<=127)return void n(e);for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else{if(4!==t.utf8seq)throw new Error("Invalid UTF-8 sequence");t.codepoint=7&e}t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&n(t.codepoint)}}(e,r,n)};for(let s=0;s<e.length;s+=1)Ui(e.charCodeAt(s),i,a);return t.join("")}function Fi(e,t){if(!(e<=127)){if(e<=2047)return t(192|e>>6),void t(128|63&e);if(e<=65535)return t(224|e>>12),t(128|e>>6&63),void t(128|63&e);if(e<=1114111)return t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),void t(128|63&e);throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}t(e)}function Bi(e){const t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};for(let i=0;i<e.length;i+=1)Ui(e.charCodeAt(i),n,r);return new Uint8Array(t)}function qi(e){const t=[];return function(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const t=1024*(r-55296)&65535;r=65536+(e.charCodeAt(n+1)-56320&65535|t),n+=1}Fi(r,t)}}(e,e=>t.push(e)),new Uint8Array(t)}function Wi(e){const t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};return e.forEach(e=>zi(e,n,r)),zi(null,n,r),t.join("")}const Hi=()=>"undefined"!=typeof window&&"undefined"!=typeof document,Vi={tested:!1,writable:!1},Ki=()=>{if(!Hi())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch(Vs){return!1}if(Vi.tested)return Vi.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Vi.tested=!0,Vi.writable=!0}catch(Vs){Vi.tested=!0,Vi.writable=!1}return Vi.writable};const Gi=e=>e?(...t)=>e(...t):(...e)=>fetch(...e),Ji=(e,t,n)=>f(null,null,function*(){yield e.setItem(t,JSON.stringify(n))}),Qi=(e,t)=>f(null,null,function*(){const n=yield e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch(r){return n}}),Yi=(e,t)=>f(null,null,function*(){yield e.removeItem(t)});class Xi{constructor(){this.promise=new Xi.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function Zi(e){const t=e.split(".");if(3!==t.length)throw new Ii("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!bi.test(t[n]))throw new Ii("JWT not in base64url format");return{header:JSON.parse(Mi(t[0])),payload:JSON.parse(Mi(t[1])),signature:Bi(t[2]),raw:{header:t[0],payload:t[1]}}}function ea(e){return("0"+e.toString(16)).substr(-2)}function ta(e){return f(this,null,function*(){if(!("undefined"!=typeof crypto&&void 0!==crypto.subtle&&"undefined"!=typeof TextEncoder))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=yield function(e){return f(this,null,function*(){const t=(new TextEncoder).encode(e),n=yield crypto.subtle.digest("SHA-256",t),r=new Uint8Array(n);return Array.from(r).map(e=>String.fromCharCode(e)).join("")})}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function na(e,t,n=!1){return f(this,null,function*(){const r=function(){const e=new Uint32Array(56);if("undefined"==typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let n="";for(let r=0;r<56;r++)n+=e.charAt(Math.floor(Math.random()*t));return n}return crypto.getRandomValues(e),Array.from(e,ea).join("")}();let i=r;n&&(i+="/PASSWORD_RECOVERY"),yield Ji(e,`${t}-code-verifier`,i);const a=yield ta(r);return[a,r===a?"plain":"s256"]})}Xi.promiseConstructor=Promise;const ra=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;const ia=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function aa(e){if(!ia.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function sa(){return new Proxy({},{get:(e,t)=>{if("__isUserNotAvailableProxy"===t)return!0;if("symbol"==typeof t){const e=t.toString();if("Symbol(Symbol.toPrimitive)"===e||"Symbol(Symbol.toStringTag)"===e||"Symbol(util.inspect.custom)"===e)return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function oa(e){return JSON.parse(JSON.stringify(e))}const la=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ua=[502,503,504];function ca(e){return f(this,null,function*(){var t,n;if(!("object"==typeof(n=e)&&null!==n&&"status"in n&&"ok"in n&&"json"in n&&"function"==typeof n.json))throw new Pi(la(e),0);if(ua.includes(e.status))throw new Pi(la(e),e.status);let r,i;try{r=yield e.json()}catch(Vs){throw new Si(la(Vs),Vs)}const a=function(e){const t=e.headers.get(yi);if(!t)return null;if(!t.match(ra))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch(Vs){return null}}(e);if(a&&a.getTime()>=vi.timestamp&&"object"==typeof r&&r&&"string"==typeof r.code?i=r.code:"object"==typeof r&&r&&"string"==typeof r.error_code&&(i=r.error_code),i){if("weak_password"===i)throw new Ai(la(r),e.status,(null===(t=r.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===i)throw new xi}else if("object"==typeof r&&r&&"object"==typeof r.weak_password&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((e,t)=>e&&"string"==typeof t,!0))throw new Ai(la(r),e.status,r.weak_password.reasons);throw new _i(la(r),e.status||500,i)})}function da(e,t,n,r){return f(this,null,function*(){var i;const a=Object.assign({},null==r?void 0:r.headers);a[yi]||(a[yi]=vi.name),(null==r?void 0:r.jwt)&&(a.Authorization=`Bearer ${r.jwt}`);const s=null!==(i=null==r?void 0:r.query)&&void 0!==i?i:{};(null==r?void 0:r.redirectTo)&&(s.redirect_to=r.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=yield function(e,t,n,r,i,a){return f(this,null,function*(){const s=((e,t,n,r)=>{const i={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"===e?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null==t?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))})(t,r,i,a);let o;try{o=yield e(n,Object.assign({},s))}catch(Vs){throw console.error(Vs),new Pi(la(Vs),0)}if(o.ok||(yield ca(o)),null==r?void 0:r.noResolveJson)return o;try{return yield o.json()}catch(Vs){yield ca(Vs)}})}(e,t,n+o,{headers:a,noResolveJson:null==r?void 0:r.noResolveJson},{},null==r?void 0:r.body);return(null==r?void 0:r.xform)?null==r?void 0:r.xform(l):{data:Object.assign({},l),error:null}})}function ha(e){var t;let n=null;var r;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=(r=e.expires_in,Math.round(Date.now()/1e3)+r)));return{data:{session:n,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function fa(e){const t=ha(e);return!t.error&&e.weak_password&&"object"==typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"==typeof e.weak_password.message&&e.weak_password.reasons.reduce((e,t)=>e&&"string"==typeof t,!0)&&(t.data.weak_password=e.weak_password),t}function pa(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function ma(e){return{data:e,error:null}}function ga(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=e,s=ln(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},user:Object.assign({},s)},error:null}}function ya(e){return e}const va=["global","local","others"];class ba{constructor({url:e="",headers:t={},fetch:n}){this.url=e,this.headers=t,this.fetch=Gi(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}signOut(e){return f(this,arguments,function*(e,t=va[0]){if(va.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${va.join(", ")}`);try{return yield da(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ki(n))return{data:null,error:n};throw n}})}inviteUserByEmail(e){return f(this,arguments,function*(e,t={}){try{return yield da(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:pa})}catch(n){if(ki(n))return{data:{user:null},error:n};throw n}})}generateLink(e){return f(this,null,function*(){try{const{options:t}=e,n=ln(e,["options"]),r=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(r.new_email=null==n?void 0:n.newEmail,delete r.newEmail),yield da(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:ga,redirectTo:null==t?void 0:t.redirectTo})}catch(t){if(ki(t))return{data:{properties:null,user:null},error:t};throw t}})}createUser(e){return f(this,null,function*(){try{return yield da(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:pa})}catch(t){if(ki(t))return{data:{user:null},error:t};throw t}})}listUsers(e){return f(this,null,function*(){var t,n,r,i,a,s,o;try{const l={nextPage:null,lastPage:0,total:0},u=yield da(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(n=null===(t=null==e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==n?n:"",per_page:null!==(i=null===(r=null==e?void 0:e.perPage)||void 0===r?void 0:r.toString())&&void 0!==i?i:""},xform:ya});if(u.error)throw u.error;const c=yield u.json(),d=null!==(a=u.headers.get("x-total-count"))&&void 0!==a?a:0,h=null!==(o=null===(s=u.headers.get("link"))||void 0===s?void 0:s.split(","))&&void 0!==o?o:[];return h.length>0&&(h.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),n=JSON.parse(e.split(";")[1].split("=")[1]);l[`${n}Page`]=t}),l.total=parseInt(d)),{data:Object.assign(Object.assign({},c),l),error:null}}catch(l){if(ki(l))return{data:{users:[]},error:l};throw l}})}getUserById(e){return f(this,null,function*(){aa(e);try{return yield da(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:pa})}catch(t){if(ki(t))return{data:{user:null},error:t};throw t}})}updateUserById(e,t){return f(this,null,function*(){aa(e);try{return yield da(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:pa})}catch(n){if(ki(n))return{data:{user:null},error:n};throw n}})}deleteUser(e,t=!1){return f(this,null,function*(){aa(e);try{return yield da(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:pa})}catch(n){if(ki(n))return{data:{user:null},error:n};throw n}})}_listFactors(e){return f(this,null,function*(){aa(e.userId);try{const{data:t,error:n}=yield da(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:n}}catch(t){if(ki(t))return{data:null,error:t};throw t}})}_deleteFactor(e){return f(this,null,function*(){aa(e.userId),aa(e.id);try{return{data:yield da(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(ki(t))return{data:null,error:t};throw t}})}_listOAuthClients(e){return f(this,null,function*(){var t,n,r,i,a,s,o;try{const l={nextPage:null,lastPage:0,total:0},u=yield da(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(n=null===(t=null==e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==n?n:"",per_page:null!==(i=null===(r=null==e?void 0:e.perPage)||void 0===r?void 0:r.toString())&&void 0!==i?i:""},xform:ya});if(u.error)throw u.error;const c=yield u.json(),d=null!==(a=u.headers.get("x-total-count"))&&void 0!==a?a:0,h=null!==(o=null===(s=u.headers.get("link"))||void 0===s?void 0:s.split(","))&&void 0!==o?o:[];return h.length>0&&(h.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),n=JSON.parse(e.split(";")[1].split("=")[1]);l[`${n}Page`]=t}),l.total=parseInt(d)),{data:Object.assign(Object.assign({},c),l),error:null}}catch(l){if(ki(l))return{data:{clients:[]},error:l};throw l}})}_createOAuthClient(e){return f(this,null,function*(){try{return yield da(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:e=>({data:e,error:null})})}catch(t){if(ki(t))return{data:null,error:t};throw t}})}_getOAuthClient(e){return f(this,null,function*(){try{return yield da(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(t){if(ki(t))return{data:null,error:t};throw t}})}_updateOAuthClient(e,t){return f(this,null,function*(){try{return yield da(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:t,headers:this.headers,xform:e=>({data:e,error:null})})}catch(n){if(ki(n))return{data:null,error:n};throw n}})}_deleteOAuthClient(e){return f(this,null,function*(){try{return yield da(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(t){if(ki(t))return{data:null,error:t};throw t}})}_regenerateOAuthClientSecret(e){return f(this,null,function*(){try{return yield da(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(t){if(ki(t))return{data:null,error:t};throw t}})}}function wa(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const ka=!!(globalThis&&Ki()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class _a extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Sa extends _a{}function Ea(e,t,n){return f(this,null,function*(){ka&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),ka&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},r=>f(null,null,function*(){if(!r){if(0===t)throw ka&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Sa(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ka)try{const e=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(e,null,"  "))}catch(Vs){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",Vs)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield n()}ka&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,r.name);try{return yield n()}finally{ka&&console.log("@supabase/gotrue-js: navigatorLock: released",e,r.name)}})))})}function xa(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Ta(e){const t=(new TextEncoder).encode(e);return"0x"+Array.from(t,e=>e.toString(16).padStart(2,"0")).join("")}class Ca extends Error{constructor({message:e,code:t,cause:n,name:r}){var i;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=null!==(i=null!=r?r:n instanceof Error?n.name:void 0)&&void 0!==i?i:"Unknown Error",this.code=t}}class Oa extends Ca{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function Na({error:e,options:t}){var n,r,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if("AbortError"===e.name){if(t.signal instanceof AbortSignal)return new Ca({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if("ConstraintError"===e.name){if(!0===(null===(n=a.authenticatorSelection)||void 0===n?void 0:n.requireResidentKey))return new Ca({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if("conditional"===t.mediation&&"required"===(null===(r=a.authenticatorSelection)||void 0===r?void 0:r.userVerification))return new Ca({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if("required"===(null===(i=a.authenticatorSelection)||void 0===i?void 0:i.userVerification))return new Ca({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if("InvalidStateError"===e.name)return new Ca({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if("NotAllowedError"===e.name)return new Ca({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if("NotSupportedError"===e.name){return 0===a.pubKeyCredParams.filter(e=>"public-key"===e.type).length?new Ca({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Ca({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e})}if("SecurityError"===e.name){const t=window.location.hostname;if(!La(t))return new Ca({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e});if(a.rp.id!==t)return new Ca({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else if("TypeError"===e.name){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Ca({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if("UnknownError"===e.name)return new Ca({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ca({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function Ra({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if("AbortError"===e.name){if(t.signal instanceof AbortSignal)return new Ca({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if("NotAllowedError"===e.name)return new Ca({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if("SecurityError"===e.name){const t=window.location.hostname;if(!La(t))return new Ca({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e});if(n.rpId!==t)return new Ca({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else if("UnknownError"===e.name)return new Ca({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ca({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}const Pa=new class{createNewAbortSignal(){if(this.controller){const e=new Error("Cancelling existing WebAuthn API call for new one");e.name="AbortError",this.controller.abort(e)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}};function ja(e){if(!e)throw new Error("Credential creation options are required");if("undefined"!=typeof PublicKeyCredential&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&"function"==typeof PublicKeyCredential.parseCreationOptionsFromJSON)return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=ln(e,["challenge","user","excludeCredentials"]),a=Bi(t).buffer,s=Object.assign(Object.assign({},n),{id:Bi(n.id).buffer}),o=Object.assign(Object.assign({},i),{challenge:a,user:s});if(r&&r.length>0){o.excludeCredentials=new Array(r.length);for(let e=0;e<r.length;e++){const t=r[e];o.excludeCredentials[e]=Object.assign(Object.assign({},t),{id:Bi(t.id).buffer,type:t.type||"public-key",transports:t.transports})}}return o}function Aa(e){if(!e)throw new Error("Credential request options are required");if("undefined"!=typeof PublicKeyCredential&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&"function"==typeof PublicKeyCredential.parseRequestOptionsFromJSON)return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=ln(e,["challenge","allowCredentials"]),i=Bi(t).buffer,a=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let e=0;e<n.length;e++){const t=n[e];a.allowCredentials[e]=Object.assign(Object.assign({},t),{id:Bi(t.id).buffer,type:t.type||"public-key",transports:t.transports})}}return a}function Ia(e){var t;if("toJSON"in e&&"function"==typeof e.toJSON)return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Wi(new Uint8Array(e.response.attestationObject)),clientDataJSON:Wi(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:null!==(t=n.authenticatorAttachment)&&void 0!==t?t:void 0}}function $a(e){var t;if("toJSON"in e&&"function"==typeof e.toJSON)return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Wi(new Uint8Array(i.authenticatorData)),clientDataJSON:Wi(new Uint8Array(i.clientDataJSON)),signature:Wi(new Uint8Array(i.signature)),userHandle:i.userHandle?Wi(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:null!==(t=n.authenticatorAttachment)&&void 0!==t?t:void 0}}function La(e){return"localhost"===e||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Da(){var e,t;return!!(Hi()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&"function"==typeof(null===(e=null===navigator||void 0===navigator?void 0:navigator.credentials)||void 0===e?void 0:e.create)&&"function"==typeof(null===(t=null===navigator||void 0===navigator?void 0:navigator.credentials)||void 0===t?void 0:t.get))}const za={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Ua={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ma(...e){const t=e=>null!==e&&"object"==typeof e&&!Array.isArray(e),n=e=>e instanceof ArrayBuffer||ArrayBuffer.isView(e),r={};for(const i of e)if(i)for(const e in i){const a=i[e];if(void 0!==a)if(Array.isArray(a))r[e]=a;else if(n(a))r[e]=a;else if(t(a)){const n=r[e];t(n)?r[e]=Ma(n,a):r[e]=Ma(a)}else r[e]=a}return r}class Fa{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}_enroll(e){return f(this,null,function*(){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))})}_challenge(e,t){return f(this,arguments,function*({factorId:e,webauthn:t,friendlyName:n,signal:r},i){try{const{data:a,error:s}=yield this.client.mfa.challenge({factorId:e,webauthn:t});if(!a)return{data:null,error:s};const o=null!=r?r:Pa.createNewAbortSignal();if("create"===a.webauthn.type){const{user:e}=a.webauthn.credential_options.publicKey;e.name||(e.name=`${e.id}:${n}`),e.displayName||(e.displayName=e.name)}switch(a.webauthn.type){case"create":{const t=function(e,t){return Ma(za,e,t||{})}(a.webauthn.credential_options.publicKey,null==i?void 0:i.create),{data:n,error:r}=yield function(e){return f(this,null,function*(){try{const t=yield navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Oa("Browser returned unexpected credential type",t)}:{data:null,error:new Oa("Empty credential response",t)}}catch(t){return{data:null,error:Na({error:t,options:e})}}})}({publicKey:t,signal:o});return n?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:n}},error:null}:{data:null,error:r}}case"request":{const t=function(e,t){return Ma(Ua,e,t||{})}(a.webauthn.credential_options.publicKey,null==i?void 0:i.request),{data:n,error:r}=yield function(e){return f(this,null,function*(){try{const t=yield navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Oa("Browser returned unexpected credential type",t)}:{data:null,error:new Oa("Empty credential response",t)}}catch(t){return{data:null,error:Ra({error:t,options:e})}}})}(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:t,signal:o}));return n?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:n}},error:null}:{data:null,error:r}}}}catch(a){return ki(a)?{data:null,error:a}:{data:null,error:new Si("Unexpected error in challenge",a)}}})}_verify(e){return f(this,arguments,function*({challengeId:e,factorId:t,webauthn:n}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:n})})}_authenticate(e,t){return f(this,arguments,function*({factorId:e,webauthn:{rpId:t=("undefined"!=typeof window?window.location.hostname:void 0),rpOrigins:n=("undefined"!=typeof window?[window.location.origin]:void 0),signal:r}={}},i){if(!t)return{data:null,error:new wi("rpId is required for WebAuthn authentication")};try{if(!Da())return{data:null,error:new Si("Browser does not support WebAuthn",null)};const{data:a,error:s}=yield this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:n},signal:r},{request:i});if(!a)return{data:null,error:s};const{webauthn:o}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:o.type,rpId:t,rpOrigins:n,credential_response:o.credential_response}})}catch(a){return ki(a)?{data:null,error:a}:{data:null,error:new Si("Unexpected error in authenticate",a)}}})}_register(e,t){return f(this,arguments,function*({friendlyName:e,webauthn:{rpId:t=("undefined"!=typeof window?window.location.hostname:void 0),rpOrigins:n=("undefined"!=typeof window?[window.location.origin]:void 0),signal:r}={}},i){if(!t)return{data:null,error:new wi("rpId is required for WebAuthn registration")};try{if(!Da())return{data:null,error:new Si("Browser does not support WebAuthn",null)};const{data:a,error:s}=yield this._enroll({friendlyName:e});if(!a)return yield this.client.mfa.listFactors().then(t=>{var n;return null===(n=t.data)||void 0===n?void 0:n.all.find(t=>"webauthn"===t.factor_type&&t.friendly_name===e&&"unverified"!==t.status)}).then(e=>e?this.client.mfa.unenroll({factorId:null==e?void 0:e.id}):void 0),{data:null,error:s};const{data:o,error:l}=yield this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:t,rpOrigins:n},signal:r},{create:i});return o?this._verify({factorId:a.id,challengeId:o.challengeId,webauthn:{rpId:t,rpOrigins:n,type:o.webauthn.type,credential_response:o.webauthn.credential_response}}):{data:null,error:l}}catch(a){return ki(a)?{data:null,error:a}:{data:null,error:new Si("Unexpected error in register",a)}}})}}!function(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(Vs){"undefined"!=typeof self&&(self.globalThis=self)}}();const Ba={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:gi,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};function qa(e,t,n){return f(this,null,function*(){return yield n()})}const Wa={};class Ha{get jwks(){var e,t;return null!==(t=null===(e=Wa[this.storageKey])||void 0===e?void 0:e.jwks)&&void 0!==t?t:{keys:[]}}set jwks(e){Wa[this.storageKey]=Object.assign(Object.assign({},Wa[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return null!==(t=null===(e=Wa[this.storageKey])||void 0===e?void 0:e.cachedAt)&&void 0!==t?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Wa[this.storageKey]=Object.assign(Object.assign({},Wa[this.storageKey]),{cachedAt:e})}constructor(e){var t,n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},Ba),e);if(this.storageKey=i.storageKey,this.instanceID=null!==(t=Ha.nextInstanceID[this.storageKey])&&void 0!==t?t:0,Ha.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,"function"==typeof i.debug&&(this.logger=i.debug),this.instanceID>0&&Hi()){const e=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(e),this.logDebugMessages&&console.trace(e)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new ba({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Gi(i.fetch),this.lock=i.lock||qa,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:this.persistSession&&Hi()&&(null===(n=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===n?void 0:n.locks)?this.lock=Ea:this.lock=qa,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Fa(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Ki()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=wa(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=wa(this.memoryStorage)),Hi()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(Vs){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",Vs)}null===(r=this.broadcastChannel)||void 0===r||r.addEventListener("message",e=>f(this,null,function*(){this._debug("received broadcast notification from other tab or client",e),yield this._notifyAllSubscribers(e.data.event,e.data.session,!1)}))}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${fi}) ${(new Date).toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}initialize(){return f(this,null,function*(){return this.initializePromise||(this.initializePromise=(()=>f(this,null,function*(){return yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._initialize()}))}))()),yield this.initializePromise})}_initialize(){return f(this,null,function*(){var e;try{let t={},n="none";if(Hi()&&(t=function(e){const t={},n=new URL(e);if(n.hash&&"#"===n.hash[0])try{new URLSearchParams(n.hash.substring(1)).forEach((e,n)=>{t[n]=e})}catch(Vs){}return n.searchParams.forEach((e,n)=>{t[n]=e}),t}(window.location.href),this._isImplicitGrantCallback(t)?n="implicit":(yield this._isPKCECallback(t))&&(n="pkce")),Hi()&&this.detectSessionInUrl&&"none"!==n){const{data:r,error:i}=yield this._getSessionFromURL(t,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),function(e){return ki(e)&&"AuthImplicitGrantRedirectError"===e.name}(i)){const t=null===(e=i.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:i}}return yield this._removeSession(),{error:i}}const{session:a,redirectType:s}=r;return this._debug("#_initialize()","detected session in URL",a,"redirect type",s),yield this._saveSession(a),setTimeout(()=>f(this,null,function*(){"recovery"===s?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",a):yield this._notifyAllSubscribers("SIGNED_IN",a)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(t){return ki(t)?this._returnResult({error:t}):this._returnResult({error:new Si("Unexpected error during initialization",t)})}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(e){return f(this,null,function*(){var t,n,r;try{const i=yield da(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:null!==(n=null===(t=null==e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==n?n:{},gotrue_meta_security:{captcha_token:null===(r=null==e?void 0:e.options)||void 0===r?void 0:r.captchaToken}},xform:ha}),{data:a,error:s}=i;if(s||!a)return this._returnResult({data:{user:null,session:null},error:s});const o=a.session,l=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",o)),this._returnResult({data:{user:l,session:o},error:null})}catch(i){if(ki(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}signUp(e){return f(this,null,function*(){var t,n,r;try{let i;if("email"in e){const{email:n,password:r,options:a}=e;let s=null,o=null;"pkce"===this.flowType&&([s,o]=yield na(this.storage,this.storageKey)),i=yield da(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:null==a?void 0:a.emailRedirectTo,body:{email:n,password:r,data:null!==(t=null==a?void 0:a.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null==a?void 0:a.captchaToken},code_challenge:s,code_challenge_method:o},xform:ha})}else{if(!("phone"in e))throw new Ci("You must provide either an email or phone number and a password");{const{phone:t,password:a,options:s}=e;i=yield da(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:t,password:a,data:null!==(n=null==s?void 0:s.data)&&void 0!==n?n:{},channel:null!==(r=null==s?void 0:s.channel)&&void 0!==r?r:"sms",gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken}},xform:ha})}}const{data:a,error:s}=i;if(s||!a)return yield Yi(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:s});const o=a.session,l=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",o)),this._returnResult({data:{user:l,session:o},error:null})}catch(i){if(yield Yi(this.storage,`${this.storageKey}-code-verifier`),ki(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}signInWithPassword(e){return f(this,null,function*(){try{let t;if("email"in e){const{email:n,password:r,options:i}=e;t=yield da(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:n,password:r,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}},xform:fa})}else{if(!("phone"in e))throw new Ci("You must provide either an email or phone number and a password");{const{phone:n,password:r,options:i}=e;t=yield da(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:n,password:r,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}},xform:fa})}}const{data:n,error:r}=t;if(r)return this._returnResult({data:{user:null,session:null},error:r});if(!n||!n.session||!n.user){const e=new Ti;return this._returnResult({data:{user:null,session:null},error:e})}return n.session&&(yield this._saveSession(n.session),yield this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r})}catch(t){if(ki(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}})}signInWithOAuth(e){return f(this,null,function*(){var t,n,r,i;return yield this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(n=e.options)||void 0===n?void 0:n.scopes,queryParams:null===(r=e.options)||void 0===r?void 0:r.queryParams,skipBrowserRedirect:null===(i=e.options)||void 0===i?void 0:i.skipBrowserRedirect})})}exchangeCodeForSession(e){return f(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>f(this,null,function*(){return this._exchangeCodeForSession(e)}))})}signInWithWeb3(e){return f(this,null,function*(){const{chain:t}=e;switch(t){case"ethereum":return yield this.signInWithEthereum(e);case"solana":return yield this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}})}signInWithEthereum(e){return f(this,null,function*(){var t,n,r,i,a,s,o,l,u,c,d;let h,f;if("message"in e)h=e.message,f=e.signature;else{const{chain:c,wallet:d,statement:p,options:m}=e;let g;if(Hi())if("object"==typeof d)g=d;else{const e=window;if(!("ethereum"in e)||"object"!=typeof e.ethereum||!("request"in e.ethereum)||"function"!=typeof e.ethereum.request)throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.");g=e.ethereum}else{if("object"!=typeof d||!(null==m?void 0:m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");g=d}const y=new URL(null!==(t=null==m?void 0:m.url)&&void 0!==t?t:window.location.href),v=yield g.request({method:"eth_requestAccounts"}).then(e=>e).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!v||0===v.length)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const b=xa(v[0]);let w=null===(n=null==m?void 0:m.signInWithEthereum)||void 0===n?void 0:n.chainId;if(!w){const e=yield g.request({method:"eth_chainId"});w=parseInt(e,16)}h=function(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:a=new Date,nonce:s,notBefore:o,requestId:l,resources:u,scheme:c,uri:d,version:h}=e;if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if("1"!==h)throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(null===(t=e.statement)||void 0===t?void 0:t.includes("\n"))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`);const f=`${c?`${c}://${r}`:r} wants you to sign in with your Ethereum account:\n${xa(e.address)}\n\n${e.statement?`${e.statement}\n`:""}`;let p=`URI: ${d}\nVersion: ${h}\nChain ID: ${n}${s?`\nNonce: ${s}`:""}\nIssued At: ${a.toISOString()}`;if(i&&(p+=`\nExpiration Time: ${i.toISOString()}`),o&&(p+=`\nNot Before: ${o.toISOString()}`),l&&(p+=`\nRequest ID: ${l}`),u){let e="\nResources:";for(const t of u){if(!t||"string"!=typeof t)throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${t}`);e+=`\n- ${t}`}p+=e}return`${f}\n${p}`}({domain:y.host,address:b,statement:p,uri:y.href,version:"1",chainId:w,nonce:null===(r=null==m?void 0:m.signInWithEthereum)||void 0===r?void 0:r.nonce,issuedAt:null!==(a=null===(i=null==m?void 0:m.signInWithEthereum)||void 0===i?void 0:i.issuedAt)&&void 0!==a?a:new Date,expirationTime:null===(s=null==m?void 0:m.signInWithEthereum)||void 0===s?void 0:s.expirationTime,notBefore:null===(o=null==m?void 0:m.signInWithEthereum)||void 0===o?void 0:o.notBefore,requestId:null===(l=null==m?void 0:m.signInWithEthereum)||void 0===l?void 0:l.requestId,resources:null===(u=null==m?void 0:m.signInWithEthereum)||void 0===u?void 0:u.resources}),f=yield g.request({method:"personal_sign",params:[Ta(h),b]})}try{const{data:t,error:n}=yield da(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:h,signature:f},(null===(c=e.options)||void 0===c?void 0:c.captchaToken)?{gotrue_meta_security:{captcha_token:null===(d=e.options)||void 0===d?void 0:d.captchaToken}}:null),xform:ha});if(n)throw n;if(!t||!t.session||!t.user){const e=new Ti;return this._returnResult({data:{user:null,session:null},error:e})}return t.session&&(yield this._saveSession(t.session),yield this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign({},t),error:n})}catch(p){if(ki(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}})}signInWithSolana(e){return f(this,null,function*(){var t,n,r,i,a,s,o,l,u,c,d,h;let f,p;if("message"in e)f=e.message,p=e.signature;else{const{chain:d,wallet:h,statement:m,options:g}=e;let y;if(Hi())if("object"==typeof h)y=h;else{const e=window;if(!("solana"in e)||"object"!=typeof e.solana||!("signIn"in e.solana&&"function"==typeof e.solana.signIn||"signMessage"in e.solana&&"function"==typeof e.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");y=e.solana}else{if("object"!=typeof h||!(null==g?void 0:g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=h}const v=new URL(null!==(t=null==g?void 0:g.url)&&void 0!==t?t:window.location.href);if("signIn"in y&&y.signIn){const e=yield y.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},null==g?void 0:g.signInWithSolana),{version:"1",domain:v.host,uri:v.href}),m?{statement:m}:null));let t;if(Array.isArray(e)&&e[0]&&"object"==typeof e[0])t=e[0];else{if(!(e&&"object"==typeof e&&"signedMessage"in e&&"signature"in e))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");t=e}if(!("signedMessage"in t&&"signature"in t&&("string"==typeof t.signedMessage||t.signedMessage instanceof Uint8Array)&&t.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");f="string"==typeof t.signedMessage?t.signedMessage:(new TextDecoder).decode(t.signedMessage),p=t.signature}else{if(!("signMessage"in y&&"function"==typeof y.signMessage&&"publicKey"in y&&"object"==typeof y&&y.publicKey&&"toBase58"in y.publicKey&&"function"==typeof y.publicKey.toBase58))throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");f=[`${v.host} wants you to sign in with your Solana account:`,y.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${v.href}`,`Issued At: ${null!==(r=null===(n=null==g?void 0:g.signInWithSolana)||void 0===n?void 0:n.issuedAt)&&void 0!==r?r:(new Date).toISOString()}`,...(null===(i=null==g?void 0:g.signInWithSolana)||void 0===i?void 0:i.notBefore)?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...(null===(a=null==g?void 0:g.signInWithSolana)||void 0===a?void 0:a.expirationTime)?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...(null===(s=null==g?void 0:g.signInWithSolana)||void 0===s?void 0:s.chainId)?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...(null===(o=null==g?void 0:g.signInWithSolana)||void 0===o?void 0:o.nonce)?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...(null===(l=null==g?void 0:g.signInWithSolana)||void 0===l?void 0:l.requestId)?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...(null===(c=null===(u=null==g?void 0:g.signInWithSolana)||void 0===u?void 0:u.resources)||void 0===c?void 0:c.length)?["Resources",...g.signInWithSolana.resources.map(e=>`- ${e}`)]:[]].join("\n");const e=yield y.signMessage((new TextEncoder).encode(f),"utf8");if(!(e&&e instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=e}}try{const{data:t,error:n}=yield da(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:f,signature:Wi(p)},(null===(d=e.options)||void 0===d?void 0:d.captchaToken)?{gotrue_meta_security:{captcha_token:null===(h=e.options)||void 0===h?void 0:h.captchaToken}}:null),xform:ha});if(n)throw n;if(!t||!t.session||!t.user){const e=new Ti;return this._returnResult({data:{user:null,session:null},error:e})}return t.session&&(yield this._saveSession(t.session),yield this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign({},t),error:n})}catch(m){if(ki(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}})}_exchangeCodeForSession(e){return f(this,null,function*(){const t=yield Qi(this.storage,`${this.storageKey}-code-verifier`),[n,r]=(null!=t?t:"").split("/");try{if(!n&&"pkce"===this.flowType)throw new Ri;const{data:t,error:i}=yield da(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:ha});if(yield Yi(this.storage,`${this.storageKey}-code-verifier`),i)throw i;if(!t||!t.session||!t.user){const e=new Ti;return this._returnResult({data:{user:null,session:null,redirectType:null},error:e})}return t.session&&(yield this._saveSession(t.session),yield this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign(Object.assign({},t),{redirectType:null!=r?r:null}),error:i})}catch(i){if(yield Yi(this.storage,`${this.storageKey}-code-verifier`),ki(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}})}signInWithIdToken(e){return f(this,null,function*(){try{const{options:t,provider:n,token:r,access_token:i,nonce:a}=e,s=yield da(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:r,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:null==t?void 0:t.captchaToken}},xform:ha}),{data:o,error:l}=s;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o||!o.session||!o.user){const e=new Ti;return this._returnResult({data:{user:null,session:null},error:e})}return o.session&&(yield this._saveSession(o.session),yield this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:o,error:l})}catch(t){if(ki(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}})}signInWithOtp(e){return f(this,null,function*(){var t,n,r,i,a;try{if("email"in e){const{email:r,options:i}=e;let a=null,s=null;"pkce"===this.flowType&&([a,s]=yield na(this.storage,this.storageKey));const{error:o}=yield da(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:r,data:null!==(t=null==i?void 0:i.data)&&void 0!==t?t:{},create_user:null===(n=null==i?void 0:i.shouldCreateUser)||void 0===n||n,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken},code_challenge:a,code_challenge_method:s},redirectTo:null==i?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}if("phone"in e){const{phone:t,options:n}=e,{data:s,error:o}=yield da(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:t,data:null!==(r=null==n?void 0:n.data)&&void 0!==r?r:{},create_user:null===(i=null==n?void 0:n.shouldCreateUser)||void 0===i||i,gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken},channel:null!==(a=null==n?void 0:n.channel)&&void 0!==a?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:null==s?void 0:s.message_id},error:o})}throw new Ci("You must provide either an email or phone number.")}catch(s){if(yield Yi(this.storage,`${this.storageKey}-code-verifier`),ki(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}verifyOtp(e){return f(this,null,function*(){var t,n;try{let r,i;"options"in e&&(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo,i=null===(n=e.options)||void 0===n?void 0:n.captchaToken);const{data:a,error:s}=yield da(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:r,xform:ha});if(s)throw s;if(!a){throw new Error("An error occurred on token verification.")}const o=a.session,l=a.user;return(null==o?void 0:o.access_token)&&(yield this._saveSession(o),yield this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",o)),this._returnResult({data:{user:l,session:o},error:null})}catch(r){if(ki(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}signInWithSSO(e){return f(this,null,function*(){var t,n,r,i,a;try{let s=null,o=null;"pkce"===this.flowType&&([s,o]=yield na(this.storage,this.storageKey));const l=yield da(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(n=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==n?n:void 0}),(null===(r=null==e?void 0:e.options)||void 0===r?void 0:r.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:ma});return(null===(i=l.data)||void 0===i?void 0:i.url)&&Hi()&&!(null===(a=e.options)||void 0===a?void 0:a.skipBrowserRedirect)&&window.location.assign(l.data.url),this._returnResult(l)}catch(s){if(yield Yi(this.storage,`${this.storageKey}-code-verifier`),ki(s))return this._returnResult({data:null,error:s});throw s}})}reauthenticate(){return f(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return f(this,null,function*(){try{return yield this._useSession(e=>f(this,null,function*(){const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new xi;const{error:r}=yield da(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return this._returnResult({data:{user:null,session:null},error:r})}))}catch(e){if(ki(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}})}resend(e){return f(this,null,function*(){try{const t=`${this.url}/resend`;if("email"in e){const{email:n,type:r,options:i}=e,{error:a}=yield da(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}},redirectTo:null==i?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}if("phone"in e){const{phone:n,type:r,options:i}=e,{data:a,error:s}=yield da(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:null==a?void 0:a.message_id},error:s})}throw new Ci("You must provide either an email or phone number and a type")}catch(t){if(ki(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}})}getSession(){return f(this,null,function*(){yield this.initializePromise;return yield this._acquireLock(-1,()=>f(this,null,function*(){return this._useSession(e=>f(this,null,function*(){return e}))}))})}_acquireLock(e,t){return f(this,null,function*(){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(()=>f(this,null,function*(){return yield e,yield t()}))();return this.pendingInLock.push((()=>f(this,null,function*(){try{yield n}catch(Vs){}}))()),n}return yield this.lock(`lock:${this.storageKey}`,e,()=>f(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((()=>f(this,null,function*(){try{yield e}catch(Vs){}}))()),yield e;this.pendingInLock.length;){const e=[...this.pendingInLock];yield Promise.all(e),this.pendingInLock.splice(0,e.length)}return yield e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(e){return f(this,null,function*(){this._debug("#_useSession","begin");try{const t=yield this.__loadSession();return yield e(t)}finally{this._debug("#_useSession","end")}})}__loadSession(){return f(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=yield Qi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!e)return{data:{session:null},error:null};const n=!!e.expires_at&&1e3*e.expires_at-Date.now()<mi;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const t=yield Qi(this.userStorage,this.storageKey+"-user");(null==t?void 0:t.user)?e.user=t.user:e.user=sa()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const t={value:this.suppressGetSessionWarning};e.user=function(e,t){return new Proxy(e,{get:(e,n,r)=>{if("__isInsecureUserWarningProxy"===n)return!0;if("symbol"==typeof n){const t=n.toString();if("Symbol(Symbol.toPrimitive)"===t||"Symbol(Symbol.toStringTag)"===t||"Symbol(util.inspect.custom)"===t||"Symbol(nodejs.util.inspect.custom)"===t)return Reflect.get(e,n,r)}return t.value||"string"!=typeof n||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(e,n,r)}})}(e.user,t),t.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:r,error:i}=yield this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:r},error:null})}finally{this._debug("#__loadSession()","end")}})}getUser(e){return f(this,null,function*(){if(e)return yield this._getUser(e);yield this.initializePromise;const t=yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._getUser()}));return t.data.user&&(this.suppressGetSessionWarning=!0),t})}_getUser(e){return f(this,null,function*(){try{return e?yield da(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:pa}):yield this._useSession(e=>f(this,null,function*(){var t,n,r;const{data:i,error:a}=e;if(a)throw a;return(null===(t=i.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?yield da(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:null!==(r=null===(n=i.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0,xform:pa}):{data:{user:null},error:new xi}}))}catch(t){if(ki(t))return function(e){return ki(e)&&"AuthSessionMissingError"===e.name}(t)&&(yield this._removeSession(),yield Yi(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:t});throw t}})}updateUser(e){return f(this,arguments,function*(e,t={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._updateUser(e,t)}))})}_updateUser(e){return f(this,arguments,function*(e,t={}){try{return yield this._useSession(n=>f(this,null,function*(){const{data:r,error:i}=n;if(i)throw i;if(!r.session)throw new xi;const a=r.session;let s=null,o=null;"pkce"===this.flowType&&null!=e.email&&([s,o]=yield na(this.storage,this.storageKey));const{data:l,error:u}=yield da(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:null==t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:s,code_challenge_method:o}),jwt:a.access_token,xform:pa});if(u)throw u;return a.user=l.user,yield this._saveSession(a),yield this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})}))}catch(n){if(yield Yi(this.storage,`${this.storageKey}-code-verifier`),ki(n))return this._returnResult({data:{user:null},error:n});throw n}})}setSession(e){return f(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._setSession(e)}))})}_setSession(e){return f(this,null,function*(){try{if(!e.access_token||!e.refresh_token)throw new xi;const t=Date.now()/1e3;let n=t,r=!0,i=null;const{payload:a}=Zi(e.access_token);if(a.exp&&(n=a.exp,r=n<=t),r){const{data:t,error:n}=yield this._callRefreshToken(e.refresh_token);if(n)return this._returnResult({data:{user:null,session:null},error:n});if(!t)return{data:{user:null,session:null},error:null};i=t}else{const{data:r,error:a}=yield this._getUser(e.access_token);if(a)throw a;i={access_token:e.access_token,refresh_token:e.refresh_token,user:r.user,token_type:"bearer",expires_in:n-t,expires_at:n},yield this._saveSession(i),yield this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(t){if(ki(t))return this._returnResult({data:{session:null,user:null},error:t});throw t}})}refreshSession(e){return f(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._refreshSession(e)}))})}_refreshSession(e){return f(this,null,function*(){try{return yield this._useSession(t=>f(this,null,function*(){var n;if(!e){const{data:r,error:i}=t;if(i)throw i;e=null!==(n=r.session)&&void 0!==n?n:void 0}if(!(null==e?void 0:e.refresh_token))throw new xi;const{data:r,error:i}=yield this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):r?this._returnResult({data:{user:r.user,session:r},error:null}):this._returnResult({data:{user:null,session:null},error:null})}))}catch(t){if(ki(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}})}_getSessionFromURL(e,t){return f(this,null,function*(){try{if(!Hi())throw new Oi("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Oi(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new Ni("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new Oi("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Ni("No code detected.");const{data:t,error:n}=yield this._exchangeCodeForSession(e.code);if(n)throw n;const r=new URL(window.location.href);return r.searchParams.delete("code"),window.history.replaceState(window.history.state,"",r.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:r,access_token:i,refresh_token:a,expires_in:s,expires_at:o,token_type:l}=e;if(!(i&&s&&a&&l))throw new Oi("No session defined in URL");const u=Math.round(Date.now()/1e3),c=parseInt(s);let d=u+c;o&&(d=parseInt(o));const h=d-u;1e3*h<=pi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${c}s`);const f=d-c;u-f>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",f,d,u):u-f<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",f,d,u);const{data:p,error:m}=yield this._getUser(i);if(m)throw m;const g={provider_token:n,provider_refresh_token:r,access_token:i,expires_in:c,expires_at:d,refresh_token:a,token_type:l,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:e.type},error:null})}catch(n){if(ki(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}})}_isImplicitGrantCallback(e){return"function"==typeof this.detectSessionInUrl?this.detectSessionInUrl(new URL(window.location.href),e):Boolean(e.access_token||e.error_description)}_isPKCECallback(e){return f(this,null,function*(){const t=yield Qi(this.storage,`${this.storageKey}-code-verifier`);return!(!e.code||!t)})}signOut(){return f(this,arguments,function*(e={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._signOut(e)}))})}_signOut(){return f(this,arguments,function*({scope:e}={scope:"global"}){return yield this._useSession(t=>f(this,null,function*(){var n;const{data:r,error:i}=t;if(i)return this._returnResult({error:i});const a=null===(n=r.session)||void 0===n?void 0:n.access_token;if(a){const{error:t}=yield this.admin.signOut(a,e);if(t&&(!function(e){return ki(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status&&403!==t.status))return this._returnResult({error:t})}return"others"!==e&&(yield this._removeSession(),yield Yi(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})}))})}onAuthStateChange(e){const t=Symbol("auth-callback"),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(()=>{f(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){this._emitInitialSession(t)}))})})(),{data:{subscription:n}}}_emitInitialSession(e){return f(this,null,function*(){return yield this._useSession(t=>f(this,null,function*(){var n,r;try{const{data:{session:r},error:i}=t;if(i)throw i;yield null===(n=this.stateChangeEmitters.get(e))||void 0===n?void 0:n.callback("INITIAL_SESSION",r),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(i){yield null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}}))})}resetPasswordForEmail(e){return f(this,arguments,function*(e,t={}){let n=null,r=null;"pkce"===this.flowType&&([n,r]=yield na(this.storage,this.storageKey,!0));try{return yield da(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(i){if(yield Yi(this.storage,`${this.storageKey}-code-verifier`),ki(i))return this._returnResult({data:null,error:i});throw i}})}getUserIdentities(){return f(this,null,function*(){var e;try{const{data:t,error:n}=yield this.getUser();if(n)throw n;return this._returnResult({data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null})}catch(t){if(ki(t))return this._returnResult({data:null,error:t});throw t}})}linkIdentity(e){return f(this,null,function*(){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)})}linkIdentityOAuth(e){return f(this,null,function*(){var t;try{const{data:n,error:r}=yield this._useSession(t=>f(this,null,function*(){var n,r,i,a,s;const{data:o,error:l}=t;if(l)throw l;const u=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:null===(n=e.options)||void 0===n?void 0:n.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(i=e.options)||void 0===i?void 0:i.queryParams,skipBrowserRedirect:!0});return yield da(this.fetch,"GET",u,{headers:this.headers,jwt:null!==(s=null===(a=o.session)||void 0===a?void 0:a.access_token)&&void 0!==s?s:void 0})}));if(r)throw r;return Hi()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null==n?void 0:n.url),this._returnResult({data:{provider:e.provider,url:null==n?void 0:n.url},error:null})}catch(n){if(ki(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}})}linkIdentityIdToken(e){return f(this,null,function*(){return yield this._useSession(t=>f(this,null,function*(){var n;try{const{error:r,data:{session:i}}=t;if(r)throw r;const{options:a,provider:s,token:o,access_token:l,nonce:u}=e,c=yield da(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:null!==(n=null==i?void 0:i.access_token)&&void 0!==n?n:void 0,body:{provider:s,id_token:o,access_token:l,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:null==a?void 0:a.captchaToken}},xform:ha}),{data:d,error:h}=c;return h?this._returnResult({data:{user:null,session:null},error:h}):d&&d.session&&d.user?(d.session&&(yield this._saveSession(d.session),yield this._notifyAllSubscribers("USER_UPDATED",d.session)),this._returnResult({data:d,error:h})):this._returnResult({data:{user:null,session:null},error:new Ti})}catch(r){if(yield Yi(this.storage,`${this.storageKey}-code-verifier`),ki(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}))})}unlinkIdentity(e){return f(this,null,function*(){try{return yield this._useSession(t=>f(this,null,function*(){var n,r;const{data:i,error:a}=t;if(a)throw a;return yield da(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:null!==(r=null===(n=i.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0})}))}catch(t){if(ki(t))return this._returnResult({data:null,error:t});throw t}})}_refreshAccessToken(e){return f(this,null,function*(){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const i=Date.now();return yield(n=n=>f(this,null,function*(){return n>0&&(yield function(e){return f(this,null,function*(){return yield new Promise(t=>{setTimeout(()=>t(null),e)})})}(200*Math.pow(2,n-1))),this._debug(t,"refreshing attempt",n),yield da(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ha})}),r=(e,t)=>{const n=200*Math.pow(2,e);return t&&ji(t)&&Date.now()+n-i<pi},new Promise((e,t)=>{f(null,null,function*(){for(let i=0;i<1/0;i++)try{const t=yield n(i);if(!r(i,null,t))return void e(t)}catch(Vs){if(!r(i,Vs))return void t(Vs)}})}))}catch(i){if(this._debug(t,"error",i),ki(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(t,"end")}var n,r})}_isValidSession(e){return"object"==typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}_handleProviderSignIn(e,t){return f(this,null,function*(){const n=yield this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),Hi()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}})}_recoverAndRefresh(){return f(this,null,function*(){var e,t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=yield Qi(this.storage,this.storageKey);if(i&&this.userStorage){let t=yield Qi(this.userStorage,this.storageKey+"-user");this.storage.isServer||!Object.is(this.storage,this.userStorage)||t||(t={user:i.user},yield Ji(this.userStorage,this.storageKey+"-user",t)),i.user=null!==(e=null==t?void 0:t.user)&&void 0!==e?e:sa()}else if(i&&!i.user&&!i.user){const e=yield Qi(this.storage,this.storageKey+"-user");e&&(null==e?void 0:e.user)?(i.user=e.user,yield Yi(this.storage,this.storageKey+"-user"),yield Ji(this.storage,this.storageKey,i)):i.user=sa()}if(this._debug(n,"session from storage",i),!this._isValidSession(i))return this._debug(n,"session is not valid"),void(null!==i&&(yield this._removeSession()));const a=1e3*(null!==(t=i.expires_at)&&void 0!==t?t:1/0)-Date.now()<mi;if(this._debug(n,`session has${a?"":" not"} expired with margin of 90000s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:e}=yield this._callRefreshToken(i.refresh_token);e&&(console.error(e),ji(e)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",e),yield this._removeSession()))}}else if(i.user&&!0===i.user.__isUserNotAvailableProxy)try{const{data:e,error:t}=yield this._getUser(i.access_token);!t&&(null==e?void 0:e.user)?(i.user=e.user,yield this._saveSession(i),yield this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(r){console.error("Error getting user data:",r),this._debug(n,"error getting user data, skipping SIGNED_IN notification",r)}else yield this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){return this._debug(n,"error",i),void console.error(i)}finally{this._debug(n,"end")}})}_callRefreshToken(e){return f(this,null,function*(){var t,n;if(!e)throw new xi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new Xi;const{data:t,error:n}=yield this._refreshAccessToken(e);if(n)throw n;if(!t.session)throw new xi;yield this._saveSession(t.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const r={data:t.session,error:null};return this.refreshingDeferred.resolve(r),r}catch(i){if(this._debug(r,"error",i),ki(i)){const e={data:null,error:i};return ji(i)||(yield this._removeSession()),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(n=this.refreshingDeferred)||void 0===n||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(r,"end")}})}_notifyAllSubscribers(e,t,n=!0){return f(this,null,function*(){const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",t,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const r=[],i=Array.from(this.stateChangeEmitters.values()).map(n=>f(this,null,function*(){try{yield n.callback(e,t)}catch(Vs){r.push(Vs)}}));if(yield Promise.all(i),r.length>0){for(let e=0;e<r.length;e+=1)console.error(r[e]);throw r[0]}}finally{this._debug(r,"end")}})}_saveSession(e){return f(this,null,function*(){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,yield Yi(this.storage,`${this.storageKey}-code-verifier`);const t=Object.assign({},e),n=t.user&&!0===t.user.__isUserNotAvailableProxy;if(this.userStorage){!n&&t.user&&(yield Ji(this.userStorage,this.storageKey+"-user",{user:t.user}));const e=Object.assign({},t);delete e.user;const r=oa(e);yield Ji(this.storage,this.storageKey,r)}else{const e=oa(t);yield Ji(this.storage,this.storageKey,e)}})}_removeSession(){return f(this,null,function*(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,yield Yi(this.storage,this.storageKey),yield Yi(this.storage,this.storageKey+"-code-verifier"),yield Yi(this.storage,this.storageKey+"-user"),this.userStorage&&(yield Yi(this.userStorage,this.storageKey+"-user")),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Hi()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(Vs){console.error("removing visibilitychange callback failed",Vs)}}_startAutoRefresh(){return f(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),pi);this.autoRefreshTicker=e,e&&"object"==typeof e&&"function"==typeof e.unref?e.unref():"undefined"!=typeof Deno&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout(()=>f(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return f(this,null,function*(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)})}startAutoRefresh(){return f(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return f(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return f(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>f(this,null,function*(){try{const e=Date.now();try{return yield this._useSession(t=>f(this,null,function*(){const{data:{session:n}}=t;if(!n||!n.refresh_token||!n.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const r=Math.floor((1e3*n.expires_at-e)/pi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),r<=3&&(yield this._callRefreshToken(n.refresh_token))}))}catch(Vs){console.error("Auto refresh tick failed with error. This is likely a transient error.",Vs)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(Vs){if(!(Vs.isAcquireTimeout||Vs instanceof _a))throw Vs;this._debug("auto refresh token tick lock not available")}})}_handleVisibilityChange(){return f(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!Hi()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>f(this,null,function*(){return yield this._onVisibilityChanged(!1)}),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}})}_onVisibilityChanged(e){return f(this,null,function*(){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){"visible"===document.visibilityState?yield this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")})))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(e,t,n){return f(this,null,function*(){const r=[`provider=${encodeURIComponent(t)}`];if((null==n?void 0:n.redirectTo)&&r.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),(null==n?void 0:n.scopes)&&r.push(`scopes=${encodeURIComponent(n.scopes)}`),"pkce"===this.flowType){const[e,t]=yield na(this.storage,this.storageKey),n=new URLSearchParams({code_challenge:`${encodeURIComponent(e)}`,code_challenge_method:`${encodeURIComponent(t)}`});r.push(n.toString())}if(null==n?void 0:n.queryParams){const e=new URLSearchParams(n.queryParams);r.push(e.toString())}return(null==n?void 0:n.skipBrowserRedirect)&&r.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${r.join("&")}`})}_unenroll(e){return f(this,null,function*(){try{return yield this._useSession(t=>f(this,null,function*(){var n;const{data:r,error:i}=t;return i?this._returnResult({data:null,error:i}):yield da(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:null===(n=null==r?void 0:r.session)||void 0===n?void 0:n.access_token})}))}catch(t){if(ki(t))return this._returnResult({data:null,error:t});throw t}})}_enroll(e){return f(this,null,function*(){try{return yield this._useSession(t=>f(this,null,function*(){var n,r;const{data:i,error:a}=t;if(a)return this._returnResult({data:null,error:a});const s=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:"totp"===e.factorType?{issuer:e.issuer}:{}),{data:o,error:l}=yield da(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:null===(n=null==i?void 0:i.session)||void 0===n?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):("totp"===e.factorType&&"totp"===o.type&&(null===(r=null==o?void 0:o.totp)||void 0===r?void 0:r.qr_code)&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),this._returnResult({data:o,error:null}))}))}catch(t){if(ki(t))return this._returnResult({data:null,error:t});throw t}})}_verify(e){return f(this,null,function*(){return this._acquireLock(-1,()=>f(this,null,function*(){try{return yield this._useSession(t=>f(this,null,function*(){var n;const{data:r,error:i}=t;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:"create"===e.webauthn.type?Ia(e.webauthn.credential_response):$a(e.webauthn.credential_response)})}:{code:e.code}),{data:s,error:o}=yield da(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:null===(n=null==r?void 0:r.session)||void 0===n?void 0:n.access_token});return o?this._returnResult({data:null,error:o}):(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),this._returnResult({data:s,error:o}))}))}catch(t){if(ki(t))return this._returnResult({data:null,error:t});throw t}}))})}_challenge(e){return f(this,null,function*(){return this._acquireLock(-1,()=>f(this,null,function*(){try{return yield this._useSession(t=>f(this,null,function*(){var n;const{data:r,error:i}=t;if(i)return this._returnResult({data:null,error:i});const a=yield da(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:null===(n=null==r?void 0:r.session)||void 0===n?void 0:n.access_token});if(a.error)return a;const{data:s}=a;if("webauthn"!==s.type)return{data:s,error:null};switch(s.webauthn.type){case"create":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:ja(s.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:Aa(s.webauthn.credential_options.publicKey)})})}),error:null}}}))}catch(t){if(ki(t))return this._returnResult({data:null,error:t});throw t}}))})}_challengeAndVerify(e){return f(this,null,function*(){const{data:t,error:n}=yield this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):yield this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})})}_listFactors(){return f(this,null,function*(){var e;const{data:{user:t},error:n}=yield this.getUser();if(n)return{data:null,error:n};const r={all:[],phone:[],totp:[],webauthn:[]};for(const i of null!==(e=null==t?void 0:t.factors)&&void 0!==e?e:[])r.all.push(i),"verified"===i.status&&r[i.factor_type].push(i);return{data:r,error:null}})}_getAuthenticatorAssuranceLevel(){return f(this,null,function*(){var e,t;const{data:{session:n},error:r}=yield this.getSession();if(r)return this._returnResult({data:null,error:r});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Zi(n.access_token);let a=null;i.aal&&(a=i.aal);let s=a;(null!==(t=null===(e=n.user.factors)||void 0===e?void 0:e.filter(e=>"verified"===e.status))&&void 0!==t?t:[]).length>0&&(s="aal2");return{data:{currentLevel:a,nextLevel:s,currentAuthenticationMethods:i.amr||[]},error:null}})}_getAuthorizationDetails(e){return f(this,null,function*(){try{return yield this._useSession(t=>f(this,null,function*(){const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?yield da(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:e=>({data:e,error:null})}):this._returnResult({data:null,error:new xi})}))}catch(t){if(ki(t))return this._returnResult({data:null,error:t});throw t}})}_approveAuthorization(e,t){return f(this,null,function*(){try{return yield this._useSession(n=>f(this,null,function*(){const{data:{session:r},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!r)return this._returnResult({data:null,error:new xi});const a=yield da(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:r.access_token,body:{action:"approve"},xform:e=>({data:e,error:null})});return a.data&&a.data.redirect_url&&Hi()&&!(null==t?void 0:t.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a}))}catch(n){if(ki(n))return this._returnResult({data:null,error:n});throw n}})}_denyAuthorization(e,t){return f(this,null,function*(){try{return yield this._useSession(n=>f(this,null,function*(){const{data:{session:r},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!r)return this._returnResult({data:null,error:new xi});const a=yield da(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:r.access_token,body:{action:"deny"},xform:e=>({data:e,error:null})});return a.data&&a.data.redirect_url&&Hi()&&!(null==t?void 0:t.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a}))}catch(n){if(ki(n))return this._returnResult({data:null,error:n});throw n}})}_listOAuthGrants(){return f(this,null,function*(){try{return yield this._useSession(e=>f(this,null,function*(){const{data:{session:t},error:n}=e;return n?this._returnResult({data:null,error:n}):t?yield da(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:t.access_token,xform:e=>({data:e,error:null})}):this._returnResult({data:null,error:new xi})}))}catch(e){if(ki(e))return this._returnResult({data:null,error:e});throw e}})}_revokeOAuthGrant(e){return f(this,null,function*(){try{return yield this._useSession(t=>f(this,null,function*(){const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?(yield da(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new xi})}))}catch(t){if(ki(t))return this._returnResult({data:null,error:t});throw t}})}fetchJwk(e){return f(this,arguments,function*(e,t={keys:[]}){let n=t.keys.find(t=>t.kid===e);if(n)return n;const r=Date.now();if(n=this.jwks.keys.find(t=>t.kid===e),n&&this.jwks_cached_at+6e5>r)return n;const{data:i,error:a}=yield da(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return i.keys&&0!==i.keys.length?(this.jwks=i,this.jwks_cached_at=r,n=i.keys.find(t=>t.kid===e),n||null):null})}getClaims(e){return f(this,arguments,function*(e,t={}){try{let n=e;if(!n){const{data:e,error:t}=yield this.getSession();if(t||!e.session)return this._returnResult({data:null,error:t});n=e.session.access_token}const{header:r,payload:i,signature:a,raw:{header:s,payload:o}}=Zi(n);(null==t?void 0:t.allowExpired)||function(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(i.exp);const l=r.alg&&!r.alg.startsWith("HS")&&r.kid&&"crypto"in globalThis&&"subtle"in globalThis.crypto?yield this.fetchJwk(r.kid,(null==t?void 0:t.keys)?{keys:t.keys}:null==t?void 0:t.jwks):null;if(!l){const{error:e}=yield this.getUser(n);if(e)throw e;return{data:{claims:i,header:r,signature:a},error:null}}const u=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(r.alg),c=yield crypto.subtle.importKey("jwk",l,u,!0,["verify"]);if(!(yield crypto.subtle.verify(u,c,a,qi(`${s}.${o}`))))throw new Ii("Invalid JWT signature");return{data:{claims:i,header:r,signature:a},error:null}}catch(n){if(ki(n))return this._returnResult({data:null,error:n});throw n}})}}Ha.nextInstanceID={};const Va=Ha;let Ka="";Ka="undefined"!=typeof Deno?"deno":"undefined"!=typeof document?"web":"undefined"!=typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const Ga={headers:{"X-Client-Info":`supabase-js-${Ka}/2.89.0`}},Ja={schema:"public"},Qa={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Ya={};function Xa(e){return(Xa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Za(e){var t=function(e,t){if("object"!=Xa(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=Xa(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Xa(t)?t:t+""}function es(e,t,n){return(t=Za(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ts(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ns(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ts(Object(n),!0).forEach(function(t){es(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ts(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const rs=(e,t,n)=>{const r=(e=>e?(...t)=>e(...t):(...e)=>fetch(...e))(n),i=Headers;return(n,a)=>f(null,null,function*(){var s;const o=null!==(s=yield t())&&void 0!==s?s:e;let l=new i(null==a?void 0:a.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${o}`),r(n,ns(ns({},a),{},{headers:l}))})};var is=class extends Va{constructor(e){super(e)}},as=class{constructor(e,t,n){var r,i;this.supabaseUrl=e,this.supabaseKey=t;const a=function(e){const t=null==e?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL((n=t).endsWith("/")?n:n+"/")}catch(r){throw Error("Invalid supabaseUrl: Provided URL is malformed.")}var n}(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const s=`sb-${a.hostname.split(".")[0]}-auth-token`,o=function(e,t){var n,r;const{db:i,auth:a,realtime:s,global:o}=e,{db:l,auth:u,realtime:c,global:d}=t,h={db:ns(ns({},l),i),auth:ns(ns({},u),a),realtime:ns(ns({},c),s),storage:{},global:ns(ns(ns({},d),o),{},{headers:ns(ns({},null!==(n=null==d?void 0:d.headers)&&void 0!==n?n:{}),null!==(r=null==o?void 0:o.headers)&&void 0!==r?r:{})}),accessToken:()=>f(null,null,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}(null!=n?n:{},{db:Ja,realtime:Ya,auth:ns(ns({},Qa),{},{storageKey:s}),global:Ga});var l;(this.storageKey=null!==(r=o.auth.storageKey)&&void 0!==r?r:"",this.headers=null!==(i=o.global.headers)&&void 0!==i?i:{},o.accessToken)?(this.accessToken=o.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(t)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!==(l=o.auth)&&void 0!==l?l:{},this.headers,o.global.fetch);this.fetch=rs(t,this._getAccessToken.bind(this),o.global.fetch),this.realtime=this._initRealtimeClient(ns({headers:this.headers,accessToken:this._getAccessToken.bind(this)},o.realtime)),this.accessToken&&this.accessToken().then(e=>this.realtime.setAuth(e)).catch(e=>console.warn("Failed to set initial Realtime auth token:",e)),this.rest=new Sn(new URL("rest/v1",a).href,{headers:this.headers,schema:o.db.schema,fetch:this.fetch}),this.storage=new hi(this.storageUrl.href,this.headers,this.fetch,null==n?void 0:n.storage),o.accessToken||this._listenForAuthEvents()}get functions(){return new gn(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return f(this,null,function*(){var e,t,n=this;if(n.accessToken)return yield n.accessToken();const{data:r}=yield n.auth.getSession();return null!==(e=null===(t=r.session)||void 0===t?void 0:t.access_token)&&void 0!==e?e:n.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:i,storageKey:a,flowType:s,lock:o,debug:l,throwOnError:u},c,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new is({url:this.authUrl.href,headers:ns(ns({},h),c),storageKey:a,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:i,flowType:s,lock:o,debug:l,throwOnError:u,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(e=>"authorization"===e.toLowerCase())})}_initRealtimeClient(e){return new fr(this.realtimeUrl.href,ns(ns({},e),{},{params:ns(ns({},{apikey:this.supabaseKey}),null==e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",null==t?void 0:t.access_token)})}_handleTokenChanged(e,t,n){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===n?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):(this.changedAccessToken=n,this.realtime.setAuth(n))}};(function(){if("undefined"!=typeof window)return!1;if("undefined"==typeof process)return!1;const e=process.version;if(null==e)return!1;const t=e.match(/^v(\d+)\./);return!!t&&parseInt(t[1],10)<=18})()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const ss=new as("https://pjaiqrlhfocholazjgdc.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBqYWlxcmxoZm9jaG9sYXpqZ2RjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjY3MDUxMjUsImV4cCI6MjA4MjI4MTEyNX0.BL-tXXIDjpixcPZzW26Lwp5xjc-Wx7FmkUjVjQf8q5A",os);var os;const ls={id:"1",company:{corporateName:"Minha Loja LTDA",fantasyName:"PDV MASTER Supermercados",cnpj:"00.000.000/0001-00",ie:"",taxRegime:"1",address:"Rua Exemplo, 1000 - Centro, SP",phone:"(11) 90000-0000"},fiscal:{environment:"2",nfeSeries:1,nfceSeries:1,cscId:"000001",cscToken:"TOKEN-DE-HOMOLOGACAO-SEFAZ"},payment:{pixKey:"00.000.000/0001-00",pixKeyType:"CNPJ"},appearance:{logoUrl:null,primaryColor:"#0ea5e9"}},us="pdv_master_session",cs={login:(e,t)=>f(null,null,function*(){try{const{data:n,error:r}=yield ss.auth.signInWithPassword({email:e,password:t});if(r)return console.error("Login error:",r),null;if(!n.user)return null;const{data:i,error:a}=yield ss.from("users").select("*").eq("email",e).eq("is_active",!0).single();if(a||!i)return console.error("User data error:",a),yield ss.auth.signOut(),null;const s={id:i.id,name:i.name,email:i.email,role:i.role};return localStorage.setItem(us,JSON.stringify(s)),on.log("LOGIN",`Acesso realizado: ${s.name}`,"INFO",s),s}catch(n){return console.error("Login exception:",n),null}}),logout:()=>f(null,null,function*(){const e=cs.getCurrentUser();e&&on.log("LOGOUT",`Sada do sistema: ${e.name}`,"INFO"),yield ss.auth.signOut(),localStorage.removeItem(us)}),getCurrentUser:()=>{const e=localStorage.getItem(us);return e?JSON.parse(e):null},getSettings:()=>f(null,null,function*(){const{data:e,error:t}=yield ss.from("settings").select("key, value");if(t||!e)return ls;const n=u({},ls);return e.forEach(e=>{"company"===e.key&&(n.company=e.value),"fiscal"===e.key&&(n.fiscal=e.value),"payment"===e.key&&(n.payment=e.value),"app_logo_path"===e.key&&(n.appearance.logoUrl=e.value)}),n}),saveSettings:e=>f(null,null,function*(){const t=[{key:"company",value:e.company},{key:"fiscal",value:e.fiscal},{key:"payment",value:e.payment}],{error:n}=yield ss.from("settings").upsert(t,{onConflict:"key"});if(n)throw n;on.log("SETTINGS_CHANGE","Configuraes do sistema alteradas no Supabase","WARNING")}),getProducts:()=>f(null,null,function*(){const{data:e,error:t}=yield ss.from("products").select("*").eq("is_active",!0).order("name");return t?[]:e.map(e=>({id:e.id,code:e.code,name:e.name,price:Number(e.price),cost:Number(e.cost),stock:Number(e.stock),minStock:Number(e.min_stock),ncm:e.ncm,cest:e.cest,origin:e.origin,taxGroup:e.tax_group,unit:e.unit,barcode:e.barcode,description:e.description,imageUrl:e.image_url}))}),saveProduct:e=>f(null,null,function*(){const{error:t}=yield ss.from("products").upsert({id:e.id||void 0,code:e.code,name:e.name,price:e.price,cost:e.cost,stock:e.stock,min_stock:e.minStock,ncm:e.ncm,cest:e.cest,origin:e.origin,tax_group:e.taxGroup,unit:e.unit,barcode:e.barcode,description:e.description,image_url:e.imageUrl,updated_at:(new Date).toISOString()});if(t)throw t;on.log("STOCK_UPDATE",`Produto salvo no Supabase: ${e.name}`,"INFO")}),createSale:e=>f(null,null,function*(){var t;const{data:n,error:r}=yield ss.from("sales").insert({id:e.id,total:e.total,subtotal:e.subtotal,discount:e.discount,payment_method:e.paymentMethod,customer_id:e.customerId,operator_id:e.operatorId,register_id:e.registerId,date:e.date}).select().single();if(r)throw r;const i=e.items.map(t=>({sale_id:e.id,product_id:t.id,quantity:t.qty,unit_price:t.price,total:t.total})),{error:a}=yield ss.from("sale_items").insert(i);if(a)throw a;for(const s of e.items){const{data:t}=yield ss.from("products").select("stock").eq("id",s.id).single(),n=((null==t?void 0:t.stock)||0)-s.qty;yield ss.from("kardex").insert({product_id:s.id,type:"SALE",quantity:s.qty,balance_after:n,sale_id:e.id,register_id:e.registerId,description:`Venda #${e.id.slice(0,8)}`})}return on.log("SALE_COMPLETE",`Venda #${(null==(t=e.id)?void 0:t.slice(0,8))||"UNKNOWN"} salva no Supabase`,"INFO"),e}),getCustomers:()=>f(null,null,function*(){const{data:e,error:t}=yield ss.from("customers").select("*").eq("is_active",!0).order("name");return t?[]:e.map(e=>({id:e.id,name:e.name,document:e.document,email:e.email,phone:e.phone,address:e.address,creditLimit:Number(e.credit_limit)}))}),saveCustomer:e=>f(null,null,function*(){const{error:t}=yield ss.from("customers").upsert({id:e.id||void 0,name:e.name,document:e.document,email:e.email,phone:e.phone,address:e.address,credit_limit:e.creditLimit,updated_at:(new Date).toISOString()});if(t)throw t;on.log("CUSTOMER_UPDATE",`Cliente salvo no Supabase: ${e.name}`,"INFO")}),getFinancialRecords:()=>f(null,null,function*(){const{data:e,error:t}=yield ss.from("financial_records").select("*").order("date",{ascending:!1});return t?[]:e.map(e=>({id:e.id,type:e.type,description:e.description,amount:Number(e.amount),category:e.category,date:e.date,status:e.status,referenceId:e.reference_id}))}),addFinancialRecord:e=>f(null,null,function*(){const{error:t}=yield ss.from("financial_records").insert({id:e.id||void 0,type:e.type,description:e.description,amount:e.amount,category:e.category,date:e.date,status:e.status,reference_id:e.referenceId});if(t)throw t;on.log("FINANCE_UPDATE",`Lanamento financeiro salvo: ${e.description}`,"INFO")}),getCurrentRegister:e=>f(null,null,function*(){const{data:t,error:n}=yield ss.from("cash_registers").select("*").eq("operator_id",e).eq("status","OPEN").maybeSingle();return n||!t?null:{id:t.id,status:t.status,openedAt:t.opened_at,openingBalance:Number(t.opening_balance),currentBalance:Number(t.current_balance),operatorId:t.operator_id}}),getLastClosedRegister:()=>f(null,null,function*(){const{data:e,error:t}=yield ss.from("cash_registers").select("*").eq("status","CLOSED").order("closed_at",{ascending:!1}).limit(1).maybeSingle();return t||!e?null:{id:e.id,status:e.status,openedAt:e.opened_at,closedAt:e.closed_at,openingBalance:Number(e.opening_balance),currentBalance:Number(e.current_balance),finalCount:Number(e.final_count),difference:Number(e.difference),operatorId:e.operator_id}}),openRegister:(e,t)=>f(null,null,function*(){const{data:n,error:r}=yield ss.from("cash_registers").insert({status:"OPEN",opened_at:(new Date).toISOString(),opening_balance:e,current_balance:e,operator_id:t}).select().single();if(r)throw r;return on.log("REGISTER_OPEN",`Caixa aberto no Supabase com R$ ${e.toFixed(2)}`,"INFO"),{id:n.id,status:n.status,openedAt:n.opened_at,openingBalance:Number(n.opening_balance),currentBalance:Number(n.current_balance),operatorId:n.operator_id}}),closeRegister:(e,t)=>f(null,null,function*(){console.log("Iniciando fechamento de caixa:",{registerId:e,userCountedAmount:t});const{data:n,error:r}=yield ss.rpc("get_register_summary",{p_register_id:e});if(r)throw console.error("Erro no RPC get_register_summary:",r),r;if(!n||0===n.length)throw console.error("Resumo do caixa no encontrado para o ID:",e),new Error("Register summary not found");const i=n[0],a=Number(i.calculated_balance),s=t-a;console.log("Resumo obtido:",{systemBalance:a,difference:s});const o=cs.getCurrentUser();if(!(null==o?void 0:o.id))throw console.error("Usurio no autenticado ao tentar fechar o caixa"),new Error("User not authenticated");const{error:l}=yield ss.from("cash_registers").update({status:"CLOSED",closed_at:(new Date).toISOString(),final_count:t,difference:s,current_balance:a}).eq("id",e).eq("operator_id",o.id);if(l)throw console.error("Erro ao atualizar cash_registers:",l),l;on.log("REGISTER_CLOSE",`Caixa fechado. Diferena: R$ ${s.toFixed(2)}`,0!==s?"WARNING":"INFO")}),getRegisterSummary:e=>f(null,null,function*(){const{data:t,error:n}=yield ss.rpc("get_register_summary",{p_register_id:e});if(n)throw n;return t&&t.length>0?t[0]:null}),addCashTransaction:e=>f(null,null,function*(){const{error:t}=yield ss.from("cash_transactions").insert({register_id:e.registerId,type:e.type,amount:e.amount,description:e.description,date:e.date||(new Date).toISOString()});if(t)throw t;const n="SUPPLY"===e.type||"SALE"===e.type?e.amount:-e.amount;yield ss.rpc("update_register_balance",{p_register_id:e.registerId,p_amount:n})}),getSales:()=>f(null,null,function*(){const{data:e,error:t}=yield ss.from("sales").select("*, items:sale_items(*, product:products(*))").order("date",{ascending:!1}).limit(100);return t?[]:e}),getSalesByPeriod:(e,t)=>f(null,null,function*(){const{data:n,error:r}=yield ss.from("sales").select("*, items:sale_items(*, product:products(*))").gte("date",e).lte("date",t).order("date",{ascending:!1});return r?[]:n}),getFinancialRecordsByPeriod:(e,t)=>f(null,null,function*(){const{data:n,error:r}=yield ss.from("financial_records").select("*").gte("date",e).lte("date",t).order("date",{ascending:!1});return r?[]:n}),getKardex:()=>f(null,null,function*(){const{data:e,error:t}=yield ss.from("kardex").select("*, product:products(name, code)").order("date",{ascending:!1});return t?(console.error("Erro ao buscar Kardex:",t),[]):e.map(e=>{var t;return{id:e.id,productId:e.product_id,productName:null==(t=e.product)?void 0:t.name,date:e.date,type:e.type,quantity:Number(e.quantity),balanceAfter:Number(e.balance_after),documentRef:e.document_ref,description:e.description}})}),updateStock:(e,t,n,r,i)=>f(null,null,function*(){console.log("Iniciando atualizao de estoque:",{productId:e,quantity:t,type:n,documentRef:r});const{data:a,error:s}=yield ss.from("products").select("stock").eq("id",e).single();if(s)throw s;const o=Number(a.stock||0);let l=o;n===nn.SALE?l=o-t:n===nn.ENTRY?l=o+t:n===nn.ADJUSTMENT&&(l=t);const{error:u}=yield ss.from("kardex").insert({product_id:e,type:n,quantity:n===nn.ADJUSTMENT?0:t,balance_after:l,document_ref:r,description:i||(n===nn.ENTRY?"Entrada de Estoque":"Ajuste de Estoque")});if(u)throw u;on.log("STOCK_UPDATE",`Estoque atualizado para o produto ${e}. Novo saldo: ${l}`,"INFO")}),saveProductsBatch:e=>f(null,null,function*(){for(const t of e)yield cs.saveProduct(t)}),getUsers:()=>f(null,null,function*(){const{data:e,error:t}=yield ss.from("users").select("*").eq("is_active",!0);return t?[]:e}),getClosedRegisters:()=>f(null,null,function*(){const{data:e,error:t}=yield ss.from("cash_registers").select("*").eq("status","CLOSED").order("closed_at",{ascending:!1});return t?[]:e}),getAllCashTransactions:()=>f(null,null,function*(){const{data:e,error:t}=yield ss.from("cash_transactions").select("*").order("date",{ascending:!1});return t?[]:e}),saveUser:e=>f(null,null,function*(){console.log("Salvando usurio no Supabase:",e);const{error:t}=yield ss.from("users").upsert({id:e.id,name:e.name,email:e.email,role:e.role,is_active:!0,updated_at:(new Date).toISOString()});if(t)throw console.error("Erro ao salvar usurio:",t),t;on.log("USER_SAVE",`Usurio ${e.name} (${e.role}) salvo/atualizado`,"INFO")}),deleteUser:e=>f(null,null,function*(){console.log("Desativando usurio:",e);const{error:t}=yield ss.from("users").update({is_active:!1,updated_at:(new Date).toISOString()}).eq("id",e);if(t)throw console.error("Erro ao desativar usurio:",t),t;on.log("USER_DELETE",`Usurio desativado: ${e}`,"WARNING")})},ds=class{static init(){this.loadSyncQueue(),window.addEventListener("online",()=>this.handleOnline()),window.addEventListener("offline",()=>this.handleOffline()),this.startBackgroundSync()}static onStatusChange(e){return this.listeners.push(e),()=>{this.listeners=this.listeners.filter(t=>t!==e)}}static notifyListeners(){const e=this.getSyncStatus();this.listeners.forEach(t=>t(e))}static loadSyncQueue(){try{const e=localStorage.getItem(this.QUEUE_KEY);e&&(this.syncQueue=JSON.parse(e))}catch(e){console.error("Failed to load sync queue:",e)}}static saveSyncQueue(){try{localStorage.setItem(this.QUEUE_KEY,JSON.stringify(this.syncQueue))}catch(e){console.error("Failed to save sync queue:",e)}}static handleOnline(){console.log("Connection restored, starting sync..."),this.isOnline=!0,this.performSync(),this.notifyListeners()}static handleOffline(){console.log("Connection lost"),this.isOnline=!1,this.notifyListeners()}static startBackgroundSync(){return f(this,null,function*(){setInterval(()=>{this.isOnline&&this.syncQueue.length>0&&!this.syncInProgress&&this.performSync()},3e4)})}static queueOperation(e,t,n){const r={id:crypto.randomUUID(),type:e,collection:t,data:n,timestamp:Date.now(),retryCount:0,status:"PENDING"};this.syncQueue.push(r),this.saveSyncQueue(),this.notifyListeners(),this.isOnline&&this.performSync(),console.log(`Queued ${e} operation for ${t}`)}static performSync(){return f(this,null,function*(){if(!this.syncInProgress&&0!==this.syncQueue.length&&this.isOnline){this.syncInProgress=!0,console.log("Starting data synchronization...");try{const e=this.syncQueue.filter(e=>e.retryCount<this.MAX_RETRY&&"SUCCESS"!==e.status).sort((e,t)=>e.timestamp-t.timestamp);(yield Promise.allSettled(e.map(e=>this.syncItem(e)))).forEach((t,n)=>{const r=e[n];"fulfilled"===t.status?(r.status="SUCCESS",console.log(` Synced ${r.type} ${r.collection}: ${r.id}`)):(r.retryCount++,r.lastError=t.reason.message,r.status=r.retryCount>=this.MAX_RETRY?"FAILED":"PENDING",console.error(` Sync failed ${r.type} ${r.collection}: ${t.reason.message}`))}),this.syncQueue=this.syncQueue.filter(e=>!("SUCCESS"===e.status||"FAILED"===e.status&&e.retryCount>=this.MAX_RETRY)),this.saveSyncQueue(),localStorage.setItem(this.SYNC_STATUS_KEY,JSON.stringify({lastSync:Date.now(),isOnline:this.isOnline}))}catch(e){console.error("Sync process failed:",e)}finally{this.syncInProgress=!1,this.notifyListeners()}}})}static syncItem(e){return f(this,null,function*(){if(yield new Promise(e=>setTimeout(e,500+1e3*Math.random())),Math.random()<.1)throw new Error("Simulated network error");switch(e.collection){case"PRODUCTS":if("CREATE"===e.type&&!e.data.code)throw new Error("Product code is required");break;case"CUSTOMERS":if("CREATE"===e.type&&!e.data.document)throw new Error("Customer document is required");break;case"SALES":if("CREATE"===e.type&&e.data.total<=0)throw new Error("Sale total must be positive")}on.log("DATA_SYNC",`Synced ${e.type} ${e.collection}: ${e.data.name||e.data.id}`,"INFO")})}static forceSync(){return f(this,null,function*(){if(!this.isOnline)throw new Error("Sync not available - device offline");return yield this.performSync(),this.getSyncStatus()})}static getSyncStatus(){const e=this.syncQueue.filter(e=>"PENDING"===e.status||"FAILED"===e.status).length,t=this.syncQueue.filter(e=>"FAILED"===e.status).length,n=this.syncQueue.filter(e=>e.lastError).map(e=>e.lastError).slice(0,5);let r;try{r=JSON.parse(localStorage.getItem(this.SYNC_STATUS_KEY)||"{}").lastSync}catch(Vs){}return{isOnline:this.isOnline,lastSync:r,pendingItems:e,conflicts:t,errors:n}}static clearOldSyncData(e=30){const t=Date.now()-24*e*60*60*1e3;this.syncQueue=this.syncQueue.filter(e=>e.timestamp>t),this.saveSyncQueue(),console.log(`Cleared sync data older than ${e} days`)}static clearSyncQueue(){this.syncQueue=[],this.saveSyncQueue(),this.notifyListeners(),console.log("Sync queue cleared")}static getSyncQueue(){return[...this.syncQueue]}static getPendingCount(){return this.syncQueue.filter(e=>"PENDING"===e.status).length}static isCurrentlySyncing(){return this.syncInProgress}};ds.syncQueue=[],ds.isOnline=navigator.onLine,ds.syncInProgress=!1,ds.QUEUE_KEY="pdv_master_sync_queue",ds.SYNC_STATUS_KEY="pdv_master_sync_status",ds.MAX_RETRY=3,ds.listeners=[];let hs=ds;const fs=cs.saveProduct;cs.saveProduct=e=>{fs.call(cs,e),setTimeout(()=>{hs.queueOperation("UPDATE","PRODUCTS",e)},100)};const ps=cs.saveCustomer;cs.saveCustomer=e=>{ps.call(cs,e),setTimeout(()=>{hs.queueOperation("UPDATE","CUSTOMERS",e)},100)};const ms=cs.createSale;cs.createSale=e=>f(null,null,function*(){const t=yield ms.call(cs,e);return setTimeout(()=>{hs.queueOperation("CREATE","SALES",e)},100),t});const gs=e=>{var t=e,{children:n,variant:r="primary",className:i=""}=t,a=d(t,["children","variant","className"]);return _.jsx("button",c(u({className:`px-6 py-3 rounded-2xl font-black uppercase tracking-widest text-xs transition-all duration-300 active:scale-95 disabled:opacity-20 disabled:cursor-not-allowed flex items-center justify-center gap-3 ${{primary:"bg-slate-900 text-white hover:bg-blue-600 shadow-xl hover:shadow-blue-200",secondary:"bg-slate-100 text-slate-600 hover:bg-slate-200",danger:"bg-red-500 text-white hover:bg-red-600 shadow-xl shadow-red-100",success:"bg-emerald-500 text-white hover:bg-emerald-600 shadow-xl shadow-emerald-100",ghost:"bg-transparent text-slate-400 hover:text-slate-900 hover:bg-slate-50"}[r]} ${i}`},a),{children:n}))},ys=O.forwardRef((e,t)=>{var n=e,{label:r,className:i=""}=n,a=d(n,["label","className"]);return _.jsxs("div",{className:"flex flex-col gap-2 w-full",children:[r&&_.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] ml-1",children:r}),_.jsx("input",u({ref:t,className:`bg-slate-50 border-2 border-slate-100 rounded-2xl px-5 py-4 focus:ring-8 focus:ring-blue-500/10 focus:border-blue-500 focus:bg-white outline-none transition-all font-bold text-slate-800 placeholder-slate-300 ${i}`},a))]})});ys.displayName="Input";const vs=({children:e,title:t,className:n=""})=>_.jsxs("div",{className:`bg-white p-8 rounded-[2rem] shadow-xl shadow-slate-200/50 border border-slate-100 ${n}`,children:[t&&_.jsx("h3",{className:"text-xl font-black text-slate-900 mb-6 tracking-tight uppercase",children:t}),e]}),bs=({children:e,color:t="bg-slate-100 text-slate-600"})=>_.jsx("span",{className:`px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-widest ${t}`,children:e}),ws=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e),ks=({children:e})=>_.jsx("div",{className:"fixed inset-0 bg-slate-950/80 z-[60] flex items-center justify-center p-6 backdrop-blur-xl animate-fadeIn",children:e}),_s=({isOpen:e,onClose:t,onConfirm:n,title:r,message:i,confirmText:a="Confirmar",cancelText:s="Cancelar",variant:o="primary"})=>e?_.jsx(ks,{children:_.jsxs("div",{className:"bg-white rounded-[2.5rem] w-full max-w-md p-10 shadow-[0_30px_100px_rgba(0,0,0,0.4)] animate-scaleIn border border-white/20",children:[_.jsx("h3",{className:"text-2xl font-black text-slate-900 mb-3 tracking-tight",children:r}),_.jsx("p",{className:"text-slate-500 mb-10 leading-relaxed font-medium",children:i}),_.jsxs("div",{className:"flex flex-col gap-3",children:[_.jsx(gs,{variant:"danger"===o?"danger":"primary",onClick:()=>{n(),t()},className:"w-full py-5 text-lg",children:a}),_.jsx(gs,{variant:"ghost",onClick:t,className:"w-full py-4",children:s})]})]})}):null,Ss=({isOpen:e,onClose:t,title:n,message:r,type:i="info"})=>{if(!e)return null;const a="error"===i?"Ops! Algo deu errado":"success"===i?"Sucesso!":"Ateno";return _.jsx(ks,{children:_.jsxs("div",{className:"bg-white rounded-[2.5rem] w-full max-w-md p-10 shadow-[0_30px_100px_rgba(0,0,0,0.4)] animate-scaleIn border border-white/20 text-center",children:[_.jsx("div",{className:"w-20 h-20 rounded-[2rem] flex items-center justify-center mx-auto mb-6 "+("error"===i?"bg-red-50 text-red-500":"success"===i?"bg-emerald-50 text-emerald-500":"bg-blue-50 text-blue-500"),children:"error"===i?_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:[_.jsx("circle",{cx:"12",cy:"12",r:"10"}),_.jsx("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),_.jsx("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]}):"success"===i?_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:_.jsx("polyline",{points:"20 6 9 17 4 12"})}):_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:[_.jsx("circle",{cx:"12",cy:"12",r:"10"}),_.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),_.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]})}),_.jsx("h3",{className:"text-2xl font-black mb-3 tracking-tight "+("error"===i?"text-red-600":"text-slate-900"),children:n||a}),_.jsx("p",{className:"text-slate-500 mb-10 leading-relaxed font-medium",children:r}),_.jsx(gs,{onClick:t,variant:"error"===i?"danger":"primary",className:"w-full py-5 text-lg",children:"OK, Entendi"})]})})},Es=({compact:e=!1})=>{const[t,n]=C.useState(hs.getSyncStatus()),[r,i]=C.useState(!1);C.useEffect(()=>{const e=hs.onStatusChange(e=>{n(e)}),t=setInterval(()=>{n(hs.getSyncStatus())},5e3);return()=>{e(),clearInterval(t)}},[]);return e?_.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 rounded-md bg-white border shadow-sm",children:[t.isOnline?_.jsx(Zt,{className:"w-4 h-4 text-green-600"}):_.jsx(Xt,{className:"w-4 h-4 text-red-600"}),hs.isCurrentlySyncing()?_.jsx(Kt,{className:"w-4 h-4 text-blue-600 animate-spin"}):_.jsx(zt,{className:"w-4 h-4 text-green-600"}),t.pendingItems>0&&_.jsx("span",{className:"text-xs font-medium text-amber-600 bg-amber-100 px-1.5 py-0.5 rounded",children:t.pendingItems}),_.jsx("span",{className:"text-xs text-slate-500",children:hs.isCurrentlySyncing()?"Syncing...":"Sync OK"})]}):_.jsxs("div",{className:"bg-white rounded-lg border shadow-sm p-4 space-y-4",children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(tn,{className:"w-5 h-5 text-brand-600"}),_.jsx("h3",{className:"font-semibold text-slate-800",children:"Sincronizao"})]}),_.jsxs(gs,{variant:"secondary",size:"sm",onClick:()=>f(null,null,function*(){i(!0);try{yield hs.forceSync()}catch(e){console.error("Manual sync failed:",e)}finally{i(!1)}}),disabled:!t.isOnline||r,className:"gap-2",children:[_.jsx(Kt,{className:"w-4 h-4 "+(r?"animate-spin":"")}),"Sincronizar"]})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border",children:[_.jsx("div",{className:"p-2 rounded-full "+(t.isOnline?"bg-green-100 text-green-600":"bg-red-100 text-red-600"),children:t.isOnline?_.jsx(Zt,{className:"w-5 h-5"}):_.jsx(Xt,{className:"w-5 h-5"})}),_.jsxs("div",{children:[_.jsx("p",{className:"font-medium text-sm",children:t.isOnline?"Online":"Offline"}),_.jsx("p",{className:"text-xs text-slate-500",children:"Conexo"})]})]}),_.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border",children:[_.jsx("div",{className:"p-2 rounded-full "+(t.lastSync?"bg-blue-100 text-blue-600":"bg-slate-100 text-slate-600"),children:_.jsx(Mt,{className:"w-5 h-5"})}),_.jsxs("div",{children:[_.jsx("p",{className:"font-medium text-sm",children:(e=>{if(!e)return"Nunca";const t=Date.now(),n=Math.floor((t-e)/1e3);return n<60?`${n}s atrs`:n<3600?`${Math.floor(n/60)}min atrs`:n<86400?`${Math.floor(n/3600)}h atrs`:`${Math.floor(n/86400)}d atrs`})(t.lastSync)}),_.jsx("p",{className:"text-xs text-slate-500",children:"ltima sync"})]})]})]}),_.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[_.jsxs("div",{className:"text-center p-3 rounded-lg bg-slate-50",children:[_.jsx("p",{className:"text-2xl font-bold text-blue-600",children:t.pendingItems}),_.jsx("p",{className:"text-xs text-slate-600",children:"Pendentes"})]}),_.jsxs("div",{className:"text-center p-3 rounded-lg bg-amber-50",children:[_.jsx("p",{className:"text-2xl font-bold text-amber-600",children:t.conflicts}),_.jsx("p",{className:"text-xs text-slate-600",children:"Conflitos"})]}),_.jsx("div",{className:"text-center p-3 rounded-lg bg-green-50",children:_.jsx("p",{className:"text-green-600 flex items-center justify-center gap-1",children:hs.isCurrentlySyncing()?_.jsxs(_.Fragment,{children:[_.jsx(Kt,{className:"w-4 h-4 animate-spin"}),_.jsx("span",{className:"text-xs font-medium",children:"Sincronizando"})]}):_.jsxs(_.Fragment,{children:[_.jsx(zt,{className:"w-4 h-4"}),_.jsx("span",{className:"text-xs font-medium",children:"OK"})]})})})]}),t.errors.length>0&&_.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:_.jsxs("div",{className:"flex items-start gap-2",children:[_.jsx(Qt,{className:"w-4 h-4 text-red-600 flex-shrink-0 mt-0.5"}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm font-medium text-red-800",children:"Erros de Sincronizao"}),_.jsx("ul",{className:"text-xs text-red-700 space-y-1 mt-1",children:t.errors.map((e,t)=>_.jsxs("li",{className:"truncate",children:[" ",e]},t))})]})]})}),!t.isOnline&&_.jsx("div",{className:"p-3 bg-amber-50 border border-amber-200 rounded-lg",children:_.jsxs("div",{className:"flex items-center gap-2 text-amber-800",children:[_.jsx(Xt,{className:"w-4 h-4"}),_.jsx("span",{className:"text-sm font-medium",children:"Modo Offline - Dados sero sincronizados quando houver conexo"})]})})]})},xs=({to:e,icon:t,label:n,active:r,onClick:i})=>_.jsxs(Ot,{to:e,onClick:i,className:"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors "+(r?"bg-brand-50 text-brand-700 font-semibold":"text-slate-500 hover:bg-slate-50 hover:text-slate-800"),children:[t,_.jsx("span",{children:n})]}),Ts=({to:e,icon:t,label:n,active:r,onClick:i})=>_.jsxs(Ot,{to:e,onClick:i,className:"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors "+(r?"bg-brand-50 text-brand-700 font-semibold border-r-2 border-brand-600":"text-slate-600 hover:bg-slate-50"),children:[t,_.jsx("span",{children:n})]}),Cs=()=>{var e,t,n;const r=Ue(),i=Be(),a=cs.getCurrentUser(),[s,o]=C.useState({appearance:{logoUrl:null,primaryColor:"#0ea5e9"}}),[l,u]=C.useState(!1);C.useEffect(()=>{f(null,null,function*(){try{const e=yield cs.getSettings();o(e)}catch(e){console.error("Error loading settings:",e)}})},[]);const c=()=>{cs.logout(),i("/login")},d=()=>{u(!1)};C.useEffect(()=>{u(!1)},[r.pathname]);const h=["ADMIN"===(null==a?void 0:a.role)&&{to:"/",icon:_.jsx(qt,{size:20}),label:"Dashboard",active:"/"===r.pathname},{to:"/pos",icon:_.jsx(Jt,{size:20}),label:"PDV (Caixa)",active:"/pos"===r.pathname},..."ADMIN"===(null==a?void 0:a.role)?[{to:"/inventory",icon:_.jsx(Vt,{size:20}),label:"Estoque",active:"/inventory"===r.pathname},{to:"/finance",icon:_.jsx(Ft,{size:20}),label:"Financeiro",active:"/finance"===r.pathname},{to:"/reports",icon:_.jsx(Ut,{size:20}),label:"Relatrios",active:"/reports"===r.pathname},{to:"/crm",icon:_.jsx(Yt,{size:20}),label:"Clientes",active:"/crm"===r.pathname}]:[]].filter(Boolean);return _.jsxs("div",{className:"flex h-screen bg-slate-50 relative",children:[l&&_.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden",onClick:()=>u(!1)}),_.jsxs("aside",{className:"hidden md:flex w-64 bg-white border-r border-slate-200 flex-col",children:[_.jsx("div",{className:"p-6 border-b border-slate-100 flex justify-center",children:(null==(e=null==s?void 0:s.appearance)?void 0:e.logoUrl)?_.jsx("img",{src:s.appearance.logoUrl,alt:"Logo",className:"max-h-12 max-w-full object-contain"}):_.jsxs("div",{className:"flex items-center gap-2 text-brand-600",children:[_.jsx(Jt,{size:32}),_.jsx("span",{className:"text-xl font-bold tracking-tight",children:"PDV MASTER"})]})}),_.jsx("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto",children:h.map((e,t)=>e&&_.jsx(xs,{to:e.to,icon:e.icon,label:e.label,active:e.active},t))}),_.jsxs("div",{className:"p-4 border-t border-slate-100 space-y-1",children:["ADMIN"===(null==a?void 0:a.role)&&_.jsx("div",{className:"mb-3",children:_.jsx(Es,{compact:!0})}),"ADMIN"===(null==a?void 0:a.role)&&_.jsx(xs,{to:"/settings",active:"/settings"===r.pathname,icon:_.jsx(Gt,{size:20}),label:"Configuraes"}),_.jsxs("button",{onClick:c,className:"flex items-center gap-3 px-4 py-3 text-red-500 hover:bg-red-50 w-full rounded-lg mt-2 transition-colors",children:[_.jsx(Wt,{size:20}),_.jsx("span",{children:"Sair"})]})]})]}),_.jsxs("aside",{className:"fixed inset-y-0 left-0 z-50 w-64 bg-white border-r border-slate-200 transform transition-transform duration-300 ease-in-out md:hidden "+(l?"translate-x-0":"-translate-x-full"),children:[_.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-100",children:[_.jsxs("div",{className:"flex items-center gap-2 text-brand-600",children:[_.jsx(Jt,{size:24}),_.jsx("span",{className:"text-lg font-bold",children:"PDV MASTER"})]}),_.jsx("button",{onClick:()=>u(!1),className:"p-2 text-slate-500 hover:bg-slate-100 rounded-lg transition-colors",children:_.jsx(en,{size:20})})]}),_.jsx("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto",children:h.map((e,t)=>e&&_.jsx(Ts,{to:e.to,icon:e.icon,label:e.label,active:e.active,onClick:d},t))}),_.jsxs("div",{className:"p-4 border-t border-slate-100",children:["ADMIN"===(null==a?void 0:a.role)&&_.jsx("div",{className:"mb-3",children:_.jsx(Es,{compact:!0})}),"ADMIN"===(null==a?void 0:a.role)&&_.jsx(Ts,{to:"/settings",icon:_.jsx(Gt,{size:20}),label:"Configuraes",active:"/settings"===r.pathname,onClick:d}),_.jsxs("button",{onClick:c,className:"flex items-center gap-3 px-4 py-3 text-red-500 hover:bg-red-50 w-full rounded-lg mt-2 transition-colors",children:[_.jsx(Wt,{size:20}),_.jsx("span",{children:"Sair"})]})]})]}),_.jsxs("main",{className:"flex-1 flex flex-col overflow-hidden min-w-0",children:[_.jsxs("header",{className:"flex-shrink-0 h-16 bg-white border-b border-slate-200 flex items-center justify-between px-4 md:px-6",children:[_.jsx("button",{onClick:()=>u(!0),className:"p-2 text-slate-500 hover:bg-slate-100 rounded-lg transition-colors md:hidden",children:_.jsx(Ht,{size:20})}),_.jsx("h1",{className:"md:hidden text-lg font-semibold text-slate-800 truncate",children:(null==(t=h.find(e=>null==e?void 0:e.active))?void 0:t.label)||"PDV Master"}),_.jsxs("div",{className:"flex items-center gap-3",children:["ADMIN"===(null==a?void 0:a.role)&&window.innerWidth>=768&&_.jsx(Es,{compact:!0}),_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsxs("div",{className:"hidden sm:flex flex-col items-end",children:[_.jsx("span",{className:"text-sm font-medium text-slate-700",children:(null==a?void 0:a.name)||"Visitante"}),_.jsx("span",{className:"text-xs text-slate-400",children:"ADMIN"===(null==a?void 0:a.role)?"Gerente Geral":"Operador de Caixa"})]}),_.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-slate-200 rounded-full flex items-center justify-center text-slate-500 font-bold text-sm",children:(null==(n=null==a?void 0:a.name)?void 0:n.charAt(0))||"V"})]})]})]}),_.jsx("div",{className:"flex-1 overflow-auto p-4 md:p-6 min-h-0",children:_.jsx("div",{className:"max-w-7xl mx-auto h-full",children:_.jsx(tt,{})})})]})]})},Os=C.createContext(null),Ns={didCatch:!1,error:null};let Rs=class extends C.Component{constructor(e){super(e),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=Ns}static getDerivedStateFromError(e){return{didCatch:!0,error:e}}resetErrorBoundary(){const{error:e}=this.state;if(null!==e){for(var t,n,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];null===(t=(n=this.props).onReset)||void 0===t||t.call(n,{args:i,reason:"imperative-api"}),this.setState(Ns)}}componentDidCatch(e,t){var n,r;null===(n=(r=this.props).onError)||void 0===n||n.call(r,e,t)}componentDidUpdate(e,t){const{didCatch:n}=this.state,{resetKeys:r}=this.props;var i,a;n&&null!==t.error&&function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.length!==t.length||e.some((e,n)=>!Object.is(e,t[n]))}(e.resetKeys,r)&&(null===(i=(a=this.props).onReset)||void 0===i||i.call(a,{next:r,prev:e.resetKeys,reason:"keys"}),this.setState(Ns))}render(){const{children:e,fallbackRender:t,FallbackComponent:n,fallback:r}=this.props,{didCatch:i,error:a}=this.state;let s=e;if(i){const e={error:a,resetErrorBoundary:this.resetErrorBoundary};if("function"==typeof t)s=t(e);else if(n)s=C.createElement(n,e);else{if(void 0===r)throw a;s=r}}return C.createElement(Os.Provider,{value:{didCatch:i,error:a,resetErrorBoundary:this.resetErrorBoundary}},s)}};const Ps=({error:e,resetErrorBoundary:t})=>_.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4",children:_.jsxs("div",{className:"max-w-lg w-full bg-white rounded-xl shadow-xl p-8 text-center",children:[_.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:_.jsx(Qt,{className:"w-8 h-8 text-red-600"})}),_.jsx("h1",{className:"text-2xl font-bold text-slate-800 mb-4",children:"Ops! Algo deu errado"}),_.jsx("p",{className:"text-slate-600 mb-6",children:"Ocorreu um erro inesperado na aplicao. Nossa equipe tcnica foi notificada."}),_.jsxs("div",{className:"space-y-3",children:[_.jsxs("button",{onClick:t,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-brand-600 text-white rounded-lg hover:bg-brand-700 transition font-medium",children:[_.jsx(Kt,{size:18}),"Tentar Novamente"]}),_.jsxs("button",{onClick:()=>window.location.href="/",className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-slate-200 text-slate-700 rounded-lg hover:bg-slate-300 transition font-medium",children:[_.jsx(Bt,{size:18}),"Voltar ao Incio"]})]}),!1]})}),js=({children:e,fallback:t})=>_.jsx(Rs,{FallbackComponent:t?()=>_.jsx(_.Fragment,{children:t}):Ps,onError:(e,t)=>{((e,t)=>{console.error("Error Boundary caught an error:",e,t)})(e,t)},onReset:()=>{console.log("Error boundary reset triggered")},children:e}),As=C.lazy(()=>G(()=>import("./Dashboard-tIixPs7t.js"),__vite__mapDeps([0,1,2,3,4])).then(e=>({default:e.Dashboard}))),Is=C.lazy(()=>G(()=>import("./POS-gbPPqNhN.js"),__vite__mapDeps([5,6,7,8,9,10,2,3,11])).then(e=>({default:e.POS}))),$s=C.lazy(()=>G(()=>import("./Inventory-CImh07qF.js"),__vite__mapDeps([12,13,4,1,11,14,8,15])).then(e=>({default:e.Inventory}))),Ls=C.lazy(()=>G(()=>import("./Login-DfxDZiJD.js"),__vite__mapDeps([16,7,9])).then(e=>({default:e.Login}))),Ds=C.lazy(()=>G(()=>import("./Finance-CvPIZ0B3.js"),__vite__mapDeps([17,14])).then(e=>({default:e.Finance}))),zs=C.lazy(()=>G(()=>import("./CRM-Gb6Z0Kq1.js"),__vite__mapDeps([18,14,7])).then(e=>({default:e.CRM}))),Us=C.lazy(()=>G(()=>import("./Settings-Dp3bhZdN.js"),__vite__mapDeps([19,15,6,8])).then(e=>({default:e.Settings}))),Ms=C.lazy(()=>G(()=>import("./Reports-inYW9xvj.js"),__vite__mapDeps([20,13,10,11,2])).then(e=>({default:e.Reports}))),Fs=()=>_.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:_.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-600"})}),Bs=({children:e,allowedRoles:t})=>{const n=cs.getCurrentUser();return n?t&&!t.includes(n.role)?"CASHIER"===n.role?_.jsx(et,{to:"/pos",replace:!0}):_.jsx(et,{to:"/",replace:!0}):_.jsx(_.Fragment,{children:e}):_.jsx(et,{to:"/login",replace:!0})},qs=()=>_.jsx(Cs,{}),Ws=()=>_.jsx(js,{children:_.jsx(Tt,{children:_.jsx(C.Suspense,{fallback:_.jsx(Fs,{}),children:_.jsxs(it,{children:[_.jsx(nt,{path:"/login",element:_.jsx(Ls,{})}),_.jsx(nt,{path:"/pos",element:_.jsx(Bs,{allowedRoles:["ADMIN","CASHIER"],children:_.jsx(Is,{})})}),_.jsxs(nt,{element:_.jsx(Bs,{allowedRoles:["ADMIN"],children:_.jsx(qs,{})}),children:[_.jsx(nt,{path:"/",element:_.jsx(As,{})}),_.jsx(nt,{path:"/inventory",element:_.jsx($s,{})}),_.jsx(nt,{path:"/finance",element:_.jsx(Ds,{})}),_.jsx(nt,{path:"/crm",element:_.jsx(zs,{})}),_.jsx(nt,{path:"/settings",element:_.jsx(Us,{})}),_.jsx(nt,{path:"/reports",element:_.jsx(Ms,{})})]}),_.jsx(nt,{path:"*",element:_.jsx(et,{to:"/",replace:!0})})]})})})});hs.init();const Hs=document.getElementById("root");if(!Hs)throw new Error("Could not find root element to mount to");V.createRoot(Hs).render(_.jsx(O.StrictMode,{children:_.jsx(Ws,{})}));export{on as A,gs as B,vs as C,Ft as F,Bt as H,ys as I,Ot as L,Ht as M,Vt as P,N as R,cs as S,Qt as T,Yt as U,en as X,tn as Z,G as _,T as a,_s as b,Dt as c,Ss as d,Mt as e,ws as f,m as g,zt as h,Gt as i,_ as j,bs as k,nn as l,W as m,Jt as n,qt as o,Es as p,C as r,ss as s,Be as u};
