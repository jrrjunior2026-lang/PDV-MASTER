# PDV Master - Environment Variables
# Copy this file to .env and configure your values

# ====================================================
# DEVELOPMENT ENVIRONMENT
# ====================================================

# Server Configuration
NODE_ENV=development
PORT=3001

# CORS Configuration
CORS_ORIGIN=http://localhost:3000

# ====================================================
# DATABASE CONFIGURATION
# ====================================================

# PostgreSQL Database
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=pdv_master
DATABASE_USER=pdv_master_user
DATABASE_PASSWORD=pdv_master_pass
DATABASE_SSL=false
DATABASE_MAX_CONNECTIONS=10

# ====================================================
# AUTHENTICATION & SECURITY
# ====================================================

# JWT Configuration
JWT_SECRET=change-this-to-secure-64-character-random-key-in-production-avoid-using-this-default
JWT_EXPIRES_IN=24h
JWT_REFRESH_SECRET=change-this-to-different-secure-64-character-key-from-jwt-secret-production-only
JWT_REFRESH_EXPIRES_IN=7d

# Password Security
BCRYPT_ROUNDS=12

# Certificate Encryption Key (32 bytes hex string for aes-256-gcm)
CERTIFICATE_ENCRYPTION_KEY=c1a7b298e5f4d6c3b2a197e8d0c5f6a3d9b8e7c6f5a4b3d2c10f9e8d7c6b5a4b


# ====================================================
# FILE UPLOAD CONFIGURATION
# ====================================================

# Upload Settings
MAX_FILE_SIZE=2097152
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/webp,application/pdf
UPLOAD_PATH=./uploads

# ====================================================
# EMAIL CONFIGURATION (Optional)
# ====================================================

# SMTP Settings
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password

# ====================================================
# FISCAL/SEFAZ CONFIGURATION (Brazil)
# ====================================================

# Environment: 1=Production, 2=Homologation
SEFAZ_ENVIRONMENT=2
CSC_ID=000001
CSC_TOKEN=TOKEN-DE-HOMOLOGACAO-SEFAZ

# Certificate Paths (Production)
# SEFAZ_CERT_PATH=./certs/certificado.p12
# SEFAZ_CERT_PASS=password-do-certificado

# ====================================================
# SYNC CONFIGURATION
# ====================================================

MAX_SYNC_ITEMS=1000
SYNC_RETRY_ATTEMPTS=3
SYNC_BATCH_SIZE=50
SYNC_TIMEOUT_MS=30000

# ====================================================
# RATE LIMITING & SECURITY
# ====================================================

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false

# Security Headers
SECURITY_HELMET=true

# Content Security Policy (optional)
CONTENT_SECURITY_POLICY=default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'

# HSTS (Production only)
HSTS_MAX_AGE=31536000

# ====================================================
# LOGGING & MONITORING
# ====================================================

LOG_LEVEL=info
LOG_TO_FILE=false
LOG_MAX_SIZE=10m
LOG_MAX_FILES=5

# Monitoring
MONITORING_ENABLED=false
HEALTH_CHECK_ENDPOINT=/health
METRICS_ENDPOINT=/metrics

# ====================================================
# CACHE & PERFORMANCE
# ====================================================

CACHE_ENABLED=false
CACHE_TTL_SECONDS=300
REDIS_URL=redis://localhost:6379

# ====================================================
# ADVANCED SECURITY
# ====================================================

# IP Whitelist (Production - Optional)
IP_WHITELIST=127.0.0.1,::1

# CORS Credentials
CORS_CREDENTIALS=false

# ====================================================
# DEVELOPMENT FLAGS (Never enable in production)
# ====================================================

DEBUG_MODE=false
EXPOSE_SWAGGER=false

# ====================================================
# PRODUCTION CHECKLIST
# ====================================================
#
# Before deploying to production:
#
# âœ… Change ALL default passwords and secrets
# âœ… Set NODE_ENV=production
# âœ… Configure DATABASE_SSL=true
# âœ… Ensure JWT_SECRET is 64+ characters random
# âœ… Set appropriate CORS_ORIGIN
# âœ… Configure SEFAZ for production if using NFC-e
# âœ… Set up SSL certificates
# âœ… Configure monitoring and alerting
# âœ… Set up automated backups
# âœ… Enable security headers properly
# âœ… Configure reverse proxy (nginx/external)
# âœ… Set appropriate resource limits
# âœ… Configure log aggregation
#
# ðŸš« Never commit secrets to version control!
# ðŸš« Never use default passwords in production!
# ðŸš« Never disable SSL in production!
#
# ====================================================
